)]}'
{"version": 3, "sources": ["/base/static/tests/test_ir_model_fields_translation.js", "/web/static/tests/legacy/helpers/cleanup.js", "/web/static/tests/legacy/helpers/utils.js", "/web/static/tests/legacy/utils.js", "/web/static/tests/tours/user_switch_tour.js", "/mail/static/tests/tours/activity_date_format_tour.js", "/mail/static/tests/tours/discuss_channel_as_guest_tour.js", "/mail/static/tests/tours/discuss_channel_call_public_tour.js", "/mail/static/tests/tours/discuss_channel_public_tour.js", "/mail/static/tests/tours/discuss_configuration_tour.js", "/mail/static/tests/tours/discuss_go_back_to_thread_from_breadcrumbs_tour.js", "/mail/static/tests/tours/discuss_sidebar_in_public_page_tour.js", "/mail/static/tests/tours/discuss_sub_channel_search_tour.js", "/mail/static/tests/tours/mail_activity_schedule_from_chatter.js", "/mail/static/tests/tours/mail_composer_test_tour.js", "/mail/static/tests/tours/mail_message_load_order_tour.js", "/mail/static/tests/tours/mail_template_dynamic_placeholder_tour.js", "/mail/static/tests/tours/user_modify_own_profile_tour.js", "/portal/static/tests/tours/portal.js", "/portal/static/tests/tours/skip_to_content.js", "/stock/static/tests/tours/stock_picking_tour.js", "/stock/static/tests/tours/stock_report_tests.js", "/account/static/tests/tours/tax_group_tests.js", "/account/static/tests/tours/tour_tests_shared_js_python.js", "/barcodes/static/tests/helpers.js", "/point_of_sale/static/tests/tours/acceptance_tour.js", "/point_of_sale/static/tests/tours/barcode_scanning_tour.js", "/point_of_sale/static/tests/tours/chrome_tour.js", "/point_of_sale/static/tests/tours/customer_display_tour.js", "/point_of_sale/static/tests/tours/fake_tours.js", "/point_of_sale/static/tests/tours/fixed_price_negative_qty_tour.js", "/point_of_sale/static/tests/tours/payment_screen_tour.js", "/point_of_sale/static/tests/tours/pos_cash_rounding_tour.js", "/point_of_sale/static/tests/tours/pos_combo_tour.js", "/point_of_sale/static/tests/tours/pricelist_tour.js", "/point_of_sale/static/tests/tours/product_configurator_tour.js", "/point_of_sale/static/tests/tours/product_screen_tour.js", "/point_of_sale/static/tests/tours/receipt_screen_tour.js", "/point_of_sale/static/tests/tours/ticket_screen_tour.js", "/point_of_sale/static/tests/tours/utils/chrome_util.js", "/point_of_sale/static/tests/tours/utils/combo_popup_util.js", "/point_of_sale/static/tests/tours/utils/common.js", "/point_of_sale/static/tests/tours/utils/dialog_util.js", "/point_of_sale/static/tests/tours/utils/generic_components/notification_util.js", "/point_of_sale/static/tests/tours/utils/generic_components/order_widget_util.js", "/point_of_sale/static/tests/tours/utils/number_popup_util.js", "/point_of_sale/static/tests/tours/utils/numpad_util.js", "/point_of_sale/static/tests/tours/utils/partner_list_util.js", "/point_of_sale/static/tests/tours/utils/payment_screen_util.js", "/point_of_sale/static/tests/tours/utils/pricelist_util.js", "/point_of_sale/static/tests/tours/utils/product_configurator_util.js", "/point_of_sale/static/tests/tours/utils/product_screen_partner_list_util.js", "/point_of_sale/static/tests/tours/utils/product_screen_util.js", "/point_of_sale/static/tests/tours/utils/receipt_screen_util.js", "/point_of_sale/static/tests/tours/utils/selection_popup_util.js", "/point_of_sale/static/tests/tours/utils/text_input_popup_util.js", "/point_of_sale/static/tests/tours/utils/ticket_screen_util.js", "/pos_restaurant/static/tests/tours/control_buttons_tour.js", "/pos_restaurant/static/tests/tours/fake_tours.js", "/pos_restaurant/static/tests/tours/floor_screen_tour.js", "/pos_restaurant/static/tests/tours/pos_restaurant_tour.js", "/pos_restaurant/static/tests/tours/refund_tour.js", "/pos_restaurant/static/tests/tours/split_bill_screen_tour.js", "/pos_restaurant/static/tests/tours/ticket_screen_tour.js", "/pos_restaurant/static/tests/tours/tip_screen_tour.js", "/pos_restaurant/static/tests/tours/utils/bill_screen_util.js", "/pos_restaurant/static/tests/tours/utils/chrome.js", "/pos_restaurant/static/tests/tours/utils/devices_synchronization.js", "/pos_restaurant/static/tests/tours/utils/floor_screen_util.js", "/pos_restaurant/static/tests/tours/utils/product_screen_util.js", "/pos_restaurant/static/tests/tours/utils/split_bill_screen_util.js", "/pos_restaurant/static/tests/tours/utils/tip_screen_util.js", "/calendar/static/tests/tours/calendar_tour.js", "/contacts/static/tests/tours/debug_menu_set_defaults.js", "/crm/static/tests/tours/create_crm_team_tour.js", "/crm/static/tests/tours/crm_email_and_phone_propagation.js", "/crm/static/tests/tours/crm_forecast_tour.js", "/crm/static/tests/tours/crm_rainbowman.js", "/project/static/tests/tours/personal_stage_tour.js", "/project/static/tests/tours/project_burndown_chart_tour.js", "/project/static/tests/tours/project_sharing_tour.js", "/project/static/tests/tours/project_tags_filter_tour_tests.js", "/project/static/tests/tours/project_task_history.js", "/project/static/tests/tours/project_tour.js", "/project/static/tests/tours/project_update_tour_tests.js", "/hr/static/tests/tours/hr_employee_flow.js", "/hr/static/tests/tours/user_modify_own_profile_tour.js", "/project_todo/static/tests/tours/project_task_activities_split.js", "/project_todo/static/tests/tours/project_todo_main_functions.js", "/hr_skills/static/tests/tours/skills_tour.js", "/auth_totp/static/tests/totp_flow.js", "/auth_totp_mail/static/tests/totp_flow.js", "/auth_totp_portal/static/tests/totp_portal.js", "/pos_hr/static/tests/tours/pos_hr_tour.js", "/pos_hr/static/tests/tours/utils/pos_hr_helpers.js", "/pos_online_payment/static/tests/tours/customer_display_tour.js", "/pos_online_payment/static/tests/tours/online_payment_tour.js", "/pos_online_payment_self_order/static/tests/tours/pos_online_payment_multi_table_order.js"], "mappings": "AAAA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AClHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9mCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC7qBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxJA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxNA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACXA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxIA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrRA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1KA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpuBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChIA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACXA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChPA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvJA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACfA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7OA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7rBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/KA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzsBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtMA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1UA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACVA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvXA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7tBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpNA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACTA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACPA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxNA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/GA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjMA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvvBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrOA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/JA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACdA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7HA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7JA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3JA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1FA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/NA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1PA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5JA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzMA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9KA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpLA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzYA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1IA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClLA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3GA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA", "sourcesContent": ["/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nfunction checkLoginColumn(translation) {\n    return [\n        stepUtils.showAppsMenuItem(), {\n            content: \"Settings\",\n            trigger: 'a[data-menu-xmlid=\"base.menu_administration\"]',\n            run: 'click',\n        }, {\n            content: \"Open Users & Companies\",\n            trigger: '[data-menu-xmlid=\"base.menu_users\"]',\n            run: \"click\",\n        }, {\n            content: \"Open Users\",\n            trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n            run: \"click\",\n        }, {\n            content: `Login column should be ${translation}`,\n            trigger: `[data-name=\"login\"] span:contains(\"${translation}\")`,\n        }\n    ]\n}\n\nregistry.category(\"web_tour.tours\").add('ir_model_fields_translation_en_tour', {\n    url: '/odoo',\n    steps: () => checkLoginColumn('Login')\n});\n\nregistry.category(\"web_tour.tours\").add('ir_model_fields_translation_en_tour2', {\n    url: '/odoo',\n    steps: () => checkLoginColumn('Login2')\n});\n\nregistry.category(\"web_tour.tours\").add('ir_model_fields_translation_fr_tour', {\n    url: '/odoo',\n    steps: () => checkLoginColumn('Identifiant')\n});\n\nregistry.category(\"web_tour.tours\").add('ir_model_fields_translation_fr_tour2', {\n    url: '/odoo',\n    steps: () => checkLoginColumn('Identifiant2')\n});\n", "/** @odoo-module alias=@web/../tests/helpers/cleanup default=false */\n\n// -----------------------------------------------------------------------------\n// Cleanup\n// -----------------------------------------------------------------------------\n\nconst cleanups = [];\n\n/**\n * Register a cleanup callback that will be executed whenever the current test\n * is done.\n *\n * - the cleanups will be executed in reverse order\n * - they will be executed even if the test fails/crashes\n *\n * @param {Function} callback\n */\nexport function registerCleanup(callback) {\n    cleanups.push(callback);\n}\n\nif (window.QUnit) {\n    QUnit.on(\"OdooAfterTestHook\", (info) => {\n        if (QUnit.config.debug) {\n            return;\n        }\n        let cleanup;\n        // note that this calls the cleanup callbacks in reverse order!\n        while ((cleanup = cleanups.pop())) {\n            try {\n                cleanup(info);\n            } catch (error) {\n                console.error(error);\n            }\n        }\n    });\n\n    // -----------------------------------------------------------------------------\n    // Check leftovers\n    // -----------------------------------------------------------------------------\n\n    /**\n     * List of elements tolerated in the body after a test. The property \"keep\"\n     * prevents the element from being removed (typically: qunit suite elements).\n     */\n    const validElements = [\n        // always in the body:\n        { tagName: \"DIV\", attr: \"id\", value: \"qunit\", keep: true },\n        { tagName: \"DIV\", attr: \"id\", value: \"qunit-fixture\", keep: true },\n        // shouldn't be in the body after a test but are tolerated:\n        { tagName: \"SCRIPT\", attr: \"id\", value: \"\" },\n        { tagName: \"DIV\", attr: \"class\", value: \"o_notification_manager\" },\n        { tagName: \"DIV\", attr: \"class\", value: \"tooltip fade bs-tooltip-auto\" },\n        { tagName: \"DIV\", attr: \"class\", value: \"tooltip fade bs-tooltip-auto show\" },\n        { tagName: \"DIV\", attr: \"class\", value: \"tooltip tooltip-field-info fade bs-tooltip-auto\" },\n        {\n            tagName: \"DIV\",\n            attr: \"class\",\n            value: \"tooltip tooltip-field-info fade bs-tooltip-auto show\",\n        },\n\n        // Due to a Document Kanban bug (already present in 12.0)\n        { tagName: \"DIV\", attr: \"class\", value: \"ui-helper-hidden-accessible\" },\n        {\n            tagName: \"UL\",\n            attr: \"class\",\n            value: \"ui-menu ui-widget ui-widget-content ui-autocomplete ui-front\",\n        },\n        {\n            tagName: \"UL\",\n            attr: \"class\",\n            value: \"ui-menu ui-widget ui-widget-content ui-autocomplete dropdown-menu ui-front\", // many2ones\n        },\n    ];\n\n    /**\n     * After each test, we check that there is no leftover in the DOM.\n     *\n     * Note: this event is not QUnit standard, we added it for this specific use case.\n     * As a payload, an object with keys 'moduleName' and 'testName' is provided. It\n     * is used to indicate the test that left elements in the DOM, when it happens.\n     */\n    QUnit.on(\"OdooAfterTestHook\", function (info) {\n        if (QUnit.config.debug) {\n            return;\n        }\n        const failed = info.testReport.getStatus() === \"failed\";\n        const toRemove = [];\n        // check for leftover elements in the body\n        for (const bodyChild of document.body.children) {\n            const tolerated = validElements.find(\n                (e) => e.tagName === bodyChild.tagName && bodyChild.getAttribute(e.attr) === e.value\n            );\n            if (!failed && !tolerated) {\n                QUnit.pushFailure(\n                    `Body still contains undesirable elements:\\n${bodyChild.outerHTML}`\n                );\n            }\n            if (!tolerated || !tolerated.keep) {\n                toRemove.push(bodyChild);\n            }\n        }\n        // cleanup leftovers in #qunit-fixture\n        const qunitFixture = document.getElementById(\"qunit-fixture\");\n        if (qunitFixture.children.length) {\n            toRemove.push(...qunitFixture.children);\n        }\n        // remove unwanted elements if not in debug\n        for (const el of toRemove) {\n            el.remove();\n        }\n        document.body.classList.remove(\"modal-open\");\n    });\n}\n", "/** @odoo-module alias=@web/../tests/helpers/utils default=false */\n\nimport { getTemplate } from \"@web/core/templates\";\nimport { browser } from \"@web/core/browser/browser\";\nimport { isMacOS } from \"@web/core/browser/feature_detection\";\nimport { download } from \"@web/core/network/download\";\nimport { getPopoverForTarget } from \"@web/core/popover/popover\";\nimport { Deferred } from \"@web/core/utils/concurrency\";\nimport { patch } from \"@web/core/utils/patch\";\nimport { isVisible } from \"@web/core/utils/ui\";\nimport { _t } from \"@web/core/l10n/translation\";\nimport { registerCleanup } from \"./cleanup\";\n\nimport {\n    App,\n    onError,\n    onMounted,\n    onPatched,\n    onRendered,\n    onWillDestroy,\n    onWillPatch,\n    onWillRender,\n    onWillStart,\n    onWillUnmount,\n    onWillUpdateProps,\n    useComponent,\n} from \"@odoo/owl\";\n\n/**\n * @typedef {keyof HTMLElementEventMap | keyof WindowEventMap} EventType\n *\n * @typedef {Side | `${Side}-${Side}` | { x?: number, y?: number }} Position\n *\n * @typedef {\"bottom\" | \"left\" | \"right\" | \"top\"} Side\n *\n * @typedef TriggerEventOptions\n * @property {boolean} [skipVisibilityCheck=false]\n * @property {boolean} [sync=false]\n */\n\n/**\n * Patch the native Date object\n *\n * Note that it will be automatically unpatched at the end of the test\n *\n * @param {number} [year]\n * @param {number} [month]\n * @param {number} [day]\n * @param {number} [hours]\n * @param {number} [minutes]\n * @param {number} [seconds]\n * @param {number} [ms=0]\n */\nexport function patchDate(year, month, day, hours, minutes, seconds, ms = 0) {\n    var RealDate = window.Date;\n    var actualDate = new RealDate();\n\n    // By default, RealDate uses the browser offset, so we must replace it with the offset fixed in luxon.\n    var fakeDate = new RealDate(year, month, day, hours, minutes, seconds, ms);\n    if (!(luxon.Settings.defaultZone instanceof luxon.FixedOffsetZone)) {\n        throw new Error(\"luxon.Settings.defaultZone must be a FixedOffsetZone\");\n    }\n    const browserOffset = -fakeDate.getTimezoneOffset();\n    const patchedOffset = luxon.Settings.defaultZone.offset();\n    const offsetDiff = patchedOffset - browserOffset;\n    const correctedMinutes = fakeDate.getMinutes() - offsetDiff;\n    fakeDate.setMinutes(correctedMinutes);\n\n    var timeInterval = actualDate.getTime() - fakeDate.getTime();\n\n    // eslint-disable-next-line no-global-assign\n    window.Date = (function (NativeDate) {\n        function Date(Y, M, D, h, m, s, ms) {\n            var length = arguments.length;\n            let date;\n            if (arguments.length > 0) {\n                date =\n                    length == 1 && String(Y) === Y // isString(Y)\n                        ? // We explicitly pass it through parse:\n                          new NativeDate(Date.parse(Y))\n                        : // We have to manually make calls depending on argument\n                        // length here\n                        length >= 7\n                        ? new NativeDate(Y, M, D, h, m, s, ms)\n                        : length >= 6\n                        ? new NativeDate(Y, M, D, h, m, s)\n                        : length >= 5\n                        ? new NativeDate(Y, M, D, h, m)\n                        : length >= 4\n                        ? new NativeDate(Y, M, D, h)\n                        : length >= 3\n                        ? new NativeDate(Y, M, D)\n                        : length >= 2\n                        ? new NativeDate(Y, M)\n                        : length >= 1\n                        ? new NativeDate(Y)\n                        : new NativeDate();\n                // Prevent mixups with unfixed Date object\n                date.constructor = Date;\n                return date;\n            } else {\n                date = new NativeDate();\n                var time = date.getTime();\n                time -= timeInterval;\n                date.setTime(time);\n                return date;\n            }\n        }\n\n        // Copy any custom methods a 3rd party library may have added\n        for (var key in NativeDate) {\n            Date[key] = NativeDate[key];\n        }\n\n        // Copy \"native\" methods explicitly; they may be non-enumerable\n        // exception: 'now' uses fake date as reference\n        Date.now = function () {\n            var date = new NativeDate();\n            var time = date.getTime();\n            time -= timeInterval;\n            return time;\n        };\n        Date.UTC = NativeDate.UTC;\n        Date.prototype = NativeDate.prototype;\n        Date.prototype.constructor = Date;\n\n        // Upgrade Date.parse to handle simplified ISO 8601 strings\n        Date.parse = NativeDate.parse;\n        return Date;\n    })(Date);\n\n    registerCleanup(() => {\n        window.Date = RealDate;\n    });\n}\n\n/**\n * Applies a fixed time zone to luxon based on an offset to the UTC time zone.\n *\n * @param {number} offset the number of minutes ahead or behind the UTC time zone\n *                          +120 => UTC+2\n *                          -120 => UTC-2\n */\nexport function patchTimeZone(offset) {\n    patchWithCleanup(luxon.Settings, { defaultZone: luxon.FixedOffsetZone.instance(offset) });\n}\n\n/**\n *\n * @param {Object} obj object to patch\n * @param {Object} patchValue the actual patch description\n */\nexport function patchWithCleanup(obj, patchValue) {\n    const unpatch = patch(obj, patchValue);\n    registerCleanup(() => {\n        unpatch();\n    });\n}\n\n/**\n * @returns {Element}\n */\nexport function getFixture() {\n    if (!window.QUnit) {\n        return document;\n    }\n    if (QUnit.config.debug) {\n        return document.body;\n    } else {\n        return document.getElementById(\"qunit-fixture\");\n    }\n}\n\nexport async function nextTick() {\n    await new Promise((resolve) => window.requestAnimationFrame(resolve));\n    await new Promise((resolve) => setTimeout(resolve));\n}\n\nexport function makeDeferred() {\n    return new Deferred();\n}\n\nexport function findElement(el, selector) {\n    let target = el;\n    if (selector) {\n        const els = el.querySelectorAll(selector);\n        if (els.length === 0) {\n            throw new Error(`No element found (selector: ${selector})`);\n        }\n        if (els.length > 1) {\n            throw new Error(`Found ${els.length} elements, instead of 1 (selector: ${selector})`);\n        }\n        target = els[0];\n    }\n    return target;\n}\n\n//-----------------------------------------------------------------------------\n// Event init attributes mappers\n//-----------------------------------------------------------------------------\n\n/** @param {EventInit} [args] */\nconst mapBubblingEvent = (args) => ({ ...args, bubbles: true });\n\n/** @param {EventInit} [args] */\nconst mapNonBubblingEvent = (args) => ({ ...args, bubbles: false });\n\n/** @param {EventInit} [args={}] */\nconst mapBubblingPointerEvent = (args = {}) => ({\n    clientX: args.pageX,\n    clientY: args.pageY,\n    ...args,\n    bubbles: true,\n    cancelable: true,\n    view: window,\n});\n\n/** @param {EventInit} [args] */\nconst mapNonBubblingPointerEvent = (args) => ({\n    ...mapBubblingPointerEvent(args),\n    bubbles: false,\n    cancelable: false,\n});\n\n/** @param {EventInit} [args={}] */\nconst mapCancelableTouchEvent = (args = {}) => ({\n    ...args,\n    bubbles: true,\n    cancelable: true,\n    composed: true,\n    rotation: 0.0,\n    touches: args.touches ? [...args.touches.map((e) => new Touch(e))] : undefined,\n    view: window,\n    zoom: 1.0,\n});\n\n/** @param {EventInit} [args] */\nconst mapNonCancelableTouchEvent = (args) => ({\n    ...mapCancelableTouchEvent(args),\n    cancelable: false,\n});\n\n/** @param {EventInit} [args] */\nconst mapKeyboardEvent = (args) => ({\n    ...args,\n    bubbles: true,\n    cancelable: true,\n});\n\n/**\n * @template {typeof Event} T\n * @param {EventType} eventType\n * @returns {[T, (attrs: EventInit) => EventInit]}\n */\nconst getEventConstructor = (eventType) => {\n    switch (eventType) {\n        // Mouse events\n        case \"auxclick\":\n        case \"click\":\n        case \"contextmenu\":\n        case \"dblclick\":\n        case \"mousedown\":\n        case \"mouseup\":\n        case \"mousemove\":\n        case \"mouseover\":\n        case \"mouseout\": {\n            return [MouseEvent, mapBubblingPointerEvent];\n        }\n        case \"mouseenter\":\n        case \"mouseleave\": {\n            return [MouseEvent, mapNonBubblingPointerEvent];\n        }\n        // Pointer events\n        case \"pointerdown\":\n        case \"pointerup\":\n        case \"pointermove\":\n        case \"pointerover\":\n        case \"pointerout\": {\n            return [PointerEvent, mapBubblingPointerEvent];\n        }\n        case \"pointerenter\":\n        case \"pointerleave\": {\n            return [PointerEvent, mapNonBubblingPointerEvent];\n        }\n        // Focus events\n        case \"focusin\": {\n            return [FocusEvent, mapBubblingEvent];\n        }\n        case \"focus\":\n        case \"blur\": {\n            return [FocusEvent, mapNonBubblingEvent];\n        }\n        // Clipboard events\n        case \"cut\":\n        case \"copy\":\n        case \"paste\": {\n            return [ClipboardEvent, mapBubblingEvent];\n        }\n        // Keyboard events\n        case \"keydown\":\n        case \"keypress\":\n        case \"keyup\": {\n            return [KeyboardEvent, mapKeyboardEvent];\n        }\n        // Drag events\n        case \"drag\":\n        case \"dragend\":\n        case \"dragenter\":\n        case \"dragstart\":\n        case \"dragleave\":\n        case \"dragover\":\n        case \"drop\": {\n            return [DragEvent, mapBubblingEvent];\n        }\n        // Input events\n        case \"input\": {\n            return [InputEvent, mapBubblingEvent];\n        }\n        // Composition events\n        case \"compositionstart\":\n        case \"compositionend\": {\n            return [CompositionEvent, mapBubblingEvent];\n        }\n        // UI events\n        case \"scroll\": {\n            return [UIEvent, mapNonBubblingEvent];\n        }\n        // Touch events\n        case \"touchstart\":\n        case \"touchend\":\n        case \"touchmove\": {\n            return [TouchEvent, mapCancelableTouchEvent];\n        }\n        case \"touchcancel\": {\n            return [TouchEvent, mapNonCancelableTouchEvent];\n        }\n        // Default: base Event constructor\n        default: {\n            return [Event, mapBubblingEvent];\n        }\n    }\n};\n\n/**\n * @template {EventType} T\n * @param {Element} el\n * @param {string | null | undefined | false} selector\n * @param {T} eventType\n * @param {EventInit} [eventInit]\n * @param {TriggerEventOptions} [options={}]\n * @returns {GlobalEventHandlersEventMap[T] | Promise<GlobalEventHandlersEventMap[T]>}\n */\nexport function triggerEvent(el, selector, eventType, eventInit, options = {}) {\n    const errors = [];\n    const target = findElement(el, selector);\n\n    // Error handling\n    if (typeof eventType !== \"string\") {\n        errors.push(\"event type must be a string\");\n    }\n    if (!target) {\n        errors.push(\"cannot find target\");\n    } else if (!options.skipVisibilityCheck && !isVisible(target)) {\n        errors.push(\"target is not visible\");\n    }\n    if (errors.length) {\n        throw new Error(\n            `Cannot trigger event${eventType ? ` \"${eventType}\"` : \"\"}${\n                selector ? ` (with selector \"${selector}\")` : \"\"\n            }: ${errors.join(\" and \")}`\n        );\n    }\n\n    // Actual dispatch\n    const [Constructor, processParams] = getEventConstructor(eventType);\n    const event = new Constructor(eventType, processParams(eventInit));\n    target.dispatchEvent(event);\n\n    if (window.QUnit && QUnit.config.debug) {\n        const group = `%c[${event.type.toUpperCase()}]`;\n        console.groupCollapsed(group, \"color: #b52c9b\");\n        console.log(target, event);\n        console.groupEnd(group, \"color: #b52c9b\");\n    }\n\n    if (options.sync) {\n        return event;\n    } else {\n        return nextTick().then(() => event);\n    }\n}\n\n/**\n * @param {Element} el\n * @param {string | null | undefined | false} selector\n * @param {(EventType | [EventType, EventInit])[]} [eventDefs]\n * @param {TriggerEventOptions} [options={}]\n */\nexport function triggerEvents(el, selector, eventDefs, options = {}) {\n    const events = [...eventDefs].map((eventDef) => {\n        const [eventType, eventInit] = Array.isArray(eventDef) ? eventDef : [eventDef, {}];\n        return triggerEvent(el, selector, eventType, eventInit, options);\n    });\n    if (options.sync) {\n        return events;\n    } else {\n        return nextTick().then(() => events);\n    }\n}\n\n/**\n * Triggers a scroll event on the given target\n *\n * If the target cannot be scrolled or an axis has reached\n * the end of the scrollable area, the event can be transmitted\n * to its nearest parent until it can be triggered\n *\n * @param {Element} target target of the scroll event\n * @param {Object} coordinates\n * @param {number} coordinates.left coordinates to scroll horizontally\n * @param {number} coordinates.top coordinates to scroll vertically\n * @param {boolean} canPropagate states if the scroll can propagate to a scrollable parent\n */\nexport async function triggerScroll(\n    target,\n    coordinates = { left: null, top: null },\n    canPropagate = true\n) {\n    const isScrollable =\n        (target.scrollHeight > target.clientHeight && target.clientHeight > 0) ||\n        (target.scrollWidth > target.clientWidth && target.clientWidth > 0);\n    if (!isScrollable && !canPropagate) {\n        return;\n    }\n    if (isScrollable) {\n        const canScrollFrom = {\n            left:\n                coordinates.left > target.scrollLeft\n                    ? target.scrollLeft + target.clientWidth < target.scrollWidth\n                    : target.scrollLeft > 0,\n            top:\n                coordinates.top > target.scrollTop\n                    ? target.scrollTop + target.clientHeight < target.scrollHeight\n                    : target.scrollTop > 0,\n        };\n        const scrollCoordinates = {};\n        Object.entries(coordinates).forEach(([key, value]) => {\n            if (value !== null && canScrollFrom[key]) {\n                scrollCoordinates[key] = value;\n                delete coordinates[key];\n            }\n        });\n        target.scrollTo(scrollCoordinates);\n        await triggerEvent(target, null, \"scroll\");\n        if (!canPropagate || !Object.entries(coordinates).length) {\n            return;\n        }\n    }\n    target.parentElement\n        ? triggerScroll(target.parentElement, coordinates)\n        : triggerEvent(window, null, \"scroll\");\n    await nextTick();\n}\n\nexport function click(\n    el,\n    selector,\n    { mouseEventInit = {}, skipDisabledCheck = false, skipVisibilityCheck = false } = {}\n) {\n    if (!skipDisabledCheck && el.disabled) {\n        throw new Error(\"Can't click on a disabled button\");\n    }\n    return triggerEvents(\n        el,\n        selector,\n        [\n            \"pointerdown\",\n            \"mousedown\",\n            \"focus\",\n            \"focusin\",\n            \"pointerup\",\n            \"mouseup\",\n            [\"click\", mouseEventInit],\n        ],\n        { skipVisibilityCheck }\n    );\n}\n\nexport function clickCreate(htmlElement) {\n    if (\n        htmlElement.querySelectorAll(\n            \".o_control_panel_main_buttons .o_form_button_create\"\n        ).length\n    ) {\n        return click(\n            htmlElement,\n            \".o_control_panel_main_buttons .o_form_button_create\"\n        );\n    } else if (\n        htmlElement.querySelectorAll(\n            \".o_control_panel_main_buttons .o_list_button_create\"\n        ).length\n    ) {\n        return click(\n            htmlElement,\n            \".o_control_panel_main_buttons .o_list_button_create\"\n        );\n    } else {\n        throw new Error(\"No edit button found to be clicked.\");\n    }\n}\n\nexport function clickEdit(htmlElement) {\n    if (htmlElement.querySelectorAll(\".o_list_button_edit\").length) {\n        return click(htmlElement, \".o_list_button_edit\");\n    } else {\n        throw new Error(\"No edit button found to be clicked.\");\n    }\n}\n\nexport async function clickSave(htmlElement) {\n    if (htmlElement.querySelectorAll(\".o_form_status_indicator\").length) {\n        await mouseEnter(htmlElement, \".o_form_status_indicator\");\n    }\n    if (htmlElement.querySelectorAll(\".o_form_button_save\").length) {\n        return click(htmlElement, \".o_form_button_save\");\n    }\n    const listSaveButtons = htmlElement.querySelectorAll(\".o_list_button_save\");\n    if (listSaveButtons.length) {\n        return listSaveButtons.length >= 2 ? click(listSaveButtons[1]) : click(listSaveButtons[0]);\n    } else {\n        throw new Error(\"No save button found to be clicked.\");\n    }\n}\n\nexport async function clickDiscard(htmlElement) {\n    if (htmlElement.querySelectorAll(\".o_form_status_indicator\").length) {\n        await mouseEnter(htmlElement, \".o_form_status_indicator\");\n    }\n    if (htmlElement.querySelectorAll(\".o_form_button_cancel\").length) {\n        return click(htmlElement, \".o_form_button_cancel\");\n    } else if ($(htmlElement).find(\".o_list_button_discard:visible\").length) {\n        return click($(htmlElement).find(\".o_list_button_discard:visible\").get(0));\n    } else {\n        throw new Error(\"No discard button found to be clicked.\");\n    }\n}\n\n/**\n * Trigger pointerenter and mouseenter events on the given target. If no\n * coordinates are given, the event is located by default\n * in the middle of the target to simplify the test process\n *\n * @param {Element} el\n * @param {string} selector\n * @param {Object} coordinates position of the mouseenter event\n */\nexport async function mouseEnter(el, selector, coordinates) {\n    const target = el.querySelector(selector) || el;\n    const atPos = coordinates || {\n        clientX: target.getBoundingClientRect().left + target.getBoundingClientRect().width / 2,\n        clientY: target.getBoundingClientRect().top + target.getBoundingClientRect().height / 2,\n    };\n    return triggerEvents(target, null, [\"pointerenter\", \"mouseenter\"], atPos);\n}\n\n/**\n * Trigger pointerleave and mouseleave events on the given target.\n *\n * @param {Element} el\n * @param {string} selector\n */\nexport async function mouseLeave(el, selector) {\n    const target = el.querySelector(selector) || el;\n    return triggerEvents(target, null, [\"pointerleave\", \"mouseleave\"]);\n}\n\nexport async function editInput(el, selector, value) {\n    const input = findElement(el, selector);\n    if (!(input instanceof HTMLInputElement || input instanceof HTMLTextAreaElement)) {\n        throw new Error(\"Only 'input' and 'textarea' elements can be edited with 'editInput'.\");\n    }\n    if (\n        ![\"text\", \"textarea\", \"email\", \"search\", \"color\", \"number\", \"file\", \"tel\"].includes(\n            input.type\n        )\n    ) {\n        throw new Error(`Type \"${input.type}\" not supported by 'editInput'.`);\n    }\n\n    const eventOpts = {};\n    if (input.type === \"file\") {\n        const files = Array.isArray(value) ? value : [value];\n        const dataTransfer = new DataTransfer();\n        for (const file of files) {\n            if (!(file instanceof File)) {\n                throw new Error(`File input value should be one or several File objects.`);\n            }\n            dataTransfer.items.add(file);\n        }\n        input.files = dataTransfer.files;\n        eventOpts.skipVisibilityCheck = true;\n    } else {\n        input.value = value;\n    }\n\n    await triggerEvents(input, null, [\"input\", \"change\"], eventOpts);\n\n    if (input.type === \"file\") {\n        // Need to wait for the file to be loaded by the input\n        await nextTick();\n        await nextTick();\n    }\n}\n\nexport function editSelect(el, selector, value) {\n    const select = findElement(el, selector);\n    if (select.tagName !== \"SELECT\") {\n        throw new Error(\"Only select tag can be edited with selectInput.\");\n    }\n    select.value = value;\n    return triggerEvent(select, null, \"change\");\n}\n\nexport async function editSelectMenu(el, selector, value) {\n    const dropdown = el.querySelector(selector);\n    await click(dropdown.querySelector(\".dropdown-toggle\"));\n    for (const item of Array.from(el.querySelectorAll(\".o_select_menu_menu .dropdown-item\"))) {\n        if (item.textContent === value) {\n            return click(item);\n        }\n    }\n}\n\n/**\n * Triggers an hotkey properly disregarding the operating system.\n *\n * @param {string} hotkey\n * @param {boolean} addOverlayModParts\n * @param {KeyboardEventInit} eventAttrs\n */\nexport async function triggerHotkey(hotkey, addOverlayModParts = false, eventAttrs = {}) {\n    eventAttrs.key = hotkey.split(\"+\").pop();\n\n    if (/shift/i.test(hotkey)) {\n        eventAttrs.shiftKey = true;\n    }\n\n    if (/control/i.test(hotkey)) {\n        if (isMacOS()) {\n            eventAttrs.metaKey = true;\n        } else {\n            eventAttrs.ctrlKey = true;\n        }\n    }\n\n    if (/alt/i.test(hotkey) || addOverlayModParts) {\n        if (isMacOS()) {\n            eventAttrs.ctrlKey = true;\n        } else {\n            eventAttrs.altKey = true;\n        }\n    }\n\n    if (!(\"bubbles\" in eventAttrs)) {\n        eventAttrs.bubbles = true;\n    }\n\n    const [keydownEvent, keyupEvent] = await triggerEvents(\n        document.activeElement,\n        null,\n        [\n            [\"keydown\", eventAttrs],\n            [\"keyup\", eventAttrs],\n        ],\n        { skipVisibilityCheck: true }\n    );\n\n    return { keydownEvent, keyupEvent };\n}\n\nexport function mockDownload(cb) {\n    patchWithCleanup(download, { _download: cb });\n}\n\nexport const hushConsole = Object.create(null);\nfor (const propName of Object.keys(window.console)) {\n    hushConsole[propName] = () => {};\n}\n\nexport function mockSendBeacon(mock) {\n    patchWithCleanup(navigator, {\n        sendBeacon: (url, blob) => {\n            return mock(url, blob) !== false;\n        },\n    });\n}\n\nexport function mockTimeout() {\n    const timeouts = new Map();\n    let currentTime = 0;\n    let id = 1;\n    patchWithCleanup(browser, {\n        setTimeout(fn, delay = 0) {\n            timeouts.set(id, { fn, scheduledFor: delay + currentTime, id });\n            return id++;\n        },\n        clearTimeout(id) {\n            timeouts.delete(id);\n        },\n    });\n    return {\n        execRegisteredTimeouts() {\n            for (const { fn } of timeouts.values()) {\n                fn();\n            }\n            timeouts.clear();\n        },\n        async advanceTime(duration) {\n            // wait here so all microtasktick scheduled in this frame can be\n            // executed and possibly register their own timeout\n            await nextTick();\n            currentTime += duration;\n            for (const { fn, scheduledFor, id } of timeouts.values()) {\n                if (scheduledFor <= currentTime) {\n                    fn();\n                    timeouts.delete(id);\n                }\n            }\n            // wait here to make sure owl can update the UI\n            await nextTick();\n        },\n    };\n}\n\nexport function mockAnimationFrame() {\n    const callbacks = new Map();\n    let currentTime = 0;\n    let id = 1;\n    patchWithCleanup(browser, {\n        requestAnimationFrame(fn) {\n            callbacks.set(id, { fn, scheduledFor: 16 + currentTime, id });\n            return id++;\n        },\n        cancelAnimationFrame(id) {\n            callbacks.delete(id);\n        },\n        performance: { now: () => currentTime },\n    });\n    return {\n        execRegisteredAnimationFrames() {\n            for (const { fn } of callbacks.values()) {\n                fn(currentTime);\n            }\n            callbacks.clear();\n        },\n        async advanceFrame(count = 1) {\n            // wait here so all microtasktick scheduled in this frame can be\n            // executed and possibly register their own timeout\n            await nextTick();\n            currentTime += 16 * count;\n            for (const { fn, scheduledFor, id } of callbacks.values()) {\n                if (scheduledFor <= currentTime) {\n                    fn(currentTime);\n                    callbacks.delete(id);\n                }\n            }\n            // wait here to make sure owl can update the UI\n            await nextTick();\n        },\n    };\n}\n\nexport async function mount(Comp, target, config = {}) {\n    let { props, env } = config;\n    env = env || {};\n    const configuration = {\n        env,\n        getTemplate,\n        test: true,\n        props,\n    };\n    if (env.services && \"localization\" in env.services) {\n        configuration.translateFn = _t;\n    }\n    const app = new App(Comp, configuration);\n    registerCleanup(() => app.destroy());\n    return app.mount(target);\n}\n\nexport function destroy(comp) {\n    comp.__owl__.app.destroy();\n}\n\nexport function findChildren(comp, predicate = (e) => e) {\n    const queue = [];\n    [].unshift.apply(queue, Object.values(comp.__owl__.children));\n\n    while (queue.length > 0) {\n        const curNode = queue.pop();\n        if (predicate(curNode)) {\n            return curNode;\n        }\n        [].unshift.apply(queue, Object.values(curNode.component.__owl__.children));\n    }\n}\n\n// partial replacement of t-ref on component\nexport function useChild() {\n    const node = useComponent().__owl__;\n    const setChild = () => {\n        const componentNode = Object.values(node.children)[0];\n        node.component.child = componentNode.component;\n    };\n    onMounted(setChild);\n    onPatched(setChild);\n}\n\nexport function useLogLifeCycle(logFn, name = \"\") {\n    const component = useComponent();\n    let loggedName = `${component.constructor.name}`;\n    if (name) {\n        loggedName = `${component.constructor.name} ${name}`;\n    }\n    onError(() => {\n        logFn(`onError ${loggedName}`);\n    });\n    onMounted(() => {\n        logFn(`onMounted ${loggedName}`);\n    });\n    onPatched(() => {\n        logFn(`onPatched ${loggedName}`);\n    });\n    onRendered(() => {\n        logFn(`onRendered ${loggedName}`);\n    });\n    onWillDestroy(() => {\n        logFn(`onWillDestroy ${loggedName}`);\n    });\n    onWillPatch(() => {\n        logFn(`onWillPatch ${loggedName}`);\n    });\n    onWillRender(() => {\n        logFn(`onWillRender ${loggedName}`);\n    });\n    onWillStart(() => {\n        logFn(`onWillStart ${loggedName}`);\n    });\n    onWillUnmount(() => {\n        logFn(`onWillUnmount ${loggedName}`);\n    });\n    onWillUpdateProps(() => {\n        logFn(`onWillUpdateProps ${loggedName}`);\n    });\n}\n\n/**\n * Returns the list of nodes containing n2 (included) that do not contain n1.\n *\n * @param {Node} n1\n * @param {Node} n2\n * @returns {Node[]}\n */\nfunction getDifferentParents(n1, n2) {\n    const parents = [n2];\n    while (parents[0].parentNode) {\n        const parent = parents[0].parentNode;\n        if (parent.contains(n1)) {\n            break;\n        }\n        parents.unshift(parent);\n    }\n    return parents;\n}\n\n/**\n * Helper performing a drag and drop sequence.\n *\n * - 'from' is used to determine the element on which the drag will start;\n * - 'target' will determine the element on which the first one will be dropped.\n *\n * The first element will be dragged by its center, and will be dropped on the\n * bottom-right inner pixel of the target element. This behavior covers both\n * cases of appending the first element to the end of a list (toSelector =\n * target list) or moving it at the position of another element, effectively\n * placing the first element before the second (toSelector = other element).\n *\n * A position can be given to drop the first element above, below, or on the\n * side of the second (default is inside, as specified above).\n *\n * Note that only the last event is awaited, since all the others are\n * considered to be synchronous.\n *\n * @param {Element | string} from\n * @param {Element | string} to\n * @param {Position} [position]\n */\nexport async function dragAndDrop(from, to, position) {\n    const { drop } = await drag(from);\n    await drop(to, position);\n}\n\n/**\n * Helper performing a drag.\n *\n * - the 'from' selector is used to determine the element on which the drag will\n *  start;\n * - the 'target' selector will determine the element on which the dragged element will be\n * moved.\n *\n * Returns a drop function\n *\n * @param {Element | string} from\n */\nexport async function drag(from, pointerType = \"mouse\") {\n    const assertIsDragging = (fn, endDrag) => {\n        return {\n            async [fn.name](...args) {\n                if (dragEndReason) {\n                    throw new Error(\n                        `Cannot execute drag helper '${fn.name}': drag sequence has been ended by '${dragEndReason}'.`\n                    );\n                }\n                await fn(...args);\n                if (endDrag) {\n                    dragEndReason = fn.name;\n                }\n            },\n        }[fn.name];\n    };\n\n    const cancel = assertIsDragging(async function cancel() {\n        await triggerEvent(window, null, \"keydown\", { key: \"Escape\" });\n    }, true);\n\n    /**\n     * @param {Element | string} [to]\n     * @param {Position} [position]\n     */\n    const drop = assertIsDragging(async function drop(to, position) {\n        if (to) {\n            await moveTo(to, position);\n        }\n        await triggerEvent(target || source, null, \"pointerup\", targetPosition);\n    }, true);\n\n    /**\n     * @param {Element | string} selector\n     */\n    const getEl = (selector) =>\n        selector instanceof Element ? selector : fixture.querySelector(selector);\n\n    /**\n     * @param {Position} [position]\n     */\n    const getTargetPosition = (position) => {\n        const tRect = target.getBoundingClientRect();\n        const tPos = {\n            clientX: Math.floor(tRect.x),\n            clientY: Math.floor(tRect.y),\n        };\n        if (position && typeof position === \"object\") {\n            // x and y coordinates start from the element's initial coordinates\n            tPos.clientX += position.x || 0;\n            tPos.clientY += position.y || 0;\n        } else {\n            const positions = typeof position === \"string\" ? position.split(\"-\") : [];\n\n            // X position\n            if (positions.includes(\"left\")) {\n                tPos.clientX -= 1;\n            } else if (positions.includes(\"right\")) {\n                tPos.clientX += Math.ceil(tRect.width) + 1;\n            } else {\n                tPos.clientX += Math.floor(tRect.width / 2);\n            }\n\n            // Y position\n            if (positions.includes(\"top\")) {\n                tPos.clientY -= 1;\n            } else if (positions.includes(\"bottom\")) {\n                tPos.clientY += Math.ceil(tRect.height) + 1;\n            } else {\n                tPos.clientY += Math.floor(tRect.height / 2);\n            }\n        }\n        return tPos;\n    };\n\n    /**\n     * @param {Element | string} [to]\n     * @param {Position} [position]\n     */\n    const moveTo = assertIsDragging(async function moveTo(to, position) {\n        target = getEl(to);\n        if (!target) {\n            return;\n        }\n\n        // Recompute target position\n        targetPosition = getTargetPosition(position);\n\n        // Move, enter and drop the element on the target\n        await triggerEvent(source, null, \"pointermove\", { ...targetPosition, button: -1 });\n\n        // \"pointerenter\" is fired on every parent of `target` that do not contain\n        // `from` (typically: different parent lists).\n        for (const parent of getDifferentParents(source, target)) {\n            triggerEvent(parent, null, \"pointerenter\", targetPosition);\n        }\n        await nextTick();\n\n        return dragHelpers;\n    }, false);\n\n    const dragHelpers = { cancel, drop, moveTo };\n    const fixture = getFixture();\n\n    const source = getEl(from instanceof Element ? from : fixture.querySelector(from));\n    const sourceRect = source.getBoundingClientRect();\n\n    let dragEndReason = null;\n    let target;\n    let targetPosition;\n\n    // Pointer down on main target\n    await triggerEvent(source, null, \"pointerdown\", {\n        pointerType,\n        clientX: sourceRect.x + sourceRect.width / 2,\n        clientY: sourceRect.y + sourceRect.height / 2,\n    });\n\n    return dragHelpers;\n}\n\n/**\n * Returns the dropdown menu for a specific toggler.\n *\n * @param {HTMLElement} target\n * @param {String|HTMLElement} togglerSelector\n * @returns {HTMLElement|undefined}\n */\nexport function getDropdownMenu(target, togglerSelector) {\n    if (!(target instanceof HTMLElement)) {\n        throw new Error(`getDropdownMenu: target is not an HTMLElement.`);\n    }\n    let el =\n        togglerSelector instanceof HTMLElement\n            ? togglerSelector\n            : target.querySelector(togglerSelector);\n\n    if (el && !el.classList.contains(\"o-dropdown\")) {\n        el = el.querySelector(\".o-dropdown\");\n    }\n    if (!el) {\n        throw new Error(`getDropdownMenu: Could not find element \"${togglerSelector}\".`);\n    }\n    return getPopoverForTarget(el);\n}\n\nexport async function clickDropdown(target, fieldName) {\n    const dropdownInput = target.querySelector(`[name='${fieldName}'] .dropdown input`);\n    dropdownInput.focus();\n    await nextTick();\n    await click(dropdownInput);\n}\n\nexport async function clickOpenedDropdownItem(target, fieldName, itemContent) {\n    const dropdowns = target.querySelectorAll(`[name='${fieldName}'] .dropdown .dropdown-menu`);\n    if (dropdowns.length === 0) {\n        throw new Error(`No dropdown found for field ${fieldName}`);\n    } else if (dropdowns.length > 1) {\n        throw new Error(`Found ${dropdowns.length} dropdowns for field ${fieldName}`);\n    }\n    const dropdownItems = dropdowns[0].querySelectorAll(\"li\");\n    const indexToClick = Array.from(dropdownItems)\n        .map((html) => html.textContent)\n        .indexOf(itemContent);\n    if (indexToClick === -1) {\n        throw new Error(`The element '${itemContent}' does not exist in the dropdown`);\n    }\n    await click(dropdownItems[indexToClick]);\n}\n\nexport async function selectDropdownItem(target, fieldName, itemContent) {\n    await clickDropdown(target, fieldName);\n    await clickOpenedDropdownItem(target, fieldName, itemContent);\n}\n\nexport function getNodesTextContent(nodes) {\n    return Array.from(nodes).map((n) => n.textContent);\n}\n\n/**\n * Click to open the dropdown on a many2one\n */\nexport async function clickOpenM2ODropdown(el, fieldName, selector) {\n    const m2oSelector = `${selector || \"\"} .o_field_many2one[name=${fieldName}] input`;\n    const matches = el.querySelectorAll(m2oSelector);\n    if (matches.length !== 1) {\n        throw new Error(\n            `cannot open m2o: selector ${selector} has been found ${matches.length} instead of 1`\n        );\n    }\n\n    await click(matches[0]);\n    return matches[0];\n}\n\n/**\n * Click on the active (highlighted) selection in a m2o dropdown.\n */\n// TO FIX\nexport async function clickM2OHighlightedItem(el, fieldName, selector) {\n    const m2oSelector = `${selector || \"\"} .o_field_many2one[name=${fieldName}] input`;\n    // const $dropdown = $(m2oSelector).autocomplete('widget');\n    const matches = el.querySelectorAll(m2oSelector);\n    if (matches.length !== 1) {\n        throw new Error(\n            `cannot open m2o: selector ${selector} has been found ${matches.length} instead of 1`\n        );\n    }\n    // clicking on an li (no matter which one), will select the focussed one\n    return click(matches[0].parentElement.querySelector(\"li\"));\n}\n\n// X2Many\nexport async function addRow(target, selector) {\n    await click(target.querySelector(`${selector ? selector : \"\"} .o_field_x2many_list_row_add a`));\n}\n\nexport async function removeRow(target, index) {\n    await click(target.querySelectorAll(\".o_list_record_remove\")[index]);\n}\n", "/** @odoo-module alias=@web/../tests/utils default=false */\n\nimport { isVisible } from \"@web/core/utils/ui\";\nimport { registerCleanup } from \"@web/../tests/helpers/cleanup\";\nimport {\n    click as webClick,\n    getFixture,\n    makeDeferred,\n    triggerEvents as webTriggerEvents,\n} from \"@web/../tests/helpers/utils\";\n\n/**\n * Create a fake object 'dataTransfer', linked to some files,\n * which is passed to drag and drop events.\n *\n * @param {Object[]} files\n * @returns {Object}\n */\nfunction createFakeDataTransfer(files) {\n    return {\n        dropEffect: \"all\",\n        effectAllowed: \"all\",\n        files,\n        items: [],\n        types: [\"Files\"],\n    };\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then clicks on it.\n *\n * @param {string} selector\n * @param {ContainsOptions} [options] forwarded to `contains`\n * @param {boolean} [options.shiftKey]\n */\nexport async function click(selector, options = {}) {\n    const { shiftKey } = options;\n    delete options.shiftKey;\n    await contains(selector, { click: { shiftKey }, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then dragenters `files` on it.\n *\n * @param {string} selector\n * @param {Object[]} files\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function dragenterFiles(selector, files, options) {\n    await contains(selector, { dragenterFiles: files, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then dragovers `files` on it.\n *\n * @param {string} selector\n * @param {Object[]} files\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function dragoverFiles(selector, files, options) {\n    await contains(selector, { dragoverFiles: files, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then drops `files` on it.\n *\n * @param {string} selector\n * @param {Object[]} files\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function dropFiles(selector, files, options) {\n    await contains(selector, { dropFiles: files, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then inputs `files` on it.\n *\n * @param {string} selector\n * @param {Object[]} files\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function inputFiles(selector, files, options) {\n    await contains(selector, { inputFiles: files, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then pastes `files` on it.\n *\n * @param {string} selector\n * @param {Object[]} files\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function pasteFiles(selector, files, options) {\n    await contains(selector, { pasteFiles: files, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then focuses on it.\n *\n * @param {string} selector\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function focus(selector, options) {\n    await contains(selector, { setFocus: true, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then inserts the given `content`.\n *\n * @param {string} selector\n * @param {string} content\n * @param {ContainsOptions} [options] forwarded to `contains`\n * @param {boolean} [options.replace=false]\n */\nexport async function insertText(selector, content, options = {}) {\n    const { replace = false } = options;\n    delete options.replace;\n    await contains(selector, { ...options, insertText: { content, replace } });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then sets its `scrollTop` to the given value.\n *\n * @param {string} selector\n * @param {number|\"bottom\"} scrollTop\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function scroll(selector, scrollTop, options) {\n    await contains(selector, { setScroll: scrollTop, ...options });\n}\n\n/**\n * Waits until exactly one element matching the given `selector` is present in\n * `options.target` and then triggers `event` on it.\n *\n * @param {string} selector\n * @param {(import(\"@web/../tests/helpers/utils\").EventType|[import(\"@web/../tests/helpers/utils\").EventType, EventInit])[]} events\n * @param {ContainsOptions} [options] forwarded to `contains`\n */\nexport async function triggerEvents(selector, events, options) {\n    await contains(selector, { triggerEvents: events, ...options });\n}\n\nfunction log(ok, message) {\n    if (window.QUnit) {\n        QUnit.assert.ok(ok, message);\n    } else {\n        if (ok) {\n            console.log(message);\n        } else {\n            console.error(message);\n        }\n    }\n}\n\nlet hasUsedContainsPositively = false;\nif (window.QUnit) {\n    QUnit.testStart(() => (hasUsedContainsPositively = false));\n}\n/**\n * @typedef {[string, ContainsOptions]} ContainsTuple tuple representing params of the contains\n *  function, where the first element is the selector, and the second element is the options param.\n * @typedef {Object} ContainsOptions\n * @property {ContainsTuple} [after] if provided, the found element(s) must be after the element\n *  matched by this param.\n * @property {ContainsTuple} [before] if provided, the found element(s) must be before the element\n *  matched by this param.\n * @property {Object} [click] if provided, clicks on the first found element\n * @property {ContainsTuple|ContainsTuple[]} [contains] if provided, the found element(s) must\n *  contain the provided sub-elements.\n * @property {number} [count=1] numbers of elements to be found to declare the contains check\n *  as successful. Elements are counted after applying all other filters.\n * @property {Object[]} [dragenterFiles] if provided, dragenters the given files on the found element\n * @property {Object[]} [dragoverFiles] if provided, dragovers the given files on the found element\n * @property {Object[]} [dropFiles] if provided, drops the given files on the found element\n * @property {Object[]} [inputFiles] if provided, inputs the given files on the found element\n * @property {{content:string, replace:boolean}} [insertText] if provided, adds to (or replace) the\n *  value of the first found element by the given content.\n * @property {ContainsTuple} [parent] if provided, the found element(s) must have as\n *  parent the node matching the parent parameter.\n * @property {Object[]} [pasteFiles] if provided, pastes the given files on the found element\n * @property {number|\"bottom\"} [scroll] if provided, the scrollTop of the found element(s)\n *  must match.\n *  Note: when using one of the scrollTop options, it is advised to ensure the height is not going\n *  to change soon, by checking with a preceding contains that all the expected elements are in DOM.\n * @property {boolean} [setFocus] if provided, focuses the first found element.\n * @property {boolean} [shadowRoot] if provided, targets the shadowRoot of the found elements.\n * @property {number|\"bottom\"} [setScroll] if provided, sets the scrollTop on the first found\n *  element.\n * @property {HTMLElement} [target=getFixture()]\n * @property {string[]} [triggerEvents] if provided, triggers the given events on the found element\n * @property {string} [text] if provided, the textContent of the found element(s) or one of their\n *  descendants must match. Use `textContent` option for a match on the found element(s) only.\n * @property {string} [textContent] if provided, the textContent of the found element(s) must match.\n *  Prefer `text` option for a match on the found element(s) or any of their descendants, usually\n *  allowing for a simpler and less specific selector.\n * @property {string} [value] if provided, the input value of the found element(s) must match.\n *  Note: value changes are not observed directly, another mutation must happen to catch them.\n * @property {boolean} [visible] if provided, the found element(s) must be (in)visible\n */\nclass Contains {\n    /**\n     * @param {string} selector\n     * @param {ContainsOptions} [options={}]\n     */\n    constructor(selector, options = {}) {\n        this.selector = selector;\n        this.options = options;\n        this.options.count ??= 1;\n        this.options.targetParam = this.options.target;\n        this.options.target ??= getFixture();\n        let selectorMessage = `${this.options.count} of \"${this.selector}\"`;\n        if (this.options.visible !== undefined) {\n            selectorMessage = `${selectorMessage} ${\n                this.options.visible ? \"visible\" : \"invisible\"\n            }`;\n        }\n        if (this.options.targetParam) {\n            selectorMessage = `${selectorMessage} inside a specific target`;\n        }\n        if (this.options.parent) {\n            selectorMessage = `${selectorMessage} inside a specific parent`;\n        }\n        if (this.options.contains) {\n            selectorMessage = `${selectorMessage} with a specified sub-contains`;\n        }\n        if (this.options.text !== undefined) {\n            selectorMessage = `${selectorMessage} with text \"${this.options.text}\"`;\n        }\n        if (this.options.textContent !== undefined) {\n            selectorMessage = `${selectorMessage} with textContent \"${this.options.textContent}\"`;\n        }\n        if (this.options.value !== undefined) {\n            selectorMessage = `${selectorMessage} with value \"${this.options.value}\"`;\n        }\n        if (this.options.scroll !== undefined) {\n            selectorMessage = `${selectorMessage} with scroll \"${this.options.scroll}\"`;\n        }\n        if (this.options.after !== undefined) {\n            selectorMessage = `${selectorMessage} after a specified element`;\n        }\n        if (this.options.before !== undefined) {\n            selectorMessage = `${selectorMessage} before a specified element`;\n        }\n        this.selectorMessage = selectorMessage;\n        if (this.options.contains && !Array.isArray(this.options.contains[0])) {\n            this.options.contains = [this.options.contains];\n        }\n        if (this.options.count) {\n            hasUsedContainsPositively = true;\n        } else if (!hasUsedContainsPositively) {\n            throw new Error(\n                `Starting a test with \"contains\" of count 0 for selector \"${this.selector}\" is useless because it might immediately resolve. Start the test by checking that an expected element actually exists.`\n            );\n        }\n        /** @type {string} */\n        this.successMessage = undefined;\n        /** @type {function} */\n        this.executeError = undefined;\n    }\n\n    /**\n     * Starts this contains check, either immediately resolving if there is a\n     * match, or registering appropriate listeners and waiting until there is a\n     * match or a timeout (resolving or rejecting respectively).\n     *\n     * Success or failure messages will be logged with QUnit as well.\n     *\n     * @returns {Promise}\n     */\n    run() {\n        this.done = false;\n        this.def = makeDeferred();\n        this.scrollListeners = new Set();\n        this.onScroll = () => this.runOnce(\"after scroll\");\n        if (!this.runOnce(\"immediately\")) {\n            this.timer = setTimeout(\n                () => this.runOnce(\"Timeout of 5 seconds\", { crashOnFail: true }),\n                5000\n            );\n            this.observer = new MutationObserver((mutations) => {\n                try {\n                    this.runOnce(\"after mutations\");\n                } catch (e) {\n                    this.def.reject(e); // prevents infinite loop in case of programming error\n                }\n            });\n            this.observer.observe(this.options.target, {\n                attributes: true,\n                childList: true,\n                subtree: true,\n            });\n            registerCleanup(() => {\n                if (!this.done) {\n                    this.runOnce(\"Test ended\", { crashOnFail: true });\n                }\n            });\n        }\n        return this.def;\n    }\n\n    /**\n     * Runs this contains check once, immediately returning the result (or\n     * undefined), and possibly resolving or rejecting the main promise\n     * (and printing QUnit log) depending on options.\n     * If undefined is returned it means the check was not successful.\n     *\n     * @param {string} whenMessage\n     * @param {Object} [options={}]\n     * @param {boolean} [options.crashOnFail=false]\n     * @param {boolean} [options.executeOnSuccess=true]\n     * @returns {HTMLElement[]|undefined}\n     */\n    runOnce(whenMessage, { crashOnFail = false, executeOnSuccess = true } = {}) {\n        const res = this.select();\n        if (res?.length === this.options.count || crashOnFail) {\n            // clean before doing anything else to avoid infinite loop due to side effects\n            this.observer?.disconnect();\n            clearTimeout(this.timer);\n            for (const el of this.scrollListeners ?? []) {\n                el.removeEventListener(\"scroll\", this.onScroll);\n            }\n            this.done = true;\n        }\n        if (res?.length === this.options.count) {\n            this.successMessage = `Found ${this.selectorMessage} (${whenMessage})`;\n            if (executeOnSuccess) {\n                this.executeAction(res[0]);\n            }\n            return res;\n        } else {\n            this.executeError = () => {\n                let message = `Failed to find ${this.selectorMessage} (${whenMessage}).`;\n                message = res\n                    ? `${message} Found ${res.length} instead.`\n                    : `${message} Parent not found.`;\n                if (this.parentContains) {\n                    if (this.parentContains.successMessage) {\n                        log(true, this.parentContains.successMessage);\n                    } else {\n                        this.parentContains.executeError();\n                    }\n                }\n                log(false, message);\n                this.def?.reject(new Error(message));\n                for (const childContains of this.childrenContains || []) {\n                    if (childContains.successMessage) {\n                        log(true, childContains.successMessage);\n                    } else {\n                        childContains.executeError();\n                    }\n                }\n            };\n            if (crashOnFail) {\n                this.executeError();\n            }\n        }\n    }\n\n    /**\n     * Executes the action(s) given to this constructor on the found element,\n     * prints the success messages, and resolves the main deferred.\n\n     * @param {HTMLElement} el\n     */\n    executeAction(el) {\n        let message = this.successMessage;\n        if (this.options.click) {\n            message = `${message} and clicked it`;\n            webClick(el, undefined, {\n                mouseEventInit: this.options.click,\n                skipDisabledCheck: true,\n                skipVisibilityCheck: true,\n            });\n        }\n        if (this.options.dragenterFiles) {\n            message = `${message} and dragentered ${this.options.dragenterFiles.length} file(s)`;\n            const ev = new Event(\"dragenter\", { bubbles: true });\n            Object.defineProperty(ev, \"dataTransfer\", {\n                value: createFakeDataTransfer(this.options.dragenterFiles),\n            });\n            el.dispatchEvent(ev);\n        }\n        if (this.options.dragoverFiles) {\n            message = `${message} and dragovered ${this.options.dragoverFiles.length} file(s)`;\n            const ev = new Event(\"dragover\", { bubbles: true });\n            Object.defineProperty(ev, \"dataTransfer\", {\n                value: createFakeDataTransfer(this.options.dragoverFiles),\n            });\n            el.dispatchEvent(ev);\n        }\n        if (this.options.dropFiles) {\n            message = `${message} and dropped ${this.options.dropFiles.length} file(s)`;\n            const ev = new Event(\"drop\", { bubbles: true });\n            Object.defineProperty(ev, \"dataTransfer\", {\n                value: createFakeDataTransfer(this.options.dropFiles),\n            });\n            el.dispatchEvent(ev);\n        }\n        if (this.options.inputFiles) {\n            message = `${message} and inputted ${this.options.inputFiles.length} file(s)`;\n            // could not use _createFakeDataTransfer as el.files assignation will only\n            // work with a real FileList object.\n            const dataTransfer = new window.DataTransfer();\n            for (const file of this.options.inputFiles) {\n                dataTransfer.items.add(file);\n            }\n            el.files = dataTransfer.files;\n            /**\n             * Changing files programatically is not supposed to trigger the event but\n             * it does in Chrome versions before 73 (which is on runbot), so in that\n             * case there is no need to make a manual dispatch, because it would lead to\n             * the files being added twice.\n             */\n            const versionRaw = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n            const chromeVersion = versionRaw ? parseInt(versionRaw[2], 10) : false;\n            if (!chromeVersion || chromeVersion >= 73) {\n                el.dispatchEvent(new Event(\"change\"));\n            }\n        }\n        if (this.options.insertText !== undefined) {\n            message = `${message} and inserted text \"${this.options.insertText.content}\" (replace: ${this.options.insertText.replace})`;\n            el.focus();\n            if (this.options.insertText.replace) {\n                el.value = \"\";\n                el.dispatchEvent(new window.KeyboardEvent(\"keydown\", { key: \"Backspace\" }));\n                el.dispatchEvent(new window.KeyboardEvent(\"keyup\", { key: \"Backspace\" }));\n                el.dispatchEvent(new window.InputEvent(\"input\"));\n            }\n            for (const char of this.options.insertText.content) {\n                el.value += char;\n                el.dispatchEvent(new window.KeyboardEvent(\"keydown\", { key: char }));\n                el.dispatchEvent(new window.KeyboardEvent(\"keyup\", { key: char }));\n                el.dispatchEvent(new window.InputEvent(\"input\"));\n            }\n            el.dispatchEvent(new window.InputEvent(\"change\"));\n        }\n        if (this.options.pasteFiles) {\n            message = `${message} and pasted ${this.options.pasteFiles.length} file(s)`;\n            const ev = new Event(\"paste\", { bubbles: true });\n            Object.defineProperty(ev, \"clipboardData\", {\n                value: createFakeDataTransfer(this.options.pasteFiles),\n            });\n            el.dispatchEvent(ev);\n        }\n        if (this.options.setFocus) {\n            message = `${message} and focused it`;\n            el.focus();\n        }\n        if (this.options.setScroll !== undefined) {\n            message = `${message} and set scroll to \"${this.options.setScroll}\"`;\n            el.scrollTop =\n                this.options.setScroll === \"bottom\" ? el.scrollHeight : this.options.setScroll;\n        }\n        if (this.options.triggerEvents) {\n            message = `${message} and triggered \"${this.options.triggerEvents.join(\", \")}\" events`;\n            webTriggerEvents(el, null, this.options.triggerEvents, {\n                skipVisibilityCheck: true,\n            });\n        }\n        if (this.parentContains) {\n            log(true, this.parentContains.successMessage);\n        }\n        log(true, message);\n        for (const childContains of this.childrenContains) {\n            log(true, childContains.successMessage);\n        }\n        this.def?.resolve();\n    }\n\n    /**\n     * Returns the found element(s) according to this constructor setup.\n     * If undefined is returned it means the parent cannot be found\n     *\n     * @returns {HTMLElement[]|undefined}\n     */\n    select() {\n        const target = this.selectParent();\n        if (!target) {\n            return;\n        }\n        const baseRes = [...target.querySelectorAll(this.selector)]\n            .map((el) => (this.options.shadowRoot ? el.shadowRoot : el))\n            .filter((el) => el);\n        /** @type {Contains[]} */\n        this.childrenContains = [];\n        const res = baseRes.filter((el, currentIndex) => {\n            let condition =\n                (this.options.textContent === undefined ||\n                    el.textContent.trim() === this.options.textContent) &&\n                (this.options.value === undefined || el.value === this.options.value) &&\n                (this.options.scroll === undefined ||\n                    (this.options.scroll === \"bottom\"\n                        ? Math.abs(el.scrollHeight - el.clientHeight - el.scrollTop) <= 1\n                        : Math.abs(el.scrollTop - this.options.scroll) <= 1));\n            if (condition && this.options.text !== undefined) {\n                if (\n                    el.textContent.trim() !== this.options.text &&\n                    [...el.querySelectorAll(\"*\")].every(\n                        (el) => el.textContent.trim() !== this.options.text\n                    )\n                ) {\n                    condition = false;\n                }\n            }\n            if (condition && this.options.contains) {\n                for (const param of this.options.contains) {\n                    const childContains = new Contains(param[0], { ...param[1], target: el });\n                    if (\n                        !childContains.runOnce(`as child of el ${currentIndex + 1})`, {\n                            executeOnSuccess: false,\n                        })\n                    ) {\n                        condition = false;\n                    }\n                    this.childrenContains.push(childContains);\n                }\n            }\n            if (condition && this.options.visible !== undefined) {\n                if (isVisible(el) !== this.options.visible) {\n                    condition = false;\n                }\n            }\n            if (condition && this.options.after) {\n                const afterContains = new Contains(this.options.after[0], {\n                    ...this.options.after[1],\n                    target,\n                });\n                const afterEl = afterContains.runOnce(`as \"after\"`, {\n                    executeOnSuccess: false,\n                })?.[0];\n                if (\n                    !afterEl ||\n                    !(el.compareDocumentPosition(afterEl) & Node.DOCUMENT_POSITION_PRECEDING)\n                ) {\n                    condition = false;\n                }\n                this.childrenContains.push(afterContains);\n            }\n            if (condition && this.options.before) {\n                const beforeContains = new Contains(this.options.before[0], {\n                    ...this.options.before[1],\n                    target,\n                });\n                const beforeEl = beforeContains.runOnce(`as \"before\"`, {\n                    executeOnSuccess: false,\n                })?.[0];\n                if (\n                    !beforeEl ||\n                    !(el.compareDocumentPosition(beforeEl) & Node.DOCUMENT_POSITION_FOLLOWING)\n                ) {\n                    condition = false;\n                }\n                this.childrenContains.push(beforeContains);\n            }\n            return condition;\n        });\n        if (\n            this.options.scroll !== undefined &&\n            this.scrollListeners &&\n            baseRes.length === this.options.count &&\n            res.length !== this.options.count\n        ) {\n            for (const el of baseRes) {\n                if (!this.scrollListeners.has(el)) {\n                    this.scrollListeners.add(el);\n                    el.addEventListener(\"scroll\", this.onScroll);\n                }\n            }\n        }\n        return res;\n    }\n\n    /**\n     * Returns the found element that should act as the target (parent) for the\n     * main selector.\n     * If undefined is returned it means the parent cannot be found.\n     *\n     * @returns {HTMLElement|undefined}\n     */\n    selectParent() {\n        if (this.options.parent) {\n            this.parentContains = new Contains(this.options.parent[0], {\n                ...this.options.parent[1],\n                target: this.options.target,\n            });\n            return this.parentContains.runOnce(`as parent`, { executeOnSuccess: false })?.[0];\n        }\n        return this.options.target;\n    }\n}\n\n/**\n * Waits until `count` elements matching the given `selector` are present in\n * `options.target`.\n *\n * @param {string} selector\n * @param {ContainsOptions} [options]\n * @returns {Promise}\n */\nexport async function contains(selector, options) {\n    await new Contains(selector, options).run();\n}\n\nconst stepState = {\n    expectedSteps: null,\n    deferred: null,\n    timeout: null,\n    currentSteps: [],\n\n    clear() {\n        clearTimeout(this.timeout);\n        this.timeout = null;\n        this.deferred = null;\n        this.currentSteps = [];\n        this.expectedSteps = null;\n    },\n\n    check({ crashOnFail = false } = {}) {\n        const success =\n            this.expectedSteps.length === this.currentSteps.length &&\n            this.expectedSteps.every((s, i) => s === this.currentSteps[i]);\n        if (!success && !crashOnFail) {\n            return;\n        }\n        QUnit.config.current.assert.verifySteps(this.expectedSteps);\n        if (success) {\n            this.deferred.resolve();\n        } else {\n            this.deferred.reject(new Error(\"Steps do not match.\"));\n        }\n        this.clear();\n    },\n};\n\nif (window.QUnit) {\n    QUnit.testStart(() =>\n        registerCleanup(() => {\n            if (stepState.expectedSteps) {\n                stepState.check({ crashOnFail: true });\n            } else {\n                stepState.clear();\n            }\n        })\n    );\n}\n\n/**\n * Indicate the completion of a test step. This step must then be verified by\n * calling `assertSteps`.\n *\n * @param {string} step\n */\nexport function step(step) {\n    stepState.currentSteps.push(step);\n    QUnit.config.current.assert.step(step);\n    if (stepState.expectedSteps) {\n        stepState.check();\n    }\n}\n\n/**\n * Wait for the given steps to be executed or for the timeout to be reached.\n *\n * @param {string[]} steps\n */\nexport function assertSteps(steps) {\n    if (stepState.expectedSteps) {\n        stepState.check({ crashOnFail: true });\n    }\n    stepState.expectedSteps = steps;\n    stepState.deferred = makeDeferred();\n    stepState.timeout = setTimeout(() => stepState.check({ crashOnFail: true }), 2000);\n    stepState.check();\n    return stepState.deferred;\n}\n", "import { registry } from \"@web/core/registry\";\n\nfunction logout() {\n    return [\n        {\n            content: \"check we're logged in\",\n            trigger: \".o_user_menu .dropdown-toggle\",\n            run: \"click\",\n        },\n        {\n            content: \"click the Log out button\",\n            trigger: \".dropdown-item[data-menu=logout]\",\n            run: \"click\",\n            expectUnloadPage: true,\n        },\n    ];\n}\n\nregistry.category(\"web_tour.tours\").add(\"test_user_switch\", {\n    url: \"/odoo\",\n    steps: () => [\n        ...logout(),\n        {\n            content: \"check if the login input is empty\",\n            trigger: \"input#login:empty\",\n        },\n        {\n            content: \"check if the password input is empty\",\n            trigger: \"input#password:empty\",\n        },\n        {\n            content: \"Should contains the user switch button\",\n            trigger: \".oe_login_form .o_user_switch_btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on Marc Demo on the quick login page\",\n            trigger:\n                \".o_user_switch:not(:has(.list-group-item:nth-child(2))) .list-group-item:contains('Marc Demo')\",\n            run: \"click\",\n        },\n        {\n            content: \"Check user choice button to back on the quick login page\",\n            trigger: \".oe_login_form .o_user_switch_btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Display the login form\",\n            trigger: \".o_user_switch .fa-user-circle-o\",\n            run: \"click\",\n        },\n        {\n            content: \"fill the login\",\n            trigger: \"input#login\",\n            run: \"edit admin\",\n        },\n        {\n            content: \"fill the password\",\n            trigger: \"input#password\",\n            run: \"edit admin\",\n        },\n        {\n            content: \"click on login button\",\n            trigger: 'button:contains(\"Log in\")',\n            run: \"click\",\n            expectUnloadPage: true,\n        },\n        ...logout(),\n        {\n            content: \"Check if there is Mitchell Admin in user list selection\",\n            trigger: \".o_user_switch .list-group-item:nth-child(1):contains('Mitchell Admin')\",\n        },\n        {\n            content: \"Check if there is Marc Demo in user list selection\",\n            trigger: \".o_user_switch .list-group-item:nth-child(2):contains('Marc Demo')\",\n        },\n        {\n            content: \"Choice demo\",\n            trigger: \".o_user_switch .list-group-item:contains('Marc Demo')\",\n            run: \"click\",\n        },\n        {\n            content: \"check the login for demo\",\n            trigger: \"input#login:value('demo')\",\n        },\n        {\n            content: \"fill the password\",\n            trigger: \"input#password\",\n            run: \"edit demo\",\n        },\n        {\n            content: \"Check back button to back on the quick login page\",\n            trigger: \".oe_login_form .o_user_switch_btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Check have 2 users\",\n            trigger: \".o_user_switch .list-group-item:nth-child(2)\",\n        },\n        {\n            content: \"Click on Mitchell Admin\",\n            trigger: \".o_user_switch .list-group-item:nth-child(1):contains('Mitchell Admin')\",\n            run: \"click\",\n        },\n        {\n            content: \"check the login for admin\",\n            trigger: \"input#login:value('admin')\",\n        },\n        {\n            content: \"fill the password\",\n            trigger: \"input#password\",\n            run: \"edit admin\",\n        },\n        {\n            content: \"Check back button to back on the quick login page\",\n            trigger: \".oe_login_form .o_user_switch_btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Display the login form\",\n            trigger: \".o_user_switch .fa-user-circle-o\",\n            run: \"click\",\n        },\n        {\n            content: \"the login form is display\",\n            trigger: \"form.oe_login_form:not(.d-none)\",\n        },\n        {\n            content: \"check if the login input is empty\",\n            trigger: \"input#login:empty\",\n        },\n        {\n            content: \"check if the password input is empty\",\n            trigger: \"input#password:empty\",\n        },\n        {\n            content: \"Back to user switch\",\n            trigger: \".oe_login_form .o_user_switch_btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Remove the admin user from page\",\n            trigger: \".o_user_switch .d-flex:first-child .fa-times\",\n            run: \"click\",\n        },\n        {\n            content: \"only one user is left on quick login\",\n            trigger:\n                \".o_user_switch:not(:has(.list-group-item:nth-child(2))) .list-group-item:contains('Marc Demo')\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"mail_activity_date_format\", {\n    steps: () => [\n        {\n            trigger: \"button:contains('Activities')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"input[id*='activity_type_id']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-item:contains('To-Do')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='summary'] input\",\n            run: \"edit Go Party\",\n        },\n        {\n            trigger: \"button:contains('Schedule')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Activity:contains('Go Party')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Activity-info i\",\n            run: \"click\",\n        },\n        // Format expected from the server for 9 AM at the first day of 2024 is date_format = \"%d/%b/%y\", time_format = \"%I:%M:%S %p\".\n        {\n            trigger:\n                \".o-mail-Activity-details tr:contains('Created') td:contains('01/Jan/24 09:00:00 AM')\",\n        },\n        {\n            // Default due date is 5 days after creation date.\n            trigger: \".o-mail-Activity-details tr:contains('Due on') td:contains('06/Jan/24')\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"discuss_channel_as_guest_tour.js\", {\n    steps: () => [\n        {\n            content: \"Channel secret token has been hidden on welcome page\",\n            trigger: \".o-mail-WelcomePage\",\n            run() {\n                if (!window.location.pathname.startsWith(\"/discuss/channel\")) {\n                    console.error(\"Channel secret token is still present in URL.\");\n                }\n            },\n        },\n        {\n            content: \"Click join\",\n            trigger: \"button[title='Join Channel']\",\n            run: \"click\",\n        },\n        {\n            content: \"Check that we are on channel page\",\n            trigger: \".o-mail-Thread\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"discuss_channel_call_public_tour.js\", {\n    steps: () => [\n        {\n            content: \"The call does not start on the welcome page\",\n            trigger: \".o-mail-WelcomePage\",\n            async run() {\n                await new Promise((r) => setTimeout(r, 250));\n                const rtcService = odoo.__WOWL_DEBUG__.root.env.services[\"discuss.rtc\"];\n                if (rtcService?.selfSession || rtcService?.state.hasPendingRequest) {\n                    console.error(\"The call should not have started.\");\n                }\n            },\n        },\n        {\n            content: \"Click join\",\n            trigger: \"button[title='Join Channel']\",\n            run: \"click\",\n        },\n        {\n            content: \"Check that the call has started\",\n            trigger: \".o-discuss-Call\",\n        },\n        {\n            content: \"Check that current user is in call ('disconnect' button visible)\",\n            trigger: \"button[title='Disconnect']\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\nimport { click, contains, inputFiles } from \"@web/../tests/utils\";\n\nregistry.category(\"web_tour.tours\").add(\"discuss_channel_public_tour.js\", {\n    steps: () => [\n        {\n            trigger: \".o-mail-Discuss\",\n        },\n        {\n            content: \"Check that we are on channel page\",\n            trigger: \".o-mail-Thread\",\n            run() {\n                if (!window.location.pathname.startsWith(\"/discuss/channel\")) {\n                    console.error(\"Channel secret token is still present in URL.\");\n                }\n                const errors = odoo.loader.findErrors();\n                if (Object.keys(errors).length) {\n                    console.error(\"Couldn't load all JS modules.\", errors);\n                }\n                document.body.classList.add(\"o_discuss_channel_public_modules_loaded\");\n                if (\n                    document.title !== document.querySelector(\".o-mail-Discuss-threadName\")?.value\n                ) {\n                    console.error(\"Tab title should match conversation name.\");\n                }\n            },\n        },\n        {\n            content: \"Wait for all modules loaded check in previous step\",\n            trigger: \".o_discuss_channel_public_modules_loaded\",\n        },\n        {\n            content: \"Write something in composer\",\n            trigger: \".o-mail-Composer-input\",\n            run: \"edit cheese\",\n        },\n        {\n            content: \"Add a text file in composer\",\n            trigger: \".o-mail-Composer button[aria-label='Attach files']\",\n            async run() {\n                const text = new File([\"hello, world\"], \"text.txt\", { type: \"text/plain\" });\n                await inputFiles(\".o-mail-Composer-coreMain .o_input_file\", [text]);\n            },\n        },\n        {\n            trigger: \".o-mail-AttachmentCard:not(.o-isUploading)\", // waiting the attachment to be uploaded\n        },\n        {\n            content: \"Check the text attachment is listed\",\n            trigger: '.o-mail-AttachmentCard[title=\"text.txt\"]',\n        },\n        {\n            content: \"Add an image file in composer\",\n            trigger: \".o-mail-Composer button[aria-label='Attach files']\",\n            async run() {\n                await inputFiles(\".o-mail-Composer-coreMain .o_input_file\", [\n                    new File(\n                        [\n                            await (\n                                await fetch(\n                                    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQIW2P4v5ThPwAG7wKklwQ/bwAAAABJRU5ErkJggg==\"\n                                )\n                            ).blob(),\n                        ],\n                        \"image.png\",\n                        { type: \"image/png\" }\n                    ),\n                ]);\n            },\n        },\n        {\n            trigger: \".o-mail-AttachmentImage:not(.o-isUploading)\",\n        },\n        {\n            content: \"Check the image attachment is listed\",\n            trigger: '.o-mail-AttachmentImage[title=\"image.png\"]',\n            async run() {\n                const store = odoo.__WOWL_DEBUG__.root.env.services[\"mail.store\"];\n                if (store.self.type === \"guest\") {\n                    const src = this.anchor.querySelector(\"img\").src;\n                    const token = store.Attachment.get(\n                        (src.match(\"/web/image/([0-9]+)\") || []).at(-1)\n                    )?.access_token;\n                    if (!(token && src.includes(`access_token=${token}`))) {\n                        throw new Error(\"Access token of the attachment isn't correct.\");\n                    }\n                }\n            },\n        },\n        {\n            content: \"Send message\",\n            trigger: \".o-mail-Composer-send:enabled\",\n            run: \"click\",\n        },\n        {\n            content: \"Check message is shown\",\n            trigger: '.o-mail-Message-body:contains(\"cheese\")',\n        },\n        {\n            content: \"Check message contains the attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"text.txt\")',\n        },\n        {\n            trigger: \".o-mail-Message[data-persistent]:contains(cheese)\",\n            run: \"hover && click .o-mail-Message:contains(cheese) [title='Add a Reaction']\",\n        },\n        {\n            trigger: \".o-EmojiPicker .o-Emoji:contains('\ud83d\ude42')\",\n            run: \"click\",\n        },\n        {\n            content: \"Reload page (fetch reactions)\",\n            trigger: \".o-mail-Message\",\n            run() {\n                document.body.classList.add(\"before-reload-1\");\n                location.reload();\n            },\n        },\n        {\n            trigger: \"body:not(.before-reload-1)\",\n        },\n        {\n            content: \"Remove reaction\",\n            trigger: \".o-mail-MessageReaction:contains('\ud83d\ude42')\",\n            run: \"click\",\n        },\n        {\n            content: \"Reload page (fetch reactions)\",\n            trigger: \".o-mail-Message:not(:has(.o-mail-MessageReaction:contains('\ud83d\ude42')))\",\n            run() {\n                document.body.classList.add(\"before-reload-2\");\n                location.reload();\n            },\n        },\n        {\n            trigger: \"body:not(.before-reload-2)\",\n        },\n        {\n            trigger: \".o-mail-Message:not(:has(.o-mail-MessageReaction:contains('\ud83d\ude42')))\",\n        },\n        {\n            content: \"Click on more menu\",\n            trigger: \".o-mail-Message[data-persistent]:contains(cheese)\",\n            run: \"hover && click .o-mail-Message:contains(cheese) [title='Expand']\",\n        },\n        {\n            content: \"Click on edit\",\n            trigger: \".o-mail-Message-moreMenu [title='Edit'], .o-mail-Message [title='Edit']\",\n            run: \"click\",\n        },\n        {\n            content: \"Edit message\",\n            trigger: \".o-mail-Message .o-mail-Composer-input\",\n            run: \"edit vegetables\",\n        },\n        {\n            content: \"Add one more file in composer\",\n            trigger: \".o-mail-Message button[aria-label='Attach files']\",\n            async run() {\n                const extratxt = new File([\"hello 2\"], \"extra.txt\", { type: \"text/plain\" });\n                await inputFiles(\".o-mail-Message .o_input_file\", [extratxt]);\n            },\n        },\n        {\n            trigger: \".o-mail-Message .o-mail-Composer .o-mail-AttachmentCard:not(.o-isUploading)\", // waiting the attachment to be uploaded\n        },\n        {\n            content: \"Check the earlier provided extra attachment is listed\",\n            trigger: '.o-mail-Message .o-mail-Composer .o-mail-AttachmentCard[title=\"extra.txt\"]',\n        },\n        {\n            content: \"Save edited message\",\n            trigger: \".o-mail-Message a:contains(save)\",\n            run: \"click\",\n        },\n        {\n            content: \"Check message is edited\",\n            trigger: '.o-mail-Message-body:contains(\"vegetables\")',\n        },\n        {\n            content: \"Check edited message contains the first attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"text.txt\")',\n        },\n        {\n            content: \"Check edited message contains the extra attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"extra.txt\")',\n            async run() {\n                await click(\".o-mail-AttachmentCard-unlink\", {\n                    parent: [\".o-mail-AttachmentCard\", { text: \"extra.txt\" }],\n                });\n                await click(\".btn\", { text: \"Ok\", parent: [\".modal\", { text: \"Confirmation\" }] });\n                await contains(\".o-mail-AttachmentCard\", { text: \"extra.txt\", count: 0 });\n            },\n        },\n        {\n            content: \"Open search panel\",\n            trigger: \"button[title='Search Messages']\",\n            run: \"click\",\n        },\n        {\n            content: \"Search for the attachment name\",\n            trigger: \".o_searchview_input\",\n            run: \"edit text.txt\",\n        },\n        {\n            content: \"Trigger the search\",\n            trigger: \"button[aria-label='Search button']\",\n            run: \"click\",\n        },\n        {\n            content: \"Check that searched message contains the attachment\",\n            trigger:\n                '.o-mail-SearchMessagesPanel .o-mail-Message .o-mail-AttachmentCard:contains(\"text.txt\")',\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"discuss_configuration_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"mail.menu_root_discuss\"]',\n            run: \"click\",\n        },\n        {\n            trigger: \".o_main_navbar button:contains('Configuration')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-menu a:contains('Notification')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-DiscussNotificationSettings label:contains('Mute')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button:contains('All Messages')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button:contains('Mentions Only')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button:contains('Nothing')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-header button[aria-label='Close']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_main_navbar button:contains('Configuration')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-menu a:contains('Voice & Video')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"select[name='inputDevice']\",\n        },\n        {\n            trigger: \"button:contains('Voice Detection')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"label:contains('Voice detection threshold')\",\n        },\n        {\n            trigger: \"button:contains('Push to Talk')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"label:contains('Push-to-talk key')\",\n        },\n        {\n            trigger: \"label:contains('Delay after releasing push-to-talk')\",\n        },\n        {\n            trigger: \"input[aria-label='Show video participants only']\",\n        },\n        {\n            trigger: \"input[aria-label='Blur video background']\",\n            run: \"click\",\n        },\n        {\n            trigger: \"label:contains('Background blur intensity')\",\n        },\n        {\n            trigger: \"label:contains('Edge blur intensity')\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"discuss_go_back_to_thread_from_breadcrumbs.js\", {\n    steps: () => [\n        { trigger: \".o-mail-Discuss-threadName[title='Inbox']\" },\n        { trigger: \".o-mail-DiscussSidebar-item:contains(Starred)\", run: \"click\" },\n        { trigger: \"button[title='View or join channels']\", run: \"click\" },\n        { trigger: \".breadcrumb-item:contains(Starred)\", run: \"click\" },\n        { trigger: \".o-mail-Discuss-threadName[title='Starred']\" },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"sidebar_in_public_page_tour\", {\n    steps: () => [\n        {\n            trigger: \".o-mail-Discuss-header [title='Channel 1']\",\n        },\n        {\n            trigger: \".o-mail-DiscussSidebarChannel:contains(Channel 1).o-active\",\n        },\n        {\n            trigger: \".o-mail-DiscussSidebarChannel:contains(Channel 2)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Discuss-header [title='Channel 2']\",\n        },\n        {\n            trigger: \".o-mail-DiscussSidebarChannel:contains(Channel 2).o-active\",\n            run() {\n                history.back();\n            },\n        },\n        {\n            trigger: \".o-mail-Discuss-header [title='Channel 1']\",\n        },\n        {\n            trigger: \".o-mail-DiscussSidebarChannel:contains(Channel 1).o-active\",\n            run() {\n                history.forward();\n            },\n        },\n        {\n            trigger: \".o-mail-Discuss-header [title='Channel 2']\",\n        },\n        {\n            trigger: \".o-mail-DiscussSidebarChannel:contains(Channel 2).o-active\",\n        },\n    ],\n});\n", "import { contains, dragenterFiles, dropFiles, scroll } from \"@web/../tests/utils\";\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"test_discuss_sub_channel_search\", {\n    steps: () => [\n        {\n            trigger: \"button[title='Threads']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-SubChannelList\",\n            async run() {\n                // 30 newest sub channels are loaded initially.\n                for (let i = 99; i > 69; i--) {\n                    await contains(\".o-mail-SubChannelList-thread\", {\n                        text: `Sub Channel ${i}`,\n                    });\n                    await contains(\".o-mail-SubChannelList-thread\", { count: 30 });\n                }\n            },\n        },\n        {\n            trigger: \".o-mail-ActionPanel:has(.o-mail-SubChannelList) .o_searchview_input\",\n            run: \"edit Sub Channel 10\",\n        },\n        {\n            trigger:\n                \".o-mail-ActionPanel:has(.o-mail-SubChannelList) button[aria-label='Search button']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-SubChannelList-thread:contains(Sub Channel 10)\",\n            async run() {\n                await contains(\".o-mail-SubChannelList-thread\", { count: 1 });\n            },\n        },\n        {\n            trigger: \".o_searchview_input\",\n            run: \"clear\",\n        },\n        {\n            trigger: \".o-mail-SubChannelList-thread:contains(Sub Channel 99)\",\n            async run() {\n                await contains(\".o-mail-SubChannelList-thread\", { count: 31 });\n                // Already fetched sub channels are shown in addition to the one\n                // that was fetched during the search.\n                for (let i = 99; i > 69; i--) {\n                    await contains(\".o-mail-SubChannelList-thread\", {\n                        text: `Sub Channel ${i}`,\n                    });\n                }\n                await contains(\".o-mail-SubChannelList-thread\", { text: `Sub Channel 10` });\n                // Ensure lazy loading is still working after a search.\n                await scroll(\".o-mail-ActionPanel:has(.o-mail-SubChannelList)\", \"bottom\");\n            },\n        },\n        {\n            trigger: \".o-mail-SubChannelList-thread:contains(Sub Channel 40)\",\n            async run() {\n                await contains(\".o-mail-SubChannelList-thread\", { count: 61 });\n                for (let i = 99; i > 39; i--) {\n                    await contains(\".o-mail-SubChannelList-thread\", {\n                        text: `Sub Channel ${i}`,\n                    });\n                }\n                await scroll(\".o-mail-ActionPanel:has(.o-mail-SubChannelList)\", \"bottom\");\n            },\n        },\n        {\n            trigger: \".o-mail-SubChannelList-thread:contains(Sub Channel 11)\",\n            async run() {\n                await contains(\".o-mail-SubChannelList-thread\", { count: 90 });\n                for (let i = 99; i > 9; i--) {\n                    await contains(\".o-mail-SubChannelList-thread\", {\n                        text: `Sub Channel ${i}`,\n                    });\n                }\n                await scroll(\".o-mail-ActionPanel:has(.o-mail-SubChannelList)\", \"bottom\");\n            },\n        },\n        {\n            trigger: \".o-mail-SubChannelList-thread:contains(Sub Channel 0)\",\n            async run() {\n                await contains(\".o-mail-SubChannelList-thread\", { count: 100 });\n                for (let i = 99; i > 0; i--) {\n                    await contains(\".o-mail-SubChannelList-thread\", {\n                        text: `Sub Channel ${i}`,\n                    });\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"create_thread_for_attachment_without_body\", {\n    steps: () => [\n        {\n            content: \"Open general channel\",\n            trigger: '.o-mail-DiscussSidebarChannel-itemName:contains(\"general\")',\n            run: \"click\",\n        },\n        {\n            content: \"Drop a file\",\n            trigger: \".o-mail-Discuss-main\",\n            async run() {\n                const files = [new File([\"hi there\"], \"file2.txt\", { type: \"text/plain\" })];\n                await dragenterFiles(\".o-mail-Discuss-main\", files);\n                await dropFiles(\".o-Dropzone\", files);\n            },\n        },\n        {\n            content: \"Click on send button\",\n            trigger: \".o-mail-Composer-send\",\n            run: \"click\",\n        },\n        {\n            content: \"Hover on attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"file2.txt\")',\n            run: \"hover\",\n        },\n        {\n            content: \"Click on expand button\",\n            trigger: '.o-mail-Message [title=\"Expand\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Create a new thread\",\n            trigger: '.o-dropdown-item:contains(\"Create Thread\")',\n            run: \"click\",\n        },\n        {\n            content: \"Check a new thread is created\",\n            trigger: '.o-mail-Discuss:contains(\"New Thread\")',\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"mail_activity_schedule_from_chatter\", {\n    steps: () => [\n        {\n            trigger: \"button:contains('Activities')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"input[id*='activity_type_id']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-item:contains('Call')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"input[id*='activity_type_id']:value('Call')\",\n        },\n        {\n            trigger: \"button:contains('Schedule')\",\n        },\n        {\n            trigger: \"input[id*='activity_type_id']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-item:contains('To-Do')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='summary'] input\",\n            run: \"edit Play Mario Party\",\n        },\n        {\n            trigger: \"button:contains('Schedule')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Activity:contains('Play Mario Party')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button:contains('Activities')\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div[name='summary'] input\",\n            run: \"edit Play Mario Kart\",\n        },\n        {\n            trigger: \"button:contains('Mark as Done')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Message:contains('Play Mario Kart')\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\nimport { contains, dragenterFiles, dropFiles, inputFiles } from \"@web/../tests/utils\";\n\n/**\n * This tour depends on data created by python test in charge of launching it.\n * It is not intended to work when launched from interface. It is needed to test\n * an action (action manager) which is not possible to test with QUnit.\n * @see mail/tests/test_mail_composer.py\n */\nregistry.category(\"web_tour.tours\").add(\"mail/static/tests/tours/mail_composer_test_tour.js\", {\n    steps: () => [\n        {\n            content: \"Wait for the chatter to be fully loaded\",\n            trigger: \".o-mail-Chatter\",\n            async run() {\n                await contains(\".o-mail-Message\", { count: 1 });\n            },\n        },\n        {\n            content: \"Click on Send Message\",\n            trigger: \"button:contains(Send message)\",\n            run: \"click\",\n        },\n        {\n            content: \"Write something in composer\",\n            trigger: \".o-mail-Composer-input\",\n            run: \"edit blahblah @Not && click body\",\n        },\n        {\n            content: \"Mention a partner\",\n            trigger: \".o-mail-Composer-suggestion:contains(Not A Demo User)\",\n            run: \"click\",\n        },\n        {\n            content: \"Add one file in composer\",\n            trigger: \".o-mail-Composer button[aria-label='Attach files']\",\n            async run() {\n                const files = [new File([\"hello, world\"], \"file1.txt\", { type: \"text/plain\" })];\n                await inputFiles(\".o-mail-Composer-coreMain .o_input_file\", files);\n            },\n        },\n        {\n            trigger: \".o-mail-AttachmentCard:not(.o-isUploading)\", // waiting the attachment to be uploaded\n        },\n        {\n            content: \"Open full composer\",\n            trigger: \"button[aria-label='Full composer']\",\n            run: \"click\",\n        },\n        {\n            content: \"Check composer keeps open after pushing Escape\",\n            trigger: \".o_mail_composer_form_view\",\n            run: \"press Escape\",\n        },\n        {\n            content: \"Check the earlier provided attachment is listed\",\n            trigger: \".o_field_mail_composer_attachment_list a:contains(file1.txt)\",\n        },\n        {\n            content: \"Check subject is autofilled\",\n            trigger: '[name=\"subject\"] input',\n            run() {\n                const subjectValue = document.querySelector('[name=\"subject\"] input').value;\n                if (subjectValue !== \"Jane\") {\n                    console.error(\n                        `Full composer should have \"Jane\" in subject input (actual: ${subjectValue})`\n                    );\n                }\n            },\n        },\n        {\n            content: \"Check composer content is kept and contains the user's signature\",\n            trigger: '.o_field_html[name=\"body\"]',\n            run() {\n                const bodyContent = document.querySelector(\n                    '.o_field_html[name=\"body\"]'\n                ).textContent;\n                if (!bodyContent.includes(\"blahblah @Not A Demo User\")) {\n                    console.error(\n                        `Full composer should contain text from small composer (\"blahblah @Not A Demo User\") in body input (actual: ${bodyContent})`\n                    );\n                }\n                const mentionLink = document.querySelector(\n                    '.o_field_html[name=\"body\"] a'\n                ).textContent;\n                if (!mentionLink.includes(\"@Not A Demo User\")) {\n                    console.error(\n                        `Full composer should contain mention link from small composer (\"@Not A Demo User\") in body input)`\n                    );\n                }\n                /** When opening the full composer for the first time, the system\n                 * should add the user's signature to the end of the message so\n                 * that the user can edit it. After adding the signature to\n                 * the editor, the server shouldn't automatically add the\n                 * signature to the message (see: Python tests). */\n                if ((bodyContent.match(/--\\nErnest/g) || []).length !== 1) {\n                    console.error(\"Full composer should contain the user's signature once.\");\n                }\n            },\n        },\n        {\n            content: \"Drop a file on the full composer\",\n            trigger: \".o_mail_composer_form_view\",\n            async run() {\n                const files = [new File([\"hi there\"], \"file2.txt\", { type: \"text/plain\" })];\n                await dragenterFiles(\".o_mail_composer_form_view .o_form_renderer\", files);\n                await dropFiles(\".o-Dropzone\", files);\n            }\n        },\n        {\n            content: \"Check the attachment is listed\",\n            trigger: \".o_field_mail_composer_attachment_list a:contains(file2.txt)\",\n        },\n        {\n            content: \"Click on the mail template selector\",\n            trigger: \".mail-composer-template-dropdown-btn\",\n            run: \"click\",\n        },\n        {\n            content: \"Check a template is listed\",\n            trigger:\n                '.mail-composer-template-dropdown.popover .o-dropdown-item:contains(\"Test template\")',\n        },\n        {\n            content: \"Verify admin template is NOT listed\",\n            trigger: \".mail-composer-template-dropdown.popover\",\n            run() {\n                const hasAdminTemplate = [...document.querySelectorAll('.o-dropdown-item')]\n                    .some(item => item.textContent.includes(\"Test template for admin\"));\n                if (hasAdminTemplate) {\n                    console.error(\"Template assigned to the admin is visible to a non-assigned user! This should not happen.\");\n                }\n            },\n        },\n        {\n            content: \"Send message from full composer\",\n            trigger: \".o_mail_send\",\n            run: \"click\",\n        },\n        {\n            content: \"Check message is shown\",\n            trigger: '.o-mail-Message-body:contains(\"blahblah @Not A Demo User\")',\n            run: \"click\",\n        },\n        {\n            content: \"Click on envelope to see recipients of message\",\n            trigger:\n                '.o-mail-Message:has(.o-mail-Message-body:contains(\"blahblah @Not A Demo User\")) .o-mail-Message-notification',\n            run: \"click\",\n        },\n        {\n            content: \"Check message has correct recipients\",\n            trigger: \".o-mail-MessageNotificationPopover:contains('Not A Demo User\\nJane')\",\n        },\n        {\n            content: \"Check message contains the first attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"file1.txt\")',\n        },\n        {\n            content: \"Check message contains the second attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"file2.txt\")',\n        },\n        // Test the full composer input text is kept on closing\n        {\n            content: \"Click on Send Message\",\n            trigger: \"button:contains(Send message)\",\n            run: \"click\",\n        },\n        {\n            content: \"Open full composer\",\n            trigger: \"button[aria-label='Full composer']\",\n            run: \"click\",\n        },\n        {\n            content: \"Check that the composer contains the signature\",\n            trigger: '.o_field_html[name=\"body\"]',\n            run() {\n                const bodyContent = document.querySelector(\n                    '.o_field_html[name=\"body\"]'\n                ).textContent;\n                /** When opening the full composer, the system should add the\n                 * user's signature, as this is a new message and the signature\n                 * has not yet been added to it. */\n                if ((bodyContent.match(/--\\nErnest/g) || []).length !== 1) {\n                    console.log(\"Full composer should contain the user's signature once.\");\n                }\n            }\n        },\n        {\n            content: \"Write something in full composer\",\n            trigger: \".note-editable\",\n            run: \"editor keep the content\",\n        },\n        {\n            content: \"Close full composer\",\n            trigger: \".btn-close\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on Send Message\",\n            trigger: \"button:contains(Send message)\",\n            run: \"click\",\n        },\n        {\n            content: \"Check full composer text is kept\",\n            trigger: \".o-mail-Composer-input\",\n            run() {\n                if (this.anchor.value !== \"keep the content\") {\n                    console.error(\n                        \"Composer in chatter should contain full composer text after discarding.\"\n                    );\n                }\n            },\n        },\n        {\n            content: \"Open full composer\",\n            trigger: \"button[aria-label='Full composer']\",\n            run: \"click\",\n        },\n        {\n            content: \"Check that the composer doesn't add the user's signature twice\",\n            trigger: \".note-editable\",\n            run() {\n                const bodyContent = document.querySelector(\n                    '.o_field_html[name=\"body\"]'\n                ).textContent;\n                /** When re-opening the full composer, the system shouldn't re-add\n                 * the user's signature to the message. As the user deleted the\n                 * signature in the previous steps (see: `editor keep the content`),\n                 * the editor shouldn't contain any signature. */\n                if ((bodyContent.match(/--\\nErnest/g) || []).length !== 0) {\n                    console.error(\"The composer should not contain the user's signature.\");\n                }\n            }\n        },\n        {\n            content: \"Close full composer\",\n            trigger: \".btn-close\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on Send Message\",\n            trigger: \"button:contains(Send message)\",\n            run: \"click\",\n        },\n        {\n            content: \"Send message from chatter\",\n            trigger: \".o-mail-Composer-send\",\n            run: \"click\"\n        },\n        {\n            content: \"Check message is shown\",\n            trigger: '.o-mail-Message-body:contains(\"keep the content\")',\n        },\n        // Test that the server automatically adds the user's signature to the\n        // email when the user didn't open the full composer.\n        {\n            content: \"Click on Send Message\",\n            trigger: \"button:contains(Send message)\",\n            run: \"click\",\n        },\n        {\n            content: \"Write a message\",\n            trigger: \".o-mail-Composer-input\",\n            run: \"edit hello world\",\n        },\n        {\n            content: \"Send message from chatter\",\n            trigger: \".o-mail-Composer-send\",\n            run: \"click\"\n        },\n        {\n            content: \"Check message is shown\",\n            trigger: '.o-mail-Message-body:contains(\"hello world\")',\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\nimport { contains, scroll } from \"@web/../tests/utils\";\n\nregistry.category(\"web_tour.tours\").add(\"mail_message_load_order_tour\", {\n    steps: () => [\n        {\n            trigger: \".o-mail-DiscussSidebarChannel:contains(MyTestChannel)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-mail-Thread .o-mail-Message\",\n            async run() {\n                await contains(\".o-mail-Thread .o-mail-Message\", { count: 30 });\n                await contains(\".o-mail-Thread\", { scroll: \"bottom\" });\n            },\n        },\n        {\n            trigger: \"*[title='Pinned Messages']\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on invisible jump (should hover card to be visible)\",\n            trigger: \".o-mail-MessageCard-jump:not(:visible)\",\n            run: \"click\",\n        },\n        {\n            // Messages depends on FETCH_LIMIT (currently set to 60) in\n            // the thread service. Thus, at first load the message range\n            // will be (31 - 60). This trigger ensures the next messages\n            // are fetched after jumping to the message.\n            trigger:\n                \".o-mail-Thread .o-mail-Message:first .o-mail-Message-textContent:not(:contains(31))\",\n            async run() {\n                await contains(\".o-mail-Thread .o-mail-Message\", { count: 31 });\n                await contains(\".o-mail-Thread\", { scroll: 0 });\n                // ensure 1 - 31 are loaded in order: 30 below and the\n                // one we're loading messages around.\n                const messages = Array.from(\n                    document.querySelectorAll(\".o-mail-Thread .o-mail-Message-content\")\n                ).map((el) => el.innerText);\n                for (let i = 0; i < 31; i++) {\n                    if (messages[i] !== (i + 1).toString()) {\n                        throw new Error(\"Wrong message order after loading around\");\n                    }\n                }\n                await scroll(\".o-mail-Thread\", \"bottom\");\n            },\n        },\n        {\n            // After jumping to the pinned message, the message range\n            // was (1 -31): 30 before (but none were found), 30 after\n            // and the pinned message itself. This trigger ensures the\n            // next messages are fetched after scrolling to the bottom.\n            trigger: \".o-mail-Thread .o-mail-Message .o-mail-Message-textContent:contains(17)\",\n            async run() {\n                await contains(\".o-mail-Thread .o-mail-Message\", { count: 60 });\n                // ensure 1 - 60  are loaded in order.\n                const messages = Array.from(\n                    document.querySelectorAll(\".o-mail-Thread .o-mail-Message-content\")\n                ).map((el) => el.innerText);\n                for (let i = 0; i < 60; i++) {\n                    if (messages[i] !== (i + 1).toString()) {\n                        throw new Error(\"Wrong message order after loading after\");\n                    }\n                }\n            },\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nimport { delay } from \"@odoo/hoot-dom\";\n\nregistry.category(\"web_tour.tours\").add(\"mail_template_dynamic_placeholder_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            content: 'Go into the Setting \"app\"',\n            trigger: '.o_app[data-menu-xmlid=\"base.menu_administration\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Open email templates\",\n            trigger: 'button[name=\"open_mail_templates\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Create a new email template\",\n            trigger: \"button.o_list_button_add\",\n            run: \"click\",\n        },\n        {\n            content: 'Insert # inside \"Subject\" input',\n            trigger: 'div[name=\"subject\"] input[type=\"text\"]',\n            run: \"edit(no_model_id #)\",\n        },\n        {\n            content: 'Select \"Contact\" model',\n            trigger: 'div[name=\"model_id\"] input[type=\"text\"]',\n            run: \"edit Contact\",\n        },\n        {\n            content: \"Wait for the autocomplete RPC\",\n            trigger: 'div[name=\"model_id\"] .ui-autocomplete:contains(\"Contact\")',\n            run: async() => {\n                await delay(300);\n            }\n        },\n        {\n            content: \"Click on contact\",\n            trigger: 'div[name=\"model_id\"] .ui-autocomplete',\n            run: async function () {\n                const contact = Array.from(\n                    document.querySelectorAll(\n                        'div[name=\"model_id\"] .ui-autocomplete .dropdown-item'\n                    )\n                ).find((el) => el.textContent === \"Contact\");\n                await contact.click();\n            },\n        },\n        {\n            content: \"Wait for the drop down to disappear\",\n            trigger: 'div[name=\"model_id\"] .o-autocomplete:not(:has(.ui-autocomplete))',\n            run: async () => {\n                // Ensure the system has registered a correct model value before\n                // we try to open the DPH.\n                // It seems that the autocomplete validation can be very slow.\n                await new Promise((r) => setTimeout(r, 200));\n            },\n        },\n        {\n            content: 'Retry insert # inside \"Subject\" input',\n            trigger: 'div[name=\"subject\"] input[type=\"text\"]',\n            run: \"edit (yes_model_id) && press #\",\n        },\n        {\n            content: \"Check if the dynamic placeholder popover is opened\",\n            trigger: \"div.o_model_field_selector_popover\",\n        },\n        {\n            content: \"filter the dph result\",\n            trigger: \"div.o_model_field_selector_popover_search input[type='text']\",\n            run: \"edit name\",\n        },\n        {\n            content: \"Click on the first entry of the dynamic placeholder\",\n            trigger: 'div.o_model_field_selector_popover button:contains(\"Company Name\")',\n            run: \"click\",\n        },\n        {\n            content: \"Enter a default value\",\n            trigger:\n                'div.o_model_field_selector_popover .o_model_field_selector_default_value_input input[type=\"text\"]',\n            run: \"edit defValue\",\n        },\n        {\n            content: \"Click on the insert button\",\n            trigger: \"div.o_model_field_selector_popover button:first-child\",\n            run: \"click\",\n        },\n        {\n            content: \"Wait for the popover to disappear\",\n            trigger: \"body:not(:has(.o_model_field_selector_popover))\",\n            run: \"click\",\n        },\n        {\n            content: \"Check if subject value was correctly updated\",\n            trigger: 'div[name=\"subject\"] input[type=\"text\"]',\n            run() {\n                const subjectValue = this.anchor.value;\n                const correctValue = \"yes_model_id {{object.company_name|||defValue}}\";\n                if (subjectValue !== correctValue) {\n                    console.error(\n                        `Email template should have \"${correctValue}\" in subject input (actual: ${subjectValue})`\n                    );\n                }\n            },\n        },\n        {\n            content: \"Insert text inside editable\",\n            trigger: \".note-editable.odoo-editor-editable\",\n            async run(actions) {\n                await actions.editor(`/`);\n                document.querySelector(\".note-editable\").dispatchEvent(\n                    new InputEvent(\"input\", {\n                        inputType: \"insertText\",\n                        data: \"/\",\n                    })\n                );\n            },\n        },\n        {\n            content: \"Click on the the dynamic placeholder powerBox options\",\n            trigger: \"div.o-we-powerbox .o-we-command:contains(Dynamic Placeholder)\",\n            run: \"click\",\n        },\n        {\n            content: \"Check if the dynamic placeholder popover is opened\",\n            trigger: \"div.o_model_field_selector_popover\",\n            run: \"click\",\n        },\n        {\n            content: \"filter the dph result\",\n            trigger: \"div.o_model_field_selector_popover_search input[type='text']\",\n            run: \"edit name\",\n        },\n        {\n            content: \"Click on the first entry of the dynamic placeholder\",\n            trigger: 'div.o_model_field_selector_popover button:contains(\"Company Name\")',\n            run: \"click\",\n        },\n        {\n            content: \"Enter a default value\",\n            trigger:\n                'div.o_model_field_selector_popover .o_model_field_selector_default_value_input input[type=\"text\"]',\n            run: \"edit defValue\",\n        },\n        {\n            content: \"Click on the insert button\",\n            trigger: \"div.o_model_field_selector_popover button:first-child\",\n            run: \"click\",\n        },\n        {\n            content: \"Ensure the editable contain the dynamic placeholder t tag\",\n            trigger: `.note-editable.odoo-editor-editable t[t-out=\"object.company_name\"]:contains(\"defValue\")`,\n            run: \"click\",\n        },\n        {\n            content: \"Discard form changes\",\n            trigger: \"button.o_form_button_cancel\",\n            run: \"click\",\n        },\n        {\n            content: \"Wait for the form view to disappear\",\n            trigger: \"body:not(:has(.o_form_sheet))\",\n        },\n    ],\n});\n", "import { registry } from \"@web/core/registry\";\nimport { contains, insertText } from \"@web/../tests/utils\";\n\n/**\n * Verify that a user can modify their own profile information.\n */\nregistry.category(\"web_tour.tours\").add(\"mail/static/tests/tours/user_modify_own_profile_tour.js\", {\n    steps: () => [\n        {\n            content: \"Open user account menu\",\n            trigger: \".o_user_menu button\",\n            run: \"click\",\n        },\n        {\n            content: \"Open preferences / profile screen\",\n            trigger: \"[data-menu=settings]\",\n            run: \"click\",\n        },\n        {\n            content: \"Update the email address\",\n            trigger: 'div[name=\"email\"] input',\n            async run() {\n                await insertText(\"div[name='email'] input\", \"updatedemail@example.com\", {\n                    replace: true,\n                });\n                await contains(\".o_form_dirty\", { count: 1 });\n            },\n        },\n        {\n            trigger: \"body.modal-open\",\n        },\n        {\n            content: \"Save the form\",\n            trigger: 'button[name=\"preference_save\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Wait until the modal is closed\",\n            trigger: \"body:not(.modal-open)\",\n            async run() {\n                await contains(\".o_form_dirty\", { count: 0 });\n            },\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('portal_load_homepage', {\n    url: '/my',\n    steps: () => [\n        {\n            content: \"Check portal is loaded\",\n            trigger: 'a[href*=\"/my/account\"]:contains(\"Edit\"):first',\n            run: \"click\",\n            expectUnloadPage: true,\n        },\n        {\n            content: \"Load my account details\",\n            trigger: 'input[value=\"Joel Willis\"]',\n            run: \"click\",\n        },\n        {\n            content: 'type a different phone number',\n            trigger: 'input[name=\"phone\"]',\n            run: \"edit +1 555 666 7788\",\n        },\n        {\n            content: \"Submit the form\",\n            trigger: 'button[type=submit]',\n            run: \"click\",\n            expectUnloadPage: true,\n        },\n        {\n            content: \"Check that we are back on the portal\",\n            trigger: 'a[href*=\"/my/account\"]:contains(\"Edit\"):first',\n        }\n    ]\n});\n", "import { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"skip_to_content\", {\n    url: \"/\",\n    steps: () => [\n        {\n            content: \"Make sure that Skip to Content button is on top of all the links present in header\",\n            trigger: \"a:first-child[class~='o_skip_to_content']\",\n            run: \"click\"\n        },\n        {\n            content: \"Check if we have been redirected to #wrap\",\n            trigger: \"body\",\n            run: () => {\n                if (!window.location.href.endsWith(\"#wrap\")) {\n                    console.error(\"We should be on #wrap.\");\n                }\n            }\n        }\n    ]\n});\n", "/** @odoo-module **/\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('test_detailed_op_no_save_1', {  steps: () => [\n    {\n        trigger: '.o_field_x2many_list_row_add > a',\n        run: \"click\",\n    },\n    {\n        trigger: \".o_field_widget[name=product_id] input\",\n        run: \"edit Lot\",\n    },\n    {\n        trigger: \".ui-menu-item > a:contains('Product Lot')\",\n        run: \"click\",\n    },\n    {\n        trigger: \".btn-primary[name=action_confirm]\",\n        run: \"click\",\n    },\n    {\n        trigger: \".fa-list\",\n        run: \"click\",\n    },\n    {\n        trigger: \"h4:contains('Stock move')\",\n        run: \"click\",\n    },\n    {\n        trigger: \".modal .o_field_x2many_list_row_add > a\",\n        run: \"click\",\n    },\n    {\n        trigger: \".modal .o_field_widget[name=lot_name] input\",\n        run: \"edit lot1\",\n    },\n    {\n        trigger: \".modal .o_field_widget[name=quantity] input\",\n        run: \"edit 4\",\n    },\n    {\n        trigger: \".modal button:contains(save)\",\n        run: \"click\",\n    },\n    {\n        trigger: \"body:not(:has(.modal))\",\n    },\n    {\n        trigger: \".o_optional_columns_dropdown_toggle\",\n        run: \"click\",\n    },\n    {\n        trigger: 'input[name=\"picked\"]',\n        content: 'Check the picked field to display the column on the list view.',\n        run: \"check\",\n    },\n    {\n        trigger: \".o_data_cell[name=picked]\",\n        run: \"click\",\n    },\n    {\n        trigger: \".o_field_widget[name=picked] input\",\n        run: \"check\",\n    },\n    {\n        trigger: \".btn-primary[name=button_validate]\",\n        run: \"click\",\n    },\n    {\n        trigger: \".o_control_panel_actions button:contains('Traceability')\",\n    },\n]});\n\nregistry.category(\"web_tour.tours\").add('test_generate_serial_1', {  steps: () => [\n    {\n        trigger: '.o_field_x2many_list_row_add > a',\n        run: \"click\",\n    },\n    {\n        trigger: \".o_field_widget[name=product_id] input\",\n        run: \"edit Serial\",\n    },\n    {\n        trigger: \".ui-menu-item > a:contains('Product Serial')\",\n        run: \"click\",\n    },\n    {\n        trigger: \".btn-primary[name=action_confirm]\",\n        run: \"click\",\n    },\n    {\n        trigger: \".fa-list\",\n        run: \"click\",\n    },\n    {\n        trigger: \"h4:contains('Stock move')\",\n        run: \"click\",\n    },\n    {\n        trigger: '.o_widget_generate_serials > button',\n        run: \"click\",\n    },\n    {\n        trigger: \".modal h4:contains('Generate Serial numbers')\",\n        run: \"click\",\n    },\n    {\n        trigger: \".modal div[name=next_serial] input\",\n        run: \"edit serial_n_1\",\n    },\n    {\n        trigger: \".modal div[name=next_serial_count] input\",\n        run: \"edit 5 && click body\",\n    },\n    {\n        trigger: \".modal .btn-primary:contains('Generate')\",\n        run: \"click\",\n    },\n    {\n        trigger: \"span[data-tooltip=Quantity]:contains('5')\",\n        run: () => {\n            const nbLines = document.querySelectorAll(\".o_field_cell[name=lot_name]\").length;\n            if (nbLines !== 5){\n                console.error(\"wrong number of move lines generated. \" + nbLines + \" instead of 5\");\n            }\n        },\n    },\n    {\n        trigger: \".modal button:contains(save)\",\n        run: \"click\",\n    },\n    {\n        trigger: \"body:not(:has(.modal))\",\n    },\n    {\n        trigger: \".o_optional_columns_dropdown_toggle\",\n        run: \"click\",\n    },\n    {\n        trigger: 'input[name=\"picked\"]',\n        content: 'Check the picked field to display the column on the list view.',\n        run: function (actions) {\n            if (!this.anchor.checked) {\n                actions.click();\n            }\n        },\n    },\n    {\n        trigger: \".o_data_cell[name=picked]\",\n        run: \"click\",\n    },\n    {\n        trigger: \".o_field_widget[name=picked] input\",\n        run: function (actions) {\n            if (!this.anchor.checked) {\n                actions.click();\n            }\n        }\n    },\n    {\n        trigger: \".btn-primary[name=button_validate]\",\n        run: \"click\",\n    },\n    {\n        trigger: \".o_control_panel_actions button:contains('Traceability')\",\n    },\n]});\n\nregistry.category(\"web_tour.tours\").add('test_generate_serial_2', {  steps: () => [\n    {\n        trigger: '.o_field_x2many_list_row_add > a',\n        run: \"click\",\n    },\n    {\n        trigger: \".o_field_widget[name=product_id] input\",\n        run: \"edit Lot\",\n    },\n    {\n        trigger: \".ui-menu-item > a:contains('Product Lot 1')\",\n        run: \"click\",\n    },\n    {\n        trigger: \".o_field_widget[name=product_uom_qty] input\",\n        run: \"edit 100\",\n    },\n    {\n        trigger: \".btn-primary[name=action_confirm]\",\n        run: \"click\",\n    },\n    {\n        trigger: \".fa-list\",\n        run: \"click\",\n    },\n    {\n        trigger: \".modal h4:contains('Stock move')\",\n        run: \"click\",\n    },\n    // We generate lots for a first batch of 50 products\n    {\n        trigger: \".modal .o_widget_generate_serials > button\",\n        run: \"click\",\n    },\n    {\n        trigger: \".modal h4:contains('Generate Lot numbers')\",\n        run: \"click\",\n    },\n    {\n        trigger: \".modal div[name=next_serial] input\",\n        run: \"edit lot_n_1_1\",\n    },\n    {\n        trigger: \".modal div[name=next_serial_count] input\",\n        run: \"edit 7.5\",\n    },\n    {\n        trigger: \".modal div[name=total_received] input\",\n        run: \"edit 50\",\n    },\n    {\n        trigger: \".modal .modal-footer button.btn-primary:contains(Generate)\",\n        run: \"click\",\n    },\n    {\n        trigger: \".modal span[data-tooltip=Quantity]:contains(50)\",\n        run: () => {\n            const nbLines = document.querySelectorAll(\".o_field_cell[name=lot_name]\").length;\n            if (nbLines !== 7){\n                console.error(\"wrong number of move lines generated. \" + nbLines + \" instead of 7\");\n            }\n        },\n    },\n    // We generate lots for the last 50 products\n    {\n        trigger: \".modal .o_widget_generate_serials > button\",\n        run: \"click\",\n    },\n    {\n        trigger: \".modal h4:contains('Generate Lot numbers')\",\n    },\n    {\n        trigger: \".modal div[name=next_serial] input\",\n        run: \"edit lot_n_2_1\",\n    },\n    {\n        trigger: \".modal div[name=next_serial_count] input\",\n        run: \"edit 13\",\n    },\n    {\n        trigger: \".modal div[name=total_received] input\",\n        run: \"edit 50\",\n    },\n    {\n        trigger: \".modal div[name=keep_lines] input\",\n        run: \"check\",\n    },\n    {\n        trigger: \".modal .modal-footer button.btn-primary:contains(Generate)\",\n        run: \"click\",\n    },\n    {\n        trigger: \".modal span[data-tooltip=Quantity]:contains(100)\",\n        run: () => {\n            const nbLines = document.querySelectorAll(\".o_field_cell[name=lot_name]\").length;\n            if (nbLines !== 11){\n                console.error(\"wrong number of move lines generated. \" + nbLines + \" instead of 11\");\n            }\n        },\n    },\n    {\n        trigger: \".modal .o_form_button_save\",\n        run: \"click\",\n    },\n    {\n        trigger: \"body:not(:has(.modal))\",\n    },\n    {\n        trigger: \".o_optional_columns_dropdown_toggle\",\n        run: \"click\",\n    },\n    {\n        trigger: \"input[name='picked']\",\n        content: \"Check the picked field to display the column on the list view.\",\n        run: function (actions) {\n            if (!this.anchor.checked) {\n                actions.click();\n            }\n        },\n    },\n    {\n        trigger: \".o_data_cell[name=picked]\",\n        run: \"click\",\n    },\n    {\n        trigger: \".o_field_widget[name=picked] input\",\n        run: function (actions) {\n            if (!this.anchor.checked) {\n                actions.click();\n            }\n        }\n    },\n    {\n        trigger: \".btn-primary[name=button_validate]\",\n        run: \"click\",\n    },\n    {\n        trigger: \".o_control_panel_actions button:contains('Traceability')\",\n    },\n]});\n\nregistry.category('web_tour.tours').add('test_inventory_adjustment_apply_all', {  steps: () => [\n    {\n        trigger: '.o_list_button_add',\n        run: \"click\",\n    },\n    {\n        trigger: 'div[name=product_id] input',\n        run: \"edit Product 1\",\n    },\n    {\n        trigger: '.ui-menu-item > a:contains(\"Product 1\")',\n        run: \"click\",\n    },\n    {\n        trigger: 'div[name=inventory_quantity] input',\n        run: \"edit 123\",\n    },\n    // Unfocus to show the \"New\" button again\n    {\n        trigger: '.o_searchview_input_container',\n        run: \"click\",\n    },\n    {\n        trigger: '.o_list_button_add',\n        run: \"click\",\n    },\n    {\n        trigger: 'div[name=product_id] input',\n        run: \"edit Product 2\",\n    },\n    {\n        trigger: '.ui-menu-item > a:contains(\"Product 2\")',\n        run: \"click\",\n    },\n    {\n        trigger: 'div[name=inventory_quantity] input',\n        run: \"edit 456\",\n    },\n    {\n        trigger: 'button[name=action_apply_all]',\n        run: \"click\",\n    },\n    {\n        trigger: '.modal-content button[name=action_apply]',\n        run: \"click\",\n    },\n    {\n        trigger: \"body:not(:has(.modal))\",\n    },\n    {\n        content: \"Check that all quants were applied.\",\n        trigger: \"body:not(:has(button[name=action_apply_inventory]))\",\n    },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add('test_add_new_line', {\n    steps: () => [\n        {\n            trigger: \".o_form_editable\",\n        },\n        {\n            trigger: '.o_field_x2many_list_row_add > a',\n            run: \"click\",\n        },\n        {\n            trigger: \".o_field_widget[name=product_id] input\",\n            run: 'edit two',\n        },\n        {\n            trigger: \".ui-menu-item > a:contains('Product two')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".fa-list:eq(1)\",\n            run: \"click\",\n        },\n        {\n            trigger: \"h4:contains('Stock move')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal .o_field_x2many_list_row_add > a\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal .o_field_widget[name=lot_name] input\",\n            run: 'edit two',\n        },\n        {\n            trigger: \".modal .o_form_view.modal-content .o_form_button_save\",\n            run: \"click\",\n        },\n        {\n            trigger: \"body:not(:has(.modal))\",\n        },\n        {\n            trigger: \".o_form_view .o_form_button_save\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_renderer.o_form_saved\",\n        },\n    ]\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_edit_existing_line\", {\n    steps: () => [\n        {\n            trigger: \".o_data_cell[name=quantity]\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_field_widget[name=quantity] input\",\n            run: \"edit 2\",\n        },\n        {\n            trigger: \".fa-list\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal h4:contains(Stock move)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal .o_data_cell[name=quantity]:eq(1)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal .o_field_widget[name=lot_name] input\",\n            run: \"edit two\",\n        },\n        {\n            trigger: \".modal .o_form_view.modal-content .o_form_button_save:enabled\",\n            run: \"click\",\n        },\n        {\n            content: \"wait the modal is totally closed before click on save\",\n            trigger: \"body:not(:has(.modal))\",\n        },\n        {\n            trigger: \".o_form_view .o_form_button_save\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_renderer.o_form_saved\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add('test_edit_existing_lines_2', {\n    steps: () => [\n        { trigger: \".o_data_row:has(.o_data_cell[data-tooltip='Product a']) .fa-list\", run: 'click'},\n        { trigger: \".o_data_cell[name=lot_name]\", run: 'click' },\n        { trigger: \".o_data_cell[name=lot_name] input\", run: 'edit SNa001'},\n        { trigger: \".o_form_view.modal-content .o_form_button_save\", run: 'click'},\n        { trigger: \"body:not(:has(div .modal-content))\"},\n        { trigger: \".o_data_row:has(.o_data_cell[data-tooltip='Product b']) .fa-list\", run: 'click' },\n        { trigger: \".o_data_cell[name=lot_name]\", run: 'click' },\n        { trigger: \".o_data_cell[name=lot_name] input\", run: 'edit SNb001'},\n        { trigger: \".o_form_view.modal-content .o_form_button_save\", run: 'click'},\n        { trigger: \"body:not(:has(div .modal-content))\"},\n        { trigger: \".o_form_view:not(.modal-content) .o_form_button_save\", run: 'click' },\n        { trigger: \".o_form_renderer.o_form_saved\" },\n    ]\n});\n\nregistry.category(\"web_tour.tours\").add('test_onchange_twice_lot_ids', {\n    steps: () => [\n        {\n            trigger: \".o_optional_columns_dropdown_toggle\",\n            run: \"click\",\n        },\n        {\n            trigger: \".dropdown-item:contains('Serial Numbers')\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_data_cell.o_many2many_tags_cell\",\n            run: \"click\",\n        },\n        {\n            trigger: \".oi-close:first\",\n            run: \"click\",\n        },\n        {\n            trigger: \".oi-close:first\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_button_save\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_renderer.o_form_saved\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_add_new_line_in_detailled_op\", {\n    steps: () => [\n        {\n            trigger: \".o_list_view.o_field_x2many .o_data_row button[name='Open Move']\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-content\",\n        },\n        {\n            trigger: \".modal-content .o_field_x2many_list_row_add > a\",\n            run: \"click\",\n        },\n        {\n            content: \"Pick LOT001 to create a move line with a quantity of 0.00\",\n            trigger: \".o_data_row .o_data_cell[name=lot_id]:contains(LOT001)\",\n            run: \"click\",\n        },\n        {\n            content: \"check that the move contains three lines\",\n            trigger:\n                \".modal-content:has(.modal-header .modal-title:contains(Open: Stock move)) .o_data_row:nth-child(3)\",\n        },\n        {\n            content: \"Check that the first line is associated with LOT001 for a quantity of 0.00\",\n            trigger:\n                \".modal-content .o_data_row:has(.o_field_pick_from input:value(WH/Stock - LOT001)):has(.o_field_float[name=quantity] input:value(0.00))\",\n        },\n        {\n            trigger: \".modal-content .o_field_x2many_list_row_add > a\",\n            run: \"click\",\n        },\n        {\n            content: \"LOT001 should not appear as it is not available\",\n            trigger: \".modal-header .modal-title:contains(Add line: Product Lot)\",\n            run: () => {\n                const lines = document.querySelectorAll(\".o_data_row .o_data_cell[name=lot_id]\");\n                if (lines.length !== 2) {\n                    console.error(\n                        \"Wrong number of available quants: \" + lines.length + \" instead of 2.\"\n                    );\n                }\n                const lineLOT001 = Array.from(lines).filter((line) =>\n                    line.textContent.includes(\"LOT001\")\n                );\n                if (lineLOT001.length) {\n                    console.error(\"LOT001 shoudld not be displayed as unavailable.\");\n                }\n            },\n        },\n        {\n            content: \"Cancel the move line creation\",\n            trigger: \".modal-header:has(.modal-title:contains(Add line: Product Lot)) .btn-close\",\n            run: \"click\",\n        },\n        {\n            content: \"Remove the newly created line\",\n            trigger:\n                \".modal-content .o_data_row:has(.o_field_pick_from input:value(WH/Stock - LOT001)):has(.o_field_float[name=quantity] input:value(0.00)) .o_list_record_remove\",\n            run: \"click\",\n        },\n        {\n            content: \"check that the move contains two lines\",\n            trigger:\n                \".modal-content:has(.modal-header .modal-title:contains(Open: Stock move)):not(:has(.o_data_row:nth-child(3)))\",\n        },\n        {\n            content: \"Check that the first line is associated with LOT001\",\n            trigger:\n                \".modal-content .o_data_row:nth-child(1):has(.o_field_pick_from:contains(WH/Stock - LOT001))\",\n        },\n        {\n            content: \"Check that the second line is associated with LOT002\",\n            trigger:\n                \".modal-content .o_data_row:nth-child(2):has(.o_field_pick_from:contains(WH/Stock - LOT002))\",\n        },\n        {\n            content: \"Modify the quant associated to the second line to fully use LOT003\",\n            trigger: \".modal-content .o_data_row:nth-child(2) .o_field_pick_from\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-content .o_data_row:nth-child(2) .o_field_pick_from input\",\n            run: \"edit LOT003\",\n        },\n        {\n            trigger: \".dropdown-item:contains(LOT003)\",\n            run: \"click\",\n        },\n        {\n            content: \"Modify the quantity of the first line from 10 to 8\",\n            trigger: \".modal-content .o_data_row:nth-child(1) .o_data_cell[name=quantity]\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-content .o_data_row:nth-child(1) .o_field_widget[name=quantity] input\",\n            run: \"edit 8\",\n        },\n        {\n            content: \"Click on the header to update the total amount\",\n            trigger: \".modal-header .modal-title:contains(Open: Stock move)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-content .o_list_number:contains(18.00)\",\n        },\n        {\n            trigger: \".modal-content .o_field_x2many_list_row_add > a\",\n            run: \"click\",\n        },\n        {\n            content: \"LOT003 should not appear as it is not available\",\n            trigger: \".modal-header .modal-title:contains(Add line: Product Lot)\",\n            run: () => {\n                const lines = document.querySelectorAll(\".o_data_row .o_data_cell[name=lot_id]\");\n                if (lines.length !== 2) {\n                    console.error(\n                        \"Wrong number of available quants: \" + lines.length + \" instead of 2.\"\n                    );\n                }\n                const lineLOT003 = Array.from(lines).filter((line) =>\n                    line.textContent.includes(\"LOT003\")\n                );\n                if (lineLOT003.length) {\n                    console.error(\"LOT003 shoudld not be displayed as unavailable.\");\n                }\n            },\n        },\n        {\n            content: \"Pick LOT001 to create a move line with a quantity of 2.00\",\n            trigger: \".o_data_row .o_data_cell[name=lot_id]:contains(LOT001)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-content .o_list_number:contains(20.00)\",\n        },\n        {\n            content: \"Check that 2 units of LOT001 were added\",\n            trigger:\n                \".o_data_row:has(.o_field_pick_from input:value(WH/Stock - LOT001)) .o_field_widget[name=quantity] input:value(2.00)\",\n        },\n        {\n            content: \"Check that the third line is associated with LOT003\",\n            trigger:\n                \".modal-content .o_data_row:nth-child(3) .o_field_pick_from:contains(WH/Stock - LOT003)\",\n        },\n        {\n            content: \"Modify the quant associated to the third line to use LOT002\",\n            trigger: \".modal-content .o_data_row:nth-child(3) .o_field_pick_from\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-content .o_data_row:nth-child(3) .o_field_pick_from input\",\n            run: \"edit LOT002\",\n        },\n        {\n            trigger: \".dropdown-item:contains(LOT002)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-header .modal-title:contains(Open: Stock move)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-content .o_data_row:nth-child(3) .o_field_pick_from:contains(LOT002)\",\n        },\n        {\n            content: \"Modify the quantity of the first line from 10 to 15 to change the demand\",\n            trigger: \".modal-content .o_data_row:nth-child(3) .o_data_cell[name=quantity]\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-content .o_data_row:nth-child(3) .o_field_widget[name=quantity] input\",\n            run: \"edit 15\",\n        },\n        {\n            content: \"Remove the LOT001 line with a quantity of 8.00\",\n            trigger:\n                \".o_data_row:has(.o_data_cell[name=quantity]:contains(8.00)) .o_list_record_remove\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-content .o_list_number:contains(17.00)\",\n        },\n        {\n            trigger: \".modal-content .o_field_x2many_list_row_add > a\",\n            run: \"click\",\n        },\n        {\n            content: \"LOT002 should not appear as it is not available\",\n            trigger: \".modal-header .modal-title:contains(Add line: Product Lot)\",\n            run: () => {\n                const lines = document.querySelectorAll(\".o_data_row .o_data_cell[name=lot_id]\");\n                if (lines.length !== 2) {\n                    console.error(\n                        \"Wrong number of available quants: \" + lines.length + \" instead of 2.\"\n                    );\n                }\n                const lineLOT002 = Array.from(lines).filter((line) =>\n                    line.textContent.includes(\"LOT002\")\n                );\n                if (lineLOT002.length) {\n                    console.error(\"LOT002 shoudld not be displayed as unavailable.\");\n                }\n            },\n        },\n        {\n            content: \"Pick LOT001 to create move line to fullfill the demand of 3\",\n            trigger: \".o_data_row .o_data_cell[name=lot_id]:contains(LOT001)\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-content .o_list_number:contains(20.00)\",\n        },\n        {\n            content: \"Check that 3 units of LOT001 were added\",\n            trigger:\n                \".modal-content .o_data_row:has(.o_field_pick_from input:value(WH/Stock - LOT001)):has(.o_field_float[name=quantity] input:value(3.00))\",\n        },\n        {\n            trigger: \".modal-content .o_form_button_save\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_button_save\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_renderer.o_form_saved\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\n    registry.category(\"web_tour.tours\").add('test_stock_route_diagram_report', {\n        steps: () => [\n        {\n            trigger: \".o_breadcrumb\",\n        },\n    {\n        trigger: '.o_kanban_record',\n        run: \"click\",\n    },\n    {\n        trigger: '.nav-item > a:contains(\"Inventory\")',\n        run: \"click\",\n    },\n    {\n        trigger: '.btn[id=\"stock.view_diagram_button\"]',\n        run: \"click\",\n    },\n    {\n        trigger: ':iframe .o_report_stock_rule',\n    },\n    ],\n    });\n\nregistry.category(\"web_tour.tours\").add(\"test_context_from_warehouse_filter\", {\n    steps: () => [\n        // Add \"foo\" to the warehouse context key\n        {\n            trigger: \".o_searchview_input\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_searchview_input\",\n            run: \"edit foo\",\n        },\n        {\n            trigger: \".o_menu_item.dropdown-item:contains(Warehouse):contains(foo)\",\n            run: \"click\",\n        },\n        // Add warehouse A's id to the warehouse context key\n        {\n            trigger: \".o_searchview_input\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_searchview_input\",\n            run: \"edit warehouse\",\n        },\n        {\n            trigger: \".o_menu_item.dropdown-item:contains(Search Warehouse for:) a.o_expand > i\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_menu_item.dropdown-item.o_indent:contains(Warehouse A) a\",\n            run: \"click\",\n        },\n        // Add warehouse B's id to the warehouse context key\n        {\n            trigger: \".o_searchview_input\",\n            run: \"edit warehouse\",\n        },\n        {\n            trigger: \".o_menu_item.dropdown-item:contains(Search Warehouse for:) a.o_expand > i\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_menu_item.dropdown-item.o_indent:contains(Warehouse B) a\",\n            run: \"click\",\n        },\n        {\n            content: \"Go to product page\",\n            trigger: \".o_kanban_record:has(span:contains(Lovely Product))\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_form_view\",\n            run: () => {\n                if (!document.querySelector(\"button[name=action_product_tmpl_forecast_report]\")) {\n                    const panelButtons = document.querySelectorAll(\n                        \".o_control_panel_actions button\"\n                    );\n                    const moreButton = Array.from(panelButtons).find(\n                        (button) => button.textContent.trim() == \"More\"\n                    );\n                    moreButton.click();\n                }\n            },\n        },\n        {\n            trigger: \"button[name=action_product_tmpl_forecast_report]\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_graph_view\",\n        },\n    ],\n});\n", "/** @odoo-module */\n\nimport { accountTourSteps } from \"@account/js/tours/account\";\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('account_tax_group', {\n    url: \"/odoo\",\n    steps: () => [\n    ...accountTourSteps.goToAccountMenu(\"Go to Invoicing\"),\n    {\n        content: \"Go to Vendors\",\n        trigger: 'span:contains(\"Vendors\")',\n        run: \"click\",\n    },\n    {\n        content: \"Go to Bills\",\n        trigger: 'a:contains(\"Bills\")',\n        run: \"click\",\n    },\n    {\n        trigger: \".o_breadcrumb .text-truncate:contains(Bills)\",\n    },\n    {\n        content: \"Create new bill\",\n        trigger: '.o_control_panel_main_buttons .o_list_button_add',\n        run: \"click\",\n    },\n    // Set a vendor\n    {\n        content: \"Add vendor\",\n        trigger: 'div.o_field_widget.o_field_res_partner_many2one[name=\"partner_id\"] div input',\n        run: \"edit Account Tax Group Partner\",\n    },\n    {\n        content: \"Valid vendor\",\n        trigger: '.ui-menu-item a:contains(\"Account Tax Group Partner\")',\n        run: \"click\",\n    },\n    // Add First product\n    {\n        content: \"Add items\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_field_x2many_list_row_add a:contains(\"Add a line\")',\n        run: \"click\",\n    },\n    {\n        content: \"Select input\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_selected_row .o_list_many2one[name=\"product_id\"] input',\n        run: \"edit Account Tax Group Product\",\n    },\n    {\n        content: \"Valid item\",\n        trigger: '.ui-menu-item-wrapper:contains(\"Account Tax Group Product\")',\n        run: \"click\",\n    },\n    // Save account.move\n    ...stepUtils.saveForm(),\n    // Edit tax group amount\n    {\n        content: \"Edit tax group amount\",\n        trigger: '.o_tax_group_edit',\n        run: \"click\",\n    },\n    {\n        content: \"Modify the input value\",\n        trigger: '.o_tax_group_edit_input input',\n        run() {\n            this.anchor.value = 200;\n            this.anchor.select();\n            this.anchor.blur();\n        },\n    },\n    // Check new value for total (with modified tax_group_amount).\n    {\n        content: \"Valid total amount\",\n        trigger: 'span[name=\"amount_total\"]:contains(\"800\")',\n        run: \"click\",\n    },\n    // Modify the quantity of the object\n    {\n        content: \"Select item quantity\",\n        trigger: 'div[name=\"invoice_line_ids\"] tbody tr.o_data_row .o_list_number[name=\"quantity\"]',\n        run: \"click\",\n    },\n    {\n        content: \"Change item quantity\",\n        trigger: 'div[name=\"invoice_line_ids\"] tbody tr.o_data_row .o_list_number[name=\"quantity\"] input',\n        run: \"edit 2\",\n    },\n    {\n        content: \"Valid the new value\",\n        trigger: 'div[name=\"invoice_line_ids\"] tbody tr.o_data_row .o_list_number[name=\"quantity\"] input',\n        run: \"press Enter\",\n    },\n    // Check new tax group value\n    {\n        content: \"Check new value of tax group\",\n        trigger: '.o_tax_group_amount_value:contains(\"120\")',\n        run: \"click\",\n    },\n    // Save form\n    ...stepUtils.saveForm(),\n    // Check new tax group value\n    {\n        content: \"Check new value of tax group\",\n        trigger: '.o_tax_group_amount_value:contains(\"120\")',\n        run: \"click\",\n    },\n    {\n        content: \"Edit tax value\",\n        trigger: '.o_tax_group_edit_input input',\n        run: \"edit 2 && click body\",\n    },\n    {\n        content: \"Check new value of total\",\n        trigger: '.oe_subtotal_footer_separator:contains(\"1,202\")',\n        run: \"click\",\n    },\n    {\n        content: \"Discard changes\",\n        trigger: '.o_form_button_cancel',\n        run: \"click\",\n    },\n    {\n        content: \"Check tax value is reset\",\n        trigger: '.o_tax_group_amount_value:contains(\"120\")',\n    },\n]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('tests_shared_js_python', {\n    url: \"/account/init_tests_shared_js_python\",\n    steps: () => [\n    {\n        content: \"Click\",\n        trigger: 'button',\n        run: \"click\",\n    },\n    {\n        content: \"Wait\",\n        trigger: 'button.text-success',\n        timeout: 3000,\n    },\n]});\n", "/* @odoo-module */\n\nimport { triggerEvent } from \"@web/../tests/helpers/utils\";\n\nexport function simulateBarCode(chars, target = document.body, selector = undefined) {\n    for (let char of chars) {\n        triggerEvent(target, selector, \"keydown\", {\n            key: char,\n        });\n    }\n}\n", "import * as Numpad from \"@point_of_sale/../tests/tours/utils/numpad_util\";\nimport { registry } from \"@web/core/registry\";\nimport * as Order from \"@point_of_sale/../tests/tours/utils/generic_components/order_widget_util\";\nimport { inLeftSide, waitForLoading } from \"@point_of_sale/../tests/tours/utils/common\";\nimport * as ProductScreen from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as PaymentScreen from \"@point_of_sale/../tests/tours/utils/payment_screen_util\";\nimport * as Chrome from \"@point_of_sale/../tests/tours/utils/chrome_util\";\n\nregistry.category(\"web_tour.tours\").add(\"pos_basic_order_01_multi_payment_and_change\", {\n    steps: () =>\n        [\n            waitForLoading(),\n            Chrome.startPoS(),\n            ProductScreen.clickDisplayedProduct(\"Desk Organizer\", true, \"1.0\", \"5.10\"),\n            ProductScreen.clickDisplayedProduct(\"Desk Organizer\", true, \"2.0\", \"10.20\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.enterPaymentLineAmount(\"Cash\", \"5\", true, {\n                amount: \"5.0\",\n                remaining: \"5.20\",\n            }),\n            PaymentScreen.clickPaymentMethod(\"Bank\", true, { amount: \"5.2\" }),\n            PaymentScreen.enterPaymentLineAmount(\"Bank\", \"6\", true, {\n                amount: \"6.0\",\n                change: \"0.80\",\n            }),\n            ProductScreen.finishOrder(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"pos_basic_order_02_decimal_order_quantity\", {\n    steps: () =>\n        [\n            waitForLoading(),\n            Chrome.startPoS(),\n            ProductScreen.clickDisplayedProduct(\"Desk Organizer\", true, \"1.0\"),\n            inLeftSide([\n                { ...ProductScreen.clickLine(\"Desk Organizer\")[0], isActive: [\"mobile\"] },\n                Numpad.click(\".\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Desk Organizer\", \"0.0\"),\n                Numpad.click(\"9\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Desk Organizer\", \"0.9\"),\n                Numpad.click(\"9\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Desk Organizer\", \"0.99\"),\n            ]),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\", true, { amount: \"5.05\" }),\n            ProductScreen.finishOrder(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"pos_basic_order_03_tax_position\", {\n    steps: () =>\n        [\n            waitForLoading(),\n            Chrome.startPoS(),\n            ProductScreen.clickDisplayedProduct(\"Letter Tray\", true, \"1.0\"),\n            inLeftSide(...Order.hasTotal(\"5.28\")),\n            ProductScreen.clickFiscalPosition(\"FP-POS-2M\", true),\n            inLeftSide(...Order.hasTotal(\"5.52\")),\n            ProductScreen.closePos(),\n        ].flat(),\n});\n", "import * as ProductScreen from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as Chrome from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport { registry } from \"@web/core/registry\";\nimport { scan_barcode } from \"@point_of_sale/../tests/tours/utils/common\";\n\nregistry.category(\"web_tour.tours\").add(\"BarcodeScanningTour\", {\n    steps: () =>\n        [\n            // The following step is to make sure that the Chrome widget initialization ends\n            // If we try to use the barcode parser before its initiation, we will have\n            // some inconsistent JS errors:\n            // TypeError: Cannot read properties of undefined (reading 'parse_barcode')\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n\n            // Add a product with its barcode\n            scan_barcode(\"0123456789\"),\n            ProductScreen.selectedOrderlineHas(\"Monitor Stand\"),\n            scan_barcode(\"0123456789\"),\n            ProductScreen.selectedOrderlineHas(\"Monitor Stand\", 2),\n\n            // Test \"Prices product\" EAN-13 `23.....{NNNDD}` barcode pattern\n            scan_barcode(\"2305000000004\"),\n            ProductScreen.selectedOrderlineHas(\"Magnetic Board\", 1, \"0.00\"),\n            scan_barcode(\"2305000123451\"),\n            ProductScreen.selectedOrderlineHas(\"Magnetic Board\", 1, \"123.45\"),\n\n            // Test \"Weighted product\" EAN-13 `21.....{NNDDD}` barcode pattern\n            scan_barcode(\"2100005000000\"),\n            ProductScreen.selectedOrderlineHas(\"Wall Shelf Unit\", 0, \"0.00\"),\n            scan_barcode(\"2100005080002\"),\n            ProductScreen.selectedOrderlineHas(\"Wall Shelf Unit\", 8),\n            Chrome.endTour(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"BarcodeScanningProductPackagingTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n\n            // Add the product with its barcode\n            scan_barcode(\"12345601\"),\n            ProductScreen.selectedOrderlineHas(\"Packaging Product\", 1),\n            scan_barcode(\"12345601\"),\n            ProductScreen.selectedOrderlineHas(\"Packaging Product\", 2),\n\n            // Add the product packaging with its barcode\n            scan_barcode(\"12345610\"),\n            ProductScreen.selectedOrderlineHas(\"Packaging Product\", 12),\n            scan_barcode(\"12345610\"),\n            ProductScreen.selectedOrderlineHas(\"Packaging Product\", 22),\n            Chrome.endTour(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"GS1BarcodeScanningTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n\n            // Add the Product 1 with GS1 barcode\n            scan_barcode(\"0108431673020125100000001\"),\n            ProductScreen.selectedOrderlineHas(\"Product 1\"),\n            scan_barcode(\"0108431673020125100000001\"),\n            ProductScreen.selectedOrderlineHas(\"Product 1\", 2),\n\n            // Add the Product 2 with normal barcode\n            scan_barcode(\"08431673020126\"),\n            ProductScreen.selectedOrderlineHas(\"Product 2\"),\n            scan_barcode(\"08431673020126\"),\n            ProductScreen.selectedOrderlineHas(\"Product 2\", 2),\n\n            // Add the Product 3 with normal barcode\n            scan_barcode(\"3760171283370\"),\n            ProductScreen.selectedOrderlineHas(\"Product 3\"),\n            scan_barcode(\"3760171283370\"),\n            ProductScreen.selectedOrderlineHas(\"Product 3\", 2),\n            Chrome.endTour(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"BarcodeScanPartnerTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n\n            // scan the customer barcode\n            scan_barcode(\"0421234567890\"),\n            ProductScreen.customerIsSelected(\"John Doe\"),\n            Chrome.endTour(),\n        ].flat(),\n});\n", "import * as ProductScreen from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as ReceiptScreen from \"@point_of_sale/../tests/tours/utils/receipt_screen_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as PaymentScreen from \"@point_of_sale/../tests/tours/utils/payment_screen_util\";\nimport * as TicketScreen from \"@point_of_sale/../tests/tours/utils/ticket_screen_util\";\nimport * as Chrome from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport * as Utils from \"@point_of_sale/../tests/tours/utils/common\";\nimport { registry } from \"@web/core/registry\";\nimport { inLeftSide, negateStep } from \"@point_of_sale/../tests/tours/utils/common\";\nimport * as Order from \"@point_of_sale/../tests/tours/utils/generic_components/order_widget_util\";\n\nregistry.category(\"web_tour.tours\").add(\"ChromeTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            Chrome.clickMenuButton(),\n            Chrome.clickMenuDropdownOption(\"Cash In/Out\"),\n            Chrome.fillTextArea(\".cash-reason\", \"MOBT\"),\n            Dialog.confirm(),\n            Chrome.clickMenuButton(),\n\n            // Order 1 is at Product Screen\n            ProductScreen.addOrderline(\"Desk Pad\", \"1\", \"2\", \"2.0\"),\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.checkStatus(\"-0001\", \"Ongoing\"),\n\n            // Order 2 is at Payment Screen\n            Chrome.createFloatingOrder(),\n            ProductScreen.addOrderline(\"Monitor Stand\", \"3\", \"4\", \"12.0\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.isShown(),\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.checkStatus(\"-0002\", \"Payment\"),\n\n            // Order 3 is at Receipt Screen\n            Chrome.createFloatingOrder(),\n            ProductScreen.addOrderline(\"Whiteboard Pen\", \"5\", \"6\", \"30.0\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\", true, { remaining: \"0.0\" }),\n            PaymentScreen.validateButtonIsHighlighted(true),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.isShown(),\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.checkStatus(\"-0003\", \"Receipt\"),\n\n            // Select order 1, should be at Product Screen\n            TicketScreen.selectOrder(\"-0001\"),\n            TicketScreen.loadSelectedOrder(),\n            ProductScreen.productIsDisplayed(\"Desk Pad\"),\n            inLeftSide([\n                ...ProductScreen.clickLine(\"Desk Pad\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Desk Pad\", \"1.0\", \"2.0\"),\n            ]),\n\n            // Select order 2, should be at Payment Screen\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.selectOrder(\"-0002\"),\n            TicketScreen.loadSelectedOrder(),\n            PaymentScreen.emptyPaymentlines(\"12.0\"),\n            PaymentScreen.validateButtonIsHighlighted(false),\n\n            // Select order 3, should be at Receipt Screen\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.selectOrder(\"-0003\"),\n            TicketScreen.loadSelectedOrder(),\n            ReceiptScreen.totalAmountContains(\"30.0\"),\n\n            // Pay order 1, with change\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.selectOrder(\"-0001\"),\n            TicketScreen.loadSelectedOrder(),\n            ProductScreen.isShown(),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.enterPaymentLineAmount(\"Cash\", \"20\", true, { change: \"18.0\" }),\n            PaymentScreen.validateButtonIsHighlighted(true),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.totalAmountContains(\"2.0\"),\n\n            // Order 1 now should have Receipt status\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.checkStatus(\"-0001\", \"Receipt\"),\n\n            // Select order 3, should still be at Receipt Screen\n            // and the total amount doesn't change.\n            TicketScreen.selectOrder(\"-0003\"),\n            TicketScreen.loadSelectedOrder(),\n            ReceiptScreen.totalAmountContains(\"30.0\"),\n\n            // click next screen on order 3\n            // then delete the new empty order\n            ReceiptScreen.clickNextOrder(),\n            ProductScreen.orderIsEmpty(),\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.deleteOrder(\"-0004\"),\n\n            // After deleting order 1 above, order 2 became\n            // the 2nd-row order and it has payment status\n            TicketScreen.nthRowContains(2, \"Payment\"),\n            TicketScreen.deleteOrder(\"-0002\"),\n            Dialog.confirm(),\n            Chrome.createFloatingOrder(),\n\n            // Invoice an order\n            ProductScreen.addOrderline(\"Whiteboard Pen\", \"5\", \"6\"),\n            ProductScreen.clickPartnerButton(),\n            ProductScreen.clickCustomer(\"Partner Test 1\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickInvoiceButton(),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.isShown(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"OrderModificationAfterValidationError\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Test Product\", true, \"1.00\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\", true, { remaining: \"0.0\" }),\n            PaymentScreen.clickValidate(),\n\n            // Dialog showing the error\n            Dialog.confirm(),\n\n            PaymentScreen.clickBack(),\n            { ...ProductScreen.back(), isActive: [\"mobile\"] },\n            ProductScreen.isShown(),\n\n            // Allow order changes after the error\n            ProductScreen.clickDisplayedProduct(\"Test Product\", true, \"2.00\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"SearchMoreCustomer\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickPartnerButton(),\n            ProductScreen.inputCustomerSearchbar(\"1111\"),\n            Utils.selectButton(\"Search more\"),\n            ProductScreen.clickCustomer(\"BPartner\"),\n            ProductScreen.isShown(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_tracking_number_closing_session\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Desk Organizer\", true, \"1.0\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.clickNextOrder(),\n            ProductScreen.isShown(),\n            Chrome.clickMenuOption(\"Close Register\"),\n            {\n                content: `Select button close register`,\n                trigger: `button:contains(close register)`,\n                run: \"click\",\n                expectUnloadPage: true,\n            },\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Desk Pad\", true, \"1.0\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_zero_decimal_places_currency\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Test Product\", true, \"1.00\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.receiptIsThere(),\n            ReceiptScreen.totalAmountContains(\"100\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_limited_categories\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickSubcategory(\"Parent\"),\n            ProductScreen.productIsDisplayed(\"Product 1\"),\n            ProductScreen.productIsDisplayed(\"Product 2\"),\n            ProductScreen.clickSubcategory(\"Child 1\"),\n            ProductScreen.productIsDisplayed(\"Product 1\"),\n            ProductScreen.productIsDisplayed(\"Product 2\").map(negateStep),\n            ProductScreen.clickSubcategory(\"Child 2\"),\n            ProductScreen.productIsDisplayed(\"Product 1\").map(negateStep),\n            ProductScreen.productIsDisplayed(\"Product 2\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"CustomerNoteIsPresentAfterRefresh\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Desk Organizer\", true, \"1.0\", \"5.10\"),\n            inLeftSide([\n                { ...ProductScreen.clickLine(\"Desk Organizer\")[0], isActive: [\"mobile\"] },\n                ...ProductScreen.addCustomerNote(\"Test customer note\"),\n                ...Order.hasLine({\n                    customerNote: \"Test customer note\",\n                }),\n            ]),\n            Utils.refresh(),\n            inLeftSide([\n                { ...ProductScreen.clickLine(\"Desk Organizer\")[0], isActive: [\"mobile\"] },\n                ...Order.hasLine({\n                    customerNote: \"Test customer note\",\n                }),\n            ]),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_chrome_without_cash_move_permission\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            Chrome.isCashMoveButtonHidden(),\n        ].flat(),\n});\n", "import * as Order from \"@point_of_sale/../tests/tours/utils/generic_components/order_widget_util\";\nimport { registry } from \"@web/core/registry\";\nimport { run } from \"@point_of_sale/../tests/tours/utils/common\";\n\nexport function postMessage(message, description = \"\") {\n    return run(() => {\n        window.customerDisplayChannel.postMessage(\n            typeof message === \"string\" ? JSON.parse(message) : message\n        );\n    }, `send message to customer display: ${description},  with value: ${message}`);\n}\n\nexport function amountIs(method, amount) {\n    return {\n        content: `Check that the ${method} amount is ${amount}`,\n        trigger: `div.row:has(div:contains('${method}')):has(div:contains('${amount}'))`,\n    };\n}\nconst ADD_PRODUCT =\n    '{\"lines\":[{\"productName\":\"Letter Tray\",\"price\":\"$\u00a02,972.75\",\"qty\":\"1.00\",\"unit\":\"Units\",\"unitPrice\":\"$\u00a02,972.75\",\"oldUnitPrice\":\"\",\"customerNote\":\"\",\"internalNote\":\"\",\"comboParent\":\"\",\"packLotLines\":[],\"price_without_discount\":\"$\u00a02,972.75\",\"isSelected\":false,\"imageSrc\":\"/web/image/product.product/855/image_128\"}],\"finalized\":false,\"amount\":\"2,972.75\",\"paymentLines\":[],\"change\":0,\"onlinePaymentData\":{}}';\nexport const ADD_PRODUCT_SELECTED =\n    '{\"lines\":[{\"productName\":\"Letter Tray\",\"price\":\"$\u00a02,972.75\",\"qty\":\"1.00\",\"unit\":\"Units\",\"unitPrice\":\"$\u00a02,972.75\",\"oldUnitPrice\":\"\",\"customerNote\":\"\",\"internalNote\":\"\",\"comboParent\":\"\",\"packLotLines\":[],\"price_without_discount\":\"$\u00a02,972.75\",\"isSelected\":true,\"imageSrc\":\"/web/image/product.product/855/image_128\"}],\"finalized\":false,\"amount\":\"2,972.75\",\"paymentLines\":[],\"change\":0,\"onlinePaymentData\":{}}';\nconst PAY_WITH_CASH =\n    '{\"lines\":[{\"productName\":\"Letter Tray\",\"price\":\"$\u00a02,972.75\",\"qty\":\"1.00\",\"unit\":\"Units\",\"unitPrice\":\"$\u00a02,972.75\",\"oldUnitPrice\":\"\",\"customerNote\":\"\",\"internalNote\":\"\",\"comboParent\":\"\",\"packLotLines\":[],\"price_without_discount\":\"$\u00a02,972.75\",\"isSelected\":true,\"imageSrc\":\"/web/image/product.product/855/image_128\"}],\"finalized\":false,\"amount\":\"2,972.75\",\"paymentLines\":[{\"name\":\"Cash\",\"amount\":\"2,972.75\"}],\"change\":0,\"onlinePaymentData\":{}}';\nexport const ORDER_IS_FINALIZED =\n    '{\"lines\":[{\"productName\":\"Letter Tray\",\"price\":\"$\u00a02,972.75\",\"qty\":\"1.00\",\"unit\":\"Units\",\"unitPrice\":\"$\u00a02,972.75\",\"oldUnitPrice\":\"\",\"customerNote\":\"\",\"internalNote\":\"\",\"comboParent\":\"\",\"packLotLines\":[],\"price_without_discount\":\"$\u00a02,972.75\",\"isSelected\":false,\"imageSrc\":\"/web/image/product.product/855/image_128\"}],\"finalized\":true,\"amount\":\"2,972.75\",\"paymentLines\":[{\"name\":\"Cash\",\"amount\":\"2,972.75\"}],\"change\":0,\"onlinePaymentData\":{}}';\nexport const NEW_ORDER =\n    '{\"lines\":[],\"finalized\":false,\"amount\":\"0.00\",\"paymentLines\":[],\"change\":0,\"onlinePaymentData\":{}}';\n\nconst QR_URL =\n    \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==\";\n\nconst PAY_WITH_CARD = {\n    lines: [\n        {\n            productName: \"Letter Tray\",\n            price: \"$\u00a02,972.75\",\n            qty: \"1.00\",\n            unit: \"Units\",\n            unitPrice: \"$\u00a02,972.75\",\n            oldUnitPrice: \"\",\n            customerNote: \"\",\n            internalNote: \"\",\n            comboParent: \"\",\n            packLotLines: [],\n            price_without_discount: \"$\u00a02,972.75\",\n            isSelected: true,\n            imageSrc: \"/web/image/product.product/855/image_128\",\n        },\n    ],\n    finalized: false,\n    amount: \"2,972.75\",\n    paymentLines: [{ name: \"CARD\", amount: \"2,972.75\" }],\n    change: 0,\n    onlinePaymentData: {},\n    qrPaymentData: null,\n};\n\nconst SEND_QR = {\n    lines: [\n        {\n            productName: \"Letter Tray\",\n            price: \"$\u00a02,972.75\",\n            qty: \"1.00\",\n            unit: \"Units\",\n            unitPrice: \"$\u00a02,972.75\",\n            oldUnitPrice: \"\",\n            customerNote: \"\",\n            internalNote: \"\",\n            comboParent: \"\",\n            packLotLines: [],\n            price_without_discount: \"$\u00a02,972.75\",\n            isSelected: true,\n            imageSrc: \"/web/image/product.product/855/image_128\",\n        },\n    ],\n    finalized: false,\n    amount: \"2,972.75\",\n    paymentLines: [{ name: \"CARD\", amount: \"2,972.75\" }],\n    change: 0,\n    onlinePaymentData: {},\n    qrPaymentData: {\n        amount: \"$\u00a02,972.75\",\n        name: \"CARD\",\n        qrCode: QR_URL,\n    },\n};\n\nregistry.category(\"web_tour.tours\").add(\"CustomerDisplayTour\", {\n    steps: () =>\n        [\n            {\n                trigger: \"div:contains('Welcome.')\",\n                run: () => {\n                    window.customerDisplayChannel = new BroadcastChannel(\"UPDATE_CUSTOMER_DISPLAY\");\n                    postMessage(ADD_PRODUCT, \"add product\").run();\n                },\n            },\n            Order.hasLine({ productName: \"Letter Tray\", price: \"2,972.75\" }),\n            {\n                content: \"An order line with `isSelected: false` should not have 'selected' class\",\n                trigger: \".order-container .orderline:last-child:not(.selected)\",\n            },\n            amountIs(\"Total\", \"2,972.75\"),\n            postMessage(PAY_WITH_CASH, \"pay with cash\"),\n            amountIs(\"Cash\", \"2,972.75\"),\n            postMessage(ORDER_IS_FINALIZED, \"order is finalized\"),\n            {\n                content: \"Check that we are now on the 'Thank you' screen\",\n                trigger: \"div:contains('Thank you.')\",\n            },\n            postMessage(NEW_ORDER, \"new order\"),\n            {\n                trigger: \" div:contains('Welcome.')\",\n            },\n            Order.doesNotHaveLine({}),\n            amountIs(\"Total\", \"0.00\"),\n            {\n                trigger: \"body\",\n                run: () => postMessage(ADD_PRODUCT_SELECTED, \"add products\").run(),\n            },\n            {\n                content: \"An order line with `isSelected: true` should have 'selected' class\",\n                trigger: \".order-container .orderline:last-child.selected\",\n            },\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"CustomerDisplayTourWithQr\", {\n    steps: () =>\n        [\n            {\n                trigger: \"div:contains('Welcome.')\",\n                run: () => {\n                    window.customerDisplayChannel = new BroadcastChannel(\"UPDATE_CUSTOMER_DISPLAY\");\n                    postMessage(ADD_PRODUCT, \"add product\").run();\n                },\n            },\n            Order.hasLine({ productName: \"Letter Tray\", price: \"2,972.75\" }),\n            amountIs(\"Total\", \"2,972.75\"),\n            postMessage(PAY_WITH_CARD, \"pay with card\"),\n            postMessage(SEND_QR, \"send qr code\"),\n            { trigger: \"img[alt='QR Code']\" },\n            postMessage(PAY_WITH_CARD, \"confirm payment\"),\n            postMessage(ORDER_IS_FINALIZED, \"order is finalized\"),\n            {\n                content: \"Check that we are now on the 'Thank you' screen\",\n                trigger: \"div:contains('Thank you.')\",\n            },\n        ].flat(),\n});\n", "import { registry } from \"@web/core/registry\";\nimport * as ProductScreen from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as PaymentScreen from \"@point_of_sale/../tests/tours/utils/payment_screen_util\";\nimport * as ReceiptScreen from \"@point_of_sale/../tests/tours/utils/receipt_screen_util\";\n\nregistry.category(\"web_tour.tours\").add(\"PoSFakeTourSimpleOrder\", {\n    steps: () =>\n        [\n            ProductScreen.clickDisplayedProduct(\"Desk Pad\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.clickNextOrder(),\n        ].flat(),\n});\n", "import * as ProductScreen from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as PaymentScreen from \"@point_of_sale/../tests/tours/utils/payment_screen_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as ReceiptScreen from \"@point_of_sale/../tests/tours/utils/receipt_screen_util\";\nimport { registry } from \"@web/core/registry\";\nimport * as Chrome from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport { inLeftSide } from \"@point_of_sale/../tests/tours/utils/common\";\nimport * as Numpad from \"@point_of_sale/../tests/tours/utils/numpad_util\";\n\nregistry.category(\"web_tour.tours\").add(\"FixedTaxNegativeQty\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Zero Amount Product\", true, \"1.0\", \"1.0\"),\n            inLeftSide([\n                {\n                    ...ProductScreen.clickLine(\"Zero Amount Product\", \"1.0\")[0],\n                    isActive: [\"mobile\"],\n                },\n                ...[\"+/-\"].map(Numpad.click),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Zero Amount Product\", \"-1.0\", \"-1.0\"),\n            ]),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\", true, { remaining: \"0.00\" }),\n            PaymentScreen.clickValidate(),\n\n            ReceiptScreen.receiptIsThere(),\n        ].flat(),\n});\n", "import * as Chrome from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as ProductScreen from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as PaymentScreen from \"@point_of_sale/../tests/tours/utils/payment_screen_util\";\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"PaymentScreenTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            ProductScreen.addOrderline(\"Letter Tray\", \"10\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.emptyPaymentlines(\"52.8\"),\n\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.enterPaymentLineAmount(\"Cash\", \"11\", true, {\n                amount: \"11.00\",\n                remaining: \"41.8\",\n            }),\n            PaymentScreen.validateButtonIsHighlighted(false),\n            // remove the selected paymentline with multiple backspace presses\n            PaymentScreen.clickNumpad(\"\u232b \u232b\"),\n            PaymentScreen.fillPaymentLineAmountMobile(\"Cash\", \"0\"),\n            PaymentScreen.selectedPaymentlineHas(\"Cash\", \"0.00\"),\n            PaymentScreen.clickPaymentlineDelButton(\"Cash\", \"0\", true),\n            PaymentScreen.emptyPaymentlines(\"52.8\"),\n\n            // Pay with bank, the selected line should have full amount\n            PaymentScreen.clickPaymentMethod(\"Bank\", true, { remaining: \"0.0\" }),\n            PaymentScreen.validateButtonIsHighlighted(true),\n            // remove the line using the delete button\n            PaymentScreen.clickPaymentlineDelButton(\"Bank\", \"52.8\"),\n\n            // Use +10 and +50 to increment the amount of the paymentline\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickNumpad(\"+10\"),\n            PaymentScreen.fillPaymentLineAmountMobile(\"Cash\", \"10\"),\n            PaymentScreen.remainingIs(\"42.8\"),\n            PaymentScreen.validateButtonIsHighlighted(false),\n            PaymentScreen.clickNumpad(\"5\"),\n            PaymentScreen.fillPaymentLineAmountMobile(\"Cash\", \"105\"),\n            PaymentScreen.changeIs(\"52.2\"),\n            PaymentScreen.validateButtonIsHighlighted(true),\n            PaymentScreen.clickNumpad(\"+50\"),\n            PaymentScreen.fillPaymentLineAmountMobile(\"Cash\", \"155\"),\n            PaymentScreen.changeIs(\"102.2\"),\n            PaymentScreen.validateButtonIsHighlighted(true),\n            PaymentScreen.clickPaymentlineDelButton(\"Cash\", \"155.0\"),\n\n            // Multiple paymentlines\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickNumpad(\"1\"),\n            PaymentScreen.fillPaymentLineAmountMobile(\"Cash\", \"1\"),\n            PaymentScreen.remainingIs(\"51.8\"),\n            PaymentScreen.validateButtonIsHighlighted(false),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.fillPaymentLineAmountMobile(\"Bank\", \"5\"),\n            PaymentScreen.clickNumpad(\"5\"),\n            PaymentScreen.remainingIs(\"46.8\"),\n            PaymentScreen.validateButtonIsHighlighted(false),\n            PaymentScreen.clickPaymentMethod(\"Bank\", true, { remaining: \"0.0\" }),\n            PaymentScreen.validateButtonIsHighlighted(true),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"PaymentScreenTour2\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.addOrderline(\"Letter Tray\", \"1\", \"10\"),\n            ProductScreen.clickPayButton(),\n\n            // check that ship later button is present\n            { trigger: \".payment-buttons button:contains('Ship Later')\" },\n\n            PaymentScreen.enterPaymentLineAmount(\"Bank\", \"99\"),\n            // trying to put 99 as an amount should throw an error. We thus confirm the dialog.\n            Dialog.confirm(),\n            PaymentScreen.remainingIs(\"0.0\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"PaymentScreenRoundingUp\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.addOrderline(\"Product Test\", \"1\"),\n            ProductScreen.clickPayButton(),\n\n            PaymentScreen.totalIs(\"1.96\"),\n            PaymentScreen.clickPaymentMethod(\"Cash\", true, { remaining: \"0.0\", amount: \"2.00\" }),\n\n            Chrome.clickMenuOption(\"Orders\"),\n            Chrome.createFloatingOrder(),\n\n            // To get negative of existing quantity just send -\n            ProductScreen.addOrderline(\"Product Test\", \"-\"),\n            ProductScreen.clickPayButton(),\n\n            PaymentScreen.totalIs(\"-1.96\"),\n            PaymentScreen.clickPaymentMethod(\"Cash\", true, { remaining: \"0.0\", amount: \"-2.00\" }),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"PaymentScreenRoundingDown\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.addOrderline(\"Product Test\", \"1\"),\n            ProductScreen.clickPayButton(),\n\n            PaymentScreen.totalIs(\"1.98\"),\n            PaymentScreen.clickPaymentMethod(\"Cash\", true, { remaining: \"0.0\", amount: \"1.95\" }),\n\n            Chrome.clickMenuOption(\"Orders\"),\n            Chrome.createFloatingOrder(),\n\n            // To get negative of existing quantity just send -\n            ProductScreen.addOrderline(\"Product Test\", \"-\"),\n            ProductScreen.clickPayButton(),\n\n            PaymentScreen.totalIs(\"-1.98\"),\n            PaymentScreen.clickPaymentMethod(\"Cash\", true, { remaining: \"0.0\", amount: \"-1.95\" }),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"PaymentScreenRoundingHalfUp\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.addOrderline(\"Product Test 1.20\", \"1\"),\n            ProductScreen.clickPayButton(),\n\n            PaymentScreen.totalIs(\"1.20\"),\n            PaymentScreen.clickPaymentMethod(\"Cash\", true, { remaining: \"0.0\", amount: \"1.00\" }),\n\n            Chrome.clickMenuOption(\"Orders\"),\n            Chrome.createFloatingOrder(),\n\n            ProductScreen.addOrderline(\"Product Test 1.25\", \"1\"),\n            ProductScreen.clickPayButton(),\n\n            PaymentScreen.totalIs(\"1.25\"),\n            PaymentScreen.clickPaymentMethod(\"Cash\", true, { remaining: \"0.0\", amount: \"1.50\" }),\n\n            Chrome.clickMenuOption(\"Orders\"),\n            Chrome.createFloatingOrder(),\n\n            ProductScreen.addOrderline(\"Product Test 1.4\", \"1\"),\n            ProductScreen.clickPayButton(),\n\n            PaymentScreen.totalIs(\"1.4\"),\n            PaymentScreen.clickPaymentMethod(\"Cash\", true, { remaining: \"0.0\", amount: \"1.50\" }),\n\n            Chrome.clickMenuOption(\"Orders\"),\n            Chrome.createFloatingOrder(),\n\n            ProductScreen.addOrderline(\"Product Test 1.20\", \"1\"),\n            ProductScreen.clickPayButton(),\n\n            PaymentScreen.totalIs(\"1.20\"),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickNumpad(\"2\"),\n            PaymentScreen.fillPaymentLineAmountMobile(\"Cash\", \"2\"),\n\n            PaymentScreen.changeIs(\"1.0\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"PaymentScreenTotalDueWithOverPayment\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            ProductScreen.addOrderline(\"Product Test\", \"1\"),\n            ProductScreen.clickPayButton(),\n\n            PaymentScreen.totalIs(\"1.98\"),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.enterPaymentLineAmount(\"Cash\", \"5\", true, {\n                change: \"3.05\",\n            }),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"InvoiceShipLaterAccessRight\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            ProductScreen.confirmOpeningPopup(),\n            ProductScreen.clickHomeCategory(),\n            ProductScreen.addOrderline(\"Whiteboard Pen\", \"1\"),\n            ProductScreen.clickPartnerButton(),\n            ProductScreen.clickCustomer(\"Deco Addict\"),\n            ProductScreen.clickPayButton(),\n\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickShipLaterButton(),\n            PaymentScreen.clickValidate(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"CashRoundingPayment\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.addOrderline(\"Magnetic Board\", \"1\"),\n            ProductScreen.clickPayButton(),\n\n            // Pay it with exact amount but with incorrect rounding so there should be an error popup.\n            PaymentScreen.totalIs(\"1.98\"),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.enterPaymentLineAmount(\"Cash\", \"1.98\"),\n            PaymentScreen.clickValidate(),\n            Dialog.is(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"PaymentScreenInvoiceOrder\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.addOrderline(\"Product Test\", \"1\"),\n            ProductScreen.clickPartnerButton(),\n            ProductScreen.clickCustomer(\"Partner Test 1\"),\n            ProductScreen.clickPayButton(),\n\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickInvoiceButton(),\n            PaymentScreen.clickValidate(),\n        ].flat(),\n});\n", "import * as Chrome from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as ProductScreen from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as PaymentScreen from \"@point_of_sale/../tests/tours/utils/payment_screen_util\";\nimport * as ReceiptScreen from \"@point_of_sale/../tests/tours/utils/receipt_screen_util\";\nimport * as TicketScreen from \"@point_of_sale/../tests/tours/utils/ticket_screen_util\";\nimport { registry } from \"@web/core/registry\";\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"test_cash_rounding_halfup_add_invoice_line_not_only_round_cash_method\", {\n        steps: () =>\n            [\n                Chrome.startPoS(),\n                Dialog.confirm(\"Open Register\"),\n\n                // Order.\n                ProductScreen.addOrderline(\"random_product\", \"1\"),\n                ProductScreen.clickPartnerButton(),\n                ProductScreen.clickCustomer(\"AAAAAA\"),\n                ProductScreen.clickPayButton(),\n\n                PaymentScreen.totalIs(\"15.72\"),\n                PaymentScreen.clickPaymentMethod(\"Cash\"),\n                PaymentScreen.remainingIs(\"0.0\"),\n\n                PaymentScreen.clickInvoiceButton(),\n                PaymentScreen.clickValidate(),\n\n                ReceiptScreen.receiptAmountTotalIs(\"15.72\"),\n                ReceiptScreen.receiptRoundingAmountIs(\"-0.02\"),\n                ReceiptScreen.receiptToPayAmountIs(\"15.70\"),\n                ReceiptScreen.receiptChangeAmountIsNotThere(),\n                ReceiptScreen.clickNextOrder(),\n\n                // Refund.\n                Chrome.clickMenuOption(\"Orders\"),\n                TicketScreen.selectFilter(\"All active orders\"),\n                TicketScreen.selectFilter(\"Paid\"),\n                TicketScreen.selectOrder(\"-0001\"),\n                TicketScreen.confirmRefund(),\n\n                ProductScreen.clickPayButton(),\n\n                PaymentScreen.totalIs(\"-15.72\"),\n                PaymentScreen.clickPaymentMethod(\"Cash\"),\n                PaymentScreen.remainingIs(\"0.0\"),\n\n                PaymentScreen.clickInvoiceButton(),\n                PaymentScreen.clickValidate(),\n\n                ReceiptScreen.receiptAmountTotalIs(\"-15.72\"),\n                ReceiptScreen.receiptRoundingAmountIs(\"0.02\"),\n                ReceiptScreen.receiptToPayAmountIs(\"-15.70\"),\n                ReceiptScreen.receiptChangeAmountIsNotThere(),\n                ReceiptScreen.clickNextOrder(),\n            ].flat(),\n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\n        \"test_cash_rounding_halfup_add_invoice_line_not_only_round_cash_method_pay_by_bank_and_cash\",\n        {\n            steps: () =>\n                [\n                    Chrome.startPoS(),\n                    Dialog.confirm(\"Open Register\"),\n\n                    // Order.\n                    ProductScreen.addOrderline(\"random_product\", \"1\"),\n                    ProductScreen.clickPartnerButton(),\n                    ProductScreen.clickCustomer(\"AAAAAA\"),\n                    ProductScreen.clickPayButton(),\n\n                    PaymentScreen.totalIs(\"15.72\"),\n                    PaymentScreen.clickPaymentMethod(\"Bank\"),\n                    PaymentScreen.clickNumpad(\". 6 8\"),\n                    PaymentScreen.fillPaymentLineAmountMobile(\"Bank\", \"0.68\"),\n                    PaymentScreen.remainingIs(\"15.04\"),\n                    PaymentScreen.clickPaymentMethod(\"Cash\"),\n                    PaymentScreen.remainingIs(\"0.0\"),\n\n                    PaymentScreen.clickInvoiceButton(),\n                    PaymentScreen.clickValidate(),\n\n                    ReceiptScreen.receiptAmountTotalIs(\"15.72\"),\n                    ReceiptScreen.receiptRoundingAmountIs(\"0.01\"),\n                    ReceiptScreen.receiptToPayAmountIs(\"15.73\"),\n                    ReceiptScreen.receiptChangeAmountIsNotThere(),\n                    ReceiptScreen.clickNextOrder(),\n\n                    // Refund.\n                    Chrome.clickMenuOption(\"Orders\"),\n                    TicketScreen.selectFilter(\"All active orders\"),\n                    TicketScreen.selectFilter(\"Paid\"),\n                    TicketScreen.selectOrder(\"-0001\"),\n                    TicketScreen.confirmRefund(),\n\n                    ProductScreen.clickPayButton(),\n\n                    PaymentScreen.totalIs(\"-15.72\"),\n                    PaymentScreen.clickPaymentMethod(\"Bank\"),\n                    PaymentScreen.clickNumpad(\". 6 8 +/-\"),\n                    PaymentScreen.fillPaymentLineAmountMobile(\"Bank\", \"-0.68\"),\n                    PaymentScreen.remainingIs(\"-15.04\"),\n                    PaymentScreen.clickPaymentMethod(\"Cash\"),\n                    PaymentScreen.remainingIs(\"0.0\"),\n\n                    PaymentScreen.clickInvoiceButton(),\n                    PaymentScreen.clickValidate(),\n\n                    ReceiptScreen.receiptAmountTotalIs(\"-15.72\"),\n                    ReceiptScreen.receiptRoundingAmountIs(\"-0.01\"),\n                    ReceiptScreen.receiptToPayAmountIs(\"-15.73\"),\n                    ReceiptScreen.receiptChangeAmountIsNotThere(),\n                    ReceiptScreen.clickNextOrder(),\n                ].flat(),\n        }\n    );\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"test_cash_rounding_down_add_invoice_line_not_only_round_cash_method_no_rounding_left\", {\n        steps: () =>\n            [\n                Chrome.startPoS(),\n                Dialog.confirm(\"Open Register\"),\n\n                // Order.\n                ProductScreen.addOrderline(\"random_product\", \"1\"),\n                ProductScreen.clickPartnerButton(),\n                ProductScreen.clickCustomer(\"AAAAAA\"),\n                ProductScreen.clickPayButton(),\n\n                PaymentScreen.totalIs(\"15.72\"),\n                PaymentScreen.clickPaymentMethod(\"Bank\"),\n                PaymentScreen.clickNumpad(\". 6 7\"),\n                PaymentScreen.fillPaymentLineAmountMobile(\"Bank\", \"0.67\"),\n                PaymentScreen.remainingIs(\"15.05\"),\n                PaymentScreen.clickPaymentMethod(\"Cash\"),\n                PaymentScreen.remainingIs(\"0.0\"),\n\n                PaymentScreen.clickInvoiceButton(),\n                PaymentScreen.clickValidate(),\n\n                ReceiptScreen.receiptAmountTotalIs(\"15.72\"),\n                ReceiptScreen.receiptRoundingAmountIsNotThere(),\n                ReceiptScreen.receiptToPayAmountIsNotThere(),\n                ReceiptScreen.receiptChangeAmountIsNotThere(),\n                ReceiptScreen.clickNextOrder(),\n\n                // Refund.\n                Chrome.clickMenuOption(\"Orders\"),\n                TicketScreen.selectFilter(\"All active orders\"),\n                TicketScreen.selectFilter(\"Paid\"),\n                TicketScreen.selectOrder(\"-0001\"),\n                TicketScreen.confirmRefund(),\n\n                ProductScreen.clickPayButton(),\n\n                PaymentScreen.totalIs(\"-15.72\"),\n                PaymentScreen.clickPaymentMethod(\"Bank\"),\n                PaymentScreen.clickNumpad(\"+/- . 6 7\"),\n                PaymentScreen.fillPaymentLineAmountMobile(\"Bank\", \"-0.67\"),\n                PaymentScreen.remainingIs(\"-15.05\"),\n                PaymentScreen.clickPaymentMethod(\"Cash\"),\n                PaymentScreen.remainingIs(\"0.0\"),\n\n                PaymentScreen.clickInvoiceButton(),\n                PaymentScreen.clickValidate(),\n\n                ReceiptScreen.receiptAmountTotalIs(\"-15.72\"),\n                ReceiptScreen.receiptRoundingAmountIsNotThere(),\n                ReceiptScreen.receiptToPayAmountIsNotThere(),\n                ReceiptScreen.receiptChangeAmountIsNotThere(),\n                ReceiptScreen.clickNextOrder(),\n            ].flat(),\n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\n        \"test_cash_rounding_down_add_invoice_line_not_only_round_cash_method_with_residual_rounding\",\n        {\n            steps: () =>\n                [\n                    Chrome.startPoS(),\n                    Dialog.confirm(\"Open Register\"),\n\n                    // Order.\n                    ProductScreen.addOrderline(\"random_product\", \"1\"),\n                    ProductScreen.clickPartnerButton(),\n                    ProductScreen.clickCustomer(\"AAAAAA\"),\n                    ProductScreen.clickPayButton(),\n\n                    PaymentScreen.totalIs(\"15.72\"),\n                    PaymentScreen.clickPaymentMethod(\"Bank\"),\n                    PaymentScreen.clickNumpad(\". 6 8\"),\n                    PaymentScreen.fillPaymentLineAmountMobile(\"Bank\", \"0.68\"),\n                    PaymentScreen.remainingIs(\"15.04\"),\n                    PaymentScreen.clickPaymentMethod(\"Cash\"),\n                    PaymentScreen.remainingIs(\"0.0\"),\n\n                    PaymentScreen.clickInvoiceButton(),\n                    PaymentScreen.clickValidate(),\n\n                    ReceiptScreen.receiptAmountTotalIs(\"15.72\"),\n                    ReceiptScreen.receiptRoundingAmountIs(\"-0.04\"),\n                    ReceiptScreen.receiptToPayAmountIs(\"15.68\"),\n                    ReceiptScreen.receiptChangeAmountIsNotThere(),\n                    ReceiptScreen.clickNextOrder(),\n\n                    // Refund.\n                    Chrome.clickMenuOption(\"Orders\"),\n                    TicketScreen.selectFilter(\"All active orders\"),\n                    TicketScreen.selectFilter(\"Paid\"),\n                    TicketScreen.selectOrder(\"-0001\"),\n                    TicketScreen.confirmRefund(),\n\n                    ProductScreen.clickPayButton(),\n\n                    PaymentScreen.totalIs(\"-15.72\"),\n                    PaymentScreen.clickPaymentMethod(\"Bank\"),\n                    PaymentScreen.clickNumpad(\"+/- . 6 8\"),\n                    PaymentScreen.fillPaymentLineAmountMobile(\"Bank\", \"-0.68\"),\n                    PaymentScreen.remainingIs(\"-15.04\"),\n                    PaymentScreen.clickPaymentMethod(\"Cash\"),\n                    PaymentScreen.remainingIs(\"0.0\"),\n\n                    PaymentScreen.clickInvoiceButton(),\n                    PaymentScreen.clickValidate(),\n\n                    ReceiptScreen.receiptAmountTotalIs(\"-15.72\"),\n                    ReceiptScreen.receiptRoundingAmountIs(\"0.04\"),\n                    ReceiptScreen.receiptToPayAmountIs(\"-15.68\"),\n                    ReceiptScreen.receiptChangeAmountIsNotThere(),\n                    ReceiptScreen.clickNextOrder(),\n                ].flat(),\n        }\n    );\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"test_cash_rounding_up_add_invoice_line_not_only_round_cash_method\", {\n        steps: () =>\n            [\n                Chrome.startPoS(),\n                Dialog.confirm(\"Open Register\"),\n\n                // Order.\n                ProductScreen.addOrderline(\"random_product\", \"1\"),\n                ProductScreen.clickPartnerButton(),\n                ProductScreen.clickCustomer(\"AAAAAA\"),\n                ProductScreen.clickPayButton(),\n\n                PaymentScreen.totalIs(\"15.72\"),\n                PaymentScreen.clickPaymentMethod(\"Bank\"),\n                PaymentScreen.clickNumpad(\". 6 4\"),\n                PaymentScreen.fillPaymentLineAmountMobile(\"Bank\", \"0.64\"),\n                PaymentScreen.remainingIs(\"15.08\"),\n                PaymentScreen.clickPaymentMethod(\"Cash\"),\n                PaymentScreen.remainingIs(\"0.0\"),\n\n                PaymentScreen.clickInvoiceButton(),\n                PaymentScreen.clickValidate(),\n\n                ReceiptScreen.receiptAmountTotalIs(\"15.72\"),\n                ReceiptScreen.receiptRoundingAmountIs(\"0.02\"),\n                ReceiptScreen.receiptToPayAmountIs(\"15.74\"),\n                ReceiptScreen.receiptChangeAmountIsNotThere(),\n                ReceiptScreen.clickNextOrder(),\n\n                // Refund.\n                Chrome.clickMenuOption(\"Orders\"),\n                TicketScreen.selectFilter(\"All active orders\"),\n                TicketScreen.selectFilter(\"Paid\"),\n                TicketScreen.selectOrder(\"-0001\"),\n                TicketScreen.confirmRefund(),\n\n                ProductScreen.clickPayButton(),\n\n                PaymentScreen.totalIs(\"-15.72\"),\n                PaymentScreen.clickPaymentMethod(\"Bank\"),\n                PaymentScreen.clickNumpad(\"+/- . 6 4\"),\n                PaymentScreen.fillPaymentLineAmountMobile(\"Bank\", \"-0.64\"),\n                PaymentScreen.remainingIs(\"-15.08\"),\n                PaymentScreen.clickPaymentMethod(\"Cash\"),\n                PaymentScreen.remainingIs(\"0.0\"),\n\n                PaymentScreen.clickInvoiceButton(),\n                PaymentScreen.clickValidate(),\n\n                ReceiptScreen.receiptAmountTotalIs(\"-15.72\"),\n                ReceiptScreen.receiptRoundingAmountIs(\"-0.02\"),\n                ReceiptScreen.receiptToPayAmountIs(\"-15.74\"),\n                ReceiptScreen.receiptChangeAmountIsNotThere(),\n                ReceiptScreen.clickNextOrder(),\n            ].flat(),\n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"test_cash_rounding_halfup_add_invoice_line_only_round_cash_method\", {\n        steps: () =>\n            [\n                Chrome.startPoS(),\n                Dialog.confirm(\"Open Register\"),\n\n                // Order.\n                ProductScreen.addOrderline(\"random_product\", \"1\"),\n                ProductScreen.clickPartnerButton(),\n                ProductScreen.clickCustomer(\"AAAAAA\"),\n                ProductScreen.clickPayButton(),\n\n                PaymentScreen.totalIs(\"15.72\"),\n                PaymentScreen.clickPaymentMethod(\"Cash\"),\n                PaymentScreen.remainingIs(\"0.0\"),\n\n                PaymentScreen.clickInvoiceButton(),\n                PaymentScreen.clickValidate(),\n\n                ReceiptScreen.receiptAmountTotalIs(\"15.72\"),\n                ReceiptScreen.receiptRoundingAmountIs(\"-0.02\"),\n                ReceiptScreen.receiptToPayAmountIs(\"15.70\"),\n                ReceiptScreen.receiptChangeAmountIsNotThere(),\n                ReceiptScreen.clickNextOrder(),\n\n                // Refund.\n                Chrome.clickMenuOption(\"Orders\"),\n                TicketScreen.selectFilter(\"All active orders\"),\n                TicketScreen.selectFilter(\"Paid\"),\n                TicketScreen.selectOrder(\"-0001\"),\n                TicketScreen.confirmRefund(),\n\n                ProductScreen.clickPayButton(),\n\n                PaymentScreen.totalIs(\"-15.72\"),\n                PaymentScreen.clickPaymentMethod(\"Cash\"),\n                PaymentScreen.remainingIs(\"0.0\"),\n\n                PaymentScreen.clickInvoiceButton(),\n                PaymentScreen.clickValidate(),\n\n                ReceiptScreen.receiptAmountTotalIs(\"-15.72\"),\n                ReceiptScreen.receiptRoundingAmountIs(\"0.02\"),\n                ReceiptScreen.receiptToPayAmountIs(\"-15.70\"),\n                ReceiptScreen.receiptChangeAmountIsNotThere(),\n                ReceiptScreen.clickNextOrder(),\n            ].flat(),\n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"test_cash_rounding_halfup_add_invoice_line_only_round_cash_method_pay_by_bank_and_cash\", {\n        steps: () =>\n            [\n                Chrome.startPoS(),\n                Dialog.confirm(\"Open Register\"),\n\n                // Order.\n                ProductScreen.addOrderline(\"random_product\", \"1\"),\n                ProductScreen.clickPartnerButton(),\n                ProductScreen.clickCustomer(\"AAAAAA\"),\n                ProductScreen.clickPayButton(),\n\n                PaymentScreen.totalIs(\"15.72\"),\n                PaymentScreen.clickPaymentMethod(\"Bank\"),\n                PaymentScreen.clickNumpad(\". 6 8\"),\n                PaymentScreen.fillPaymentLineAmountMobile(\"Bank\", \"0.68\"),\n                PaymentScreen.remainingIs(\"15.04\"),\n                PaymentScreen.clickPaymentMethod(\"Cash\"),\n                PaymentScreen.remainingIs(\"0.0\"),\n\n                PaymentScreen.clickInvoiceButton(),\n                PaymentScreen.clickValidate(),\n\n                ReceiptScreen.receiptAmountTotalIs(\"15.72\"),\n                ReceiptScreen.receiptRoundingAmountIs(\"0.01\"),\n                ReceiptScreen.receiptToPayAmountIs(\"15.73\"),\n                ReceiptScreen.receiptChangeAmountIsNotThere(),\n                ReceiptScreen.clickNextOrder(),\n\n                // Refund.\n                Chrome.clickMenuOption(\"Orders\"),\n                TicketScreen.selectFilter(\"All active orders\"),\n                TicketScreen.selectFilter(\"Paid\"),\n                TicketScreen.selectOrder(\"-0001\"),\n                TicketScreen.confirmRefund(),\n\n                ProductScreen.clickPayButton(),\n\n                PaymentScreen.totalIs(\"-15.72\"),\n                PaymentScreen.clickPaymentMethod(\"Bank\"),\n                PaymentScreen.clickNumpad(\"+/- . 6 8\"),\n                PaymentScreen.fillPaymentLineAmountMobile(\"Bank\", \"-0.68\"),\n                PaymentScreen.remainingIs(\"-15.04\"),\n                PaymentScreen.clickPaymentMethod(\"Cash\"),\n                PaymentScreen.remainingIs(\"0.0\"),\n\n                PaymentScreen.clickInvoiceButton(),\n                PaymentScreen.clickValidate(),\n\n                ReceiptScreen.receiptAmountTotalIs(\"-15.72\"),\n                ReceiptScreen.receiptRoundingAmountIs(\"-0.01\"),\n                ReceiptScreen.receiptToPayAmountIs(\"-15.73\"),\n                ReceiptScreen.receiptChangeAmountIsNotThere(),\n                ReceiptScreen.clickNextOrder(),\n            ].flat(),\n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"test_cash_rounding_halfup_biggest_tax_not_only_round_cash_method\", {\n        steps: () =>\n            [\n                Chrome.startPoS(),\n                Dialog.confirm(\"Open Register\"),\n\n                // Order.\n                ProductScreen.addOrderline(\"random_product\", \"1\"),\n                ProductScreen.clickPartnerButton(),\n                ProductScreen.clickCustomer(\"AAAAAA\"),\n                ProductScreen.clickPayButton(),\n\n                PaymentScreen.totalIs(\"15.70\"),\n                PaymentScreen.clickPaymentMethod(\"Cash\"),\n                PaymentScreen.remainingIs(\"0.0\"),\n\n                PaymentScreen.clickInvoiceButton(),\n                PaymentScreen.clickValidate(),\n\n                ReceiptScreen.receiptAmountTotalIs(\"15.70\"),\n                ReceiptScreen.receiptToPayAmountIsNotThere(),\n                ReceiptScreen.receiptChangeAmountIsNotThere(),\n                ReceiptScreen.clickNextOrder(),\n\n                // Refund.\n                Chrome.clickMenuOption(\"Orders\"),\n                TicketScreen.selectFilter(\"All active orders\"),\n                TicketScreen.selectFilter(\"Paid\"),\n                TicketScreen.selectOrder(\"-0001\"),\n                TicketScreen.confirmRefund(),\n\n                ProductScreen.clickPayButton(),\n\n                PaymentScreen.totalIs(\"-15.70\"),\n                PaymentScreen.clickPaymentMethod(\"Cash\"),\n                PaymentScreen.remainingIs(\"0.0\"),\n\n                PaymentScreen.clickInvoiceButton(),\n                PaymentScreen.clickValidate(),\n\n                ReceiptScreen.receiptAmountTotalIs(\"-15.70\"),\n                ReceiptScreen.receiptToPayAmountIsNotThere(),\n                ReceiptScreen.receiptChangeAmountIsNotThere(),\n                ReceiptScreen.clickNextOrder(),\n            ].flat(),\n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"test_cash_rounding_halfup_biggest_tax_not_only_round_cash_method_pay_by_bank_and_cash\", {\n        steps: () =>\n            [\n                Chrome.startPoS(),\n                Dialog.confirm(\"Open Register\"),\n\n                // Order.\n                ProductScreen.addOrderline(\"random_product\", \"1\"),\n                ProductScreen.clickPartnerButton(),\n                ProductScreen.clickCustomer(\"AAAAAA\"),\n                ProductScreen.clickPayButton(),\n\n                PaymentScreen.totalIs(\"15.70\"),\n                PaymentScreen.clickPaymentMethod(\"Bank\"),\n                PaymentScreen.clickNumpad(\". 6 7\"),\n                PaymentScreen.fillPaymentLineAmountMobile(\"Bank\", \"0.67\"),\n                PaymentScreen.remainingIs(\"15.03\"),\n                PaymentScreen.clickPaymentMethod(\"Cash\"),\n                PaymentScreen.remainingIs(\"0.0\"),\n\n                PaymentScreen.clickInvoiceButton(),\n                PaymentScreen.clickValidate(),\n\n                ReceiptScreen.receiptAmountTotalIs(\"15.70\"),\n                ReceiptScreen.receiptRoundingAmountIs(\"0.02\"),\n                ReceiptScreen.receiptToPayAmountIs(\"15.72\"),\n                ReceiptScreen.receiptChangeAmountIsNotThere(),\n                ReceiptScreen.clickNextOrder(),\n\n                // Refund.\n                Chrome.clickMenuOption(\"Orders\"),\n                TicketScreen.selectFilter(\"All active orders\"),\n                TicketScreen.selectFilter(\"Paid\"),\n                TicketScreen.selectOrder(\"-0001\"),\n                TicketScreen.confirmRefund(),\n\n                ProductScreen.clickPayButton(),\n\n                PaymentScreen.totalIs(\"-15.70\"),\n                PaymentScreen.clickPaymentMethod(\"Bank\"),\n                PaymentScreen.clickNumpad(\"+/- . 6 7\"),\n                PaymentScreen.fillPaymentLineAmountMobile(\"Bank\", \"-0.67\"),\n                PaymentScreen.remainingIs(\"-15.03\"),\n                PaymentScreen.clickPaymentMethod(\"Cash\"),\n                PaymentScreen.remainingIs(\"0.0\"),\n\n                PaymentScreen.clickInvoiceButton(),\n                PaymentScreen.clickValidate(),\n\n                ReceiptScreen.receiptAmountTotalIs(\"-15.70\"),\n                ReceiptScreen.receiptRoundingAmountIs(\"-0.02\"),\n                ReceiptScreen.receiptToPayAmountIs(\"-15.72\"),\n                ReceiptScreen.receiptChangeAmountIsNotThere(),\n                ReceiptScreen.clickNextOrder(),\n            ].flat(),\n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"test_cash_rounding_halfup_biggest_tax_only_round_cash_method\", {\n        steps: () =>\n            [\n                Chrome.startPoS(),\n                Dialog.confirm(\"Open Register\"),\n\n                // Order.\n                ProductScreen.addOrderline(\"random_product\", \"1\"),\n                ProductScreen.clickPartnerButton(),\n                ProductScreen.clickCustomer(\"AAAAAA\"),\n                ProductScreen.clickPayButton(),\n\n                PaymentScreen.totalIs(\"15.72\"),\n                PaymentScreen.clickPaymentMethod(\"Cash\"),\n                PaymentScreen.remainingIs(\"0.0\"),\n\n                PaymentScreen.clickInvoiceButton(),\n                PaymentScreen.clickValidate(),\n\n                ReceiptScreen.receiptAmountTotalIs(\"15.72\"),\n                ReceiptScreen.receiptRoundingAmountIs(\"-0.02\"),\n                ReceiptScreen.receiptToPayAmountIs(\"15.70\"),\n                ReceiptScreen.receiptChangeAmountIsNotThere(),\n                ReceiptScreen.clickNextOrder(),\n\n                // Refund.\n                Chrome.clickMenuOption(\"Orders\"),\n                TicketScreen.selectFilter(\"All active orders\"),\n                TicketScreen.selectFilter(\"Paid\"),\n                TicketScreen.selectOrder(\"-0001\"),\n                TicketScreen.confirmRefund(),\n\n                ProductScreen.clickPayButton(),\n\n                PaymentScreen.totalIs(\"-15.72\"),\n                PaymentScreen.clickPaymentMethod(\"Cash\"),\n                PaymentScreen.remainingIs(\"0.0\"),\n\n                PaymentScreen.clickInvoiceButton(),\n                PaymentScreen.clickValidate(),\n\n                ReceiptScreen.receiptAmountTotalIs(\"-15.72\"),\n                ReceiptScreen.receiptRoundingAmountIs(\"0.02\"),\n                ReceiptScreen.receiptToPayAmountIs(\"-15.70\"),\n                ReceiptScreen.receiptChangeAmountIsNotThere(),\n                ReceiptScreen.clickNextOrder(),\n            ].flat(),\n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"test_cash_rounding_halfup_biggest_tax_only_round_cash_method_pay_by_bank_and_cash\", {\n        steps: () =>\n            [\n                Chrome.startPoS(),\n                Dialog.confirm(\"Open Register\"),\n\n                // Order.\n                ProductScreen.addOrderline(\"random_product\", \"1\"),\n                ProductScreen.clickPartnerButton(),\n                ProductScreen.clickCustomer(\"AAAAAA\"),\n                ProductScreen.clickPayButton(),\n\n                PaymentScreen.totalIs(\"15.72\"),\n                PaymentScreen.clickPaymentMethod(\"Bank\"),\n                PaymentScreen.clickNumpad(\". 6 8\"),\n                PaymentScreen.fillPaymentLineAmountMobile(\"Bank\", \"0.68\"),\n                PaymentScreen.remainingIs(\"15.04\"),\n                PaymentScreen.clickPaymentMethod(\"Cash\"),\n                PaymentScreen.remainingIs(\"0.0\"),\n\n                PaymentScreen.clickInvoiceButton(),\n                PaymentScreen.clickValidate(),\n\n                ReceiptScreen.receiptAmountTotalIs(\"15.72\"),\n                ReceiptScreen.receiptRoundingAmountIs(\"0.01\"),\n                ReceiptScreen.receiptToPayAmountIs(\"15.73\"),\n                ReceiptScreen.receiptChangeAmountIsNotThere(),\n                ReceiptScreen.clickNextOrder(),\n\n                // Refund.\n                Chrome.clickMenuOption(\"Orders\"),\n                TicketScreen.selectFilter(\"All active orders\"),\n                TicketScreen.selectFilter(\"Paid\"),\n                TicketScreen.selectOrder(\"-0001\"),\n                TicketScreen.confirmRefund(),\n\n                ProductScreen.clickPayButton(),\n\n                PaymentScreen.totalIs(\"-15.72\"),\n                PaymentScreen.clickPaymentMethod(\"Bank\"),\n                PaymentScreen.clickNumpad(\"+/- . 6 8\"),\n                PaymentScreen.fillPaymentLineAmountMobile(\"Bank\", \"-0.68\"),\n                PaymentScreen.remainingIs(\"-15.04\"),\n                PaymentScreen.clickPaymentMethod(\"Cash\"),\n                PaymentScreen.remainingIs(\"0.0\"),\n\n                PaymentScreen.clickInvoiceButton(),\n                PaymentScreen.clickValidate(),\n\n                ReceiptScreen.receiptAmountTotalIs(\"-15.72\"),\n                ReceiptScreen.receiptRoundingAmountIs(\"-0.01\"),\n                ReceiptScreen.receiptToPayAmountIs(\"-15.73\"),\n                ReceiptScreen.receiptChangeAmountIsNotThere(),\n                ReceiptScreen.clickNextOrder(),\n            ].flat(),\n    });\n\nregistry.category(\"web_tour.tours\").add(\"test_cash_rounding_with_change\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n\n            ProductScreen.addOrderline(\"random_product\", \"1\"),\n            ProductScreen.clickPartnerButton(),\n            ProductScreen.clickCustomer(\"AAAAAA\"),\n            ProductScreen.clickPayButton(),\n\n            PaymentScreen.totalIs(\"15.72\"),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickNumpad(\"2 0\"),\n            PaymentScreen.fillPaymentLineAmountMobile(\"Bank\", \"20.00\"),\n            PaymentScreen.changeIs(\"4.30\"),\n\n            PaymentScreen.clickInvoiceButton(),\n            PaymentScreen.clickValidate(),\n\n            ReceiptScreen.receiptAmountTotalIs(\"15.72\"),\n            ReceiptScreen.receiptRoundingAmountIs(\"-0.02\"),\n            ReceiptScreen.receiptToPayAmountIs(\"15.70\"),\n            ReceiptScreen.receiptChangeAmountIs(\"4.30\"),\n            ReceiptScreen.clickNextOrder(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_cash_rounding_up_with_change\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n\n            ProductScreen.addOrderline(\"product_a\", \"1\"),\n            ProductScreen.addOrderline(\"product_b\", \"2\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.totalIs(\"179\"),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickNumpad(\"2 0 0\"),\n\n            PaymentScreen.changeIs(\"21\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_cash_rounding_only_cash_method_with_change\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n\n            ProductScreen.addOrderline(\"random_product\", \"1\"),\n            ProductScreen.clickPartnerButton(),\n            ProductScreen.clickCustomer(\"AAAAAA\"),\n            ProductScreen.clickPayButton(),\n\n            PaymentScreen.totalIs(\"15.72\"),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickNumpad(\"+20\"),\n            PaymentScreen.fillPaymentLineAmountMobile(\"Cash\", \"20.00\"),\n            PaymentScreen.changeIs(\"4.30\"),\n\n            PaymentScreen.clickInvoiceButton(),\n            PaymentScreen.clickValidate(),\n\n            ReceiptScreen.receiptAmountTotalIs(\"15.72\"),\n            ReceiptScreen.receiptRoundingAmountIs(\"-0.02\"),\n            ReceiptScreen.receiptToPayAmountIs(\"15.70\"),\n            ReceiptScreen.receiptChangeAmountIs(\"4.30\"),\n            ReceiptScreen.clickNextOrder(),\n        ].flat(),\n});\n", "import * as ProductScreen from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as PaymentScreen from \"@point_of_sale/../tests/tours/utils/payment_screen_util\";\nimport * as ReceiptScreen from \"@point_of_sale/../tests/tours/utils/receipt_screen_util\";\nimport * as combo from \"@point_of_sale/../tests/tours/utils/combo_popup_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as Order from \"@point_of_sale/../tests/tours/utils/generic_components/order_widget_util\";\nimport { inLeftSide, scan_barcode } from \"@point_of_sale/../tests/tours/utils/common\";\nimport * as Chrome from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport { registry } from \"@web/core/registry\";\nimport * as Numpad from \"@point_of_sale/../tests/tours/utils/numpad_util\";\n\nregistry.category(\"web_tour.tours\").add(\"ProductComboPriceTaxIncludedTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            scan_barcode(\"SuperCombo\"),\n            combo.select(\"Combo Product 3\"),\n            combo.isConfirmationButtonDisabled(),\n            combo.select(\"Combo Product 9\"),\n            // Check Product Configurator is open\n            Dialog.is(\"Attribute selection\"),\n            Dialog.discard(),\n            {\n                content: \"Check that Combo Product 10 (White) archived variant is disabled\",\n                trigger: `.ptav-not-available article.product .product-content .product-name:contains(\"Combo Product 10 (White)\")`,\n            },\n            combo.isConfirmationButtonDisabled(),\n            combo.select(\"Combo Product 5\"),\n            combo.select(\"Combo Product 7\"),\n            combo.isSelected(\"Combo Product 7\"),\n            // Check archived variant Selection\n            combo.select(\"Combo Product 10 (White)\"),\n            combo.isConfirmationButtonDisabled(),\n            combo.select(\"Combo Product 8\"),\n            combo.isSelected(\"Combo Product 8\"),\n            combo.isNotSelected(\"Combo Product 7\"),\n            Dialog.confirm(),\n            inLeftSide([\n                ...ProductScreen.selectedOrderlineHasDirect(\"Office Combo\"),\n                ...ProductScreen.clickLine(\"Combo Product 3\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Combo Product 3\", \"1.0\", \"13.43\"),\n                ...ProductScreen.clickLine(\"Combo Product 5\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Combo Product 5\", \"1.0\", \"18.67\"),\n                ...ProductScreen.clickLine(\"Combo Product 8\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Combo Product 8\", \"1.0\", \"30.00\"),\n            ]),\n            // check that you can select a customer which triggers a recomputation of the price\n            ...ProductScreen.clickPartnerButton(),\n            ...ProductScreen.clickCustomer(\"Partner Test 1\"),\n\n            // check that you can change the quantity of a combo product\n            inLeftSide([\n                ...ProductScreen.clickLine(\"Combo Product 3\"),\n                Numpad.click(\"2\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Combo Product 3\", \"2.0\", \"26.86\"),\n                ...ProductScreen.orderLineHas(\"Combo Product 5\", \"2.0\"),\n                ...ProductScreen.orderLineHas(\"Combo Product 8\", \"2.0\", \"60.00\"),\n            ]),\n\n            // check that removing a combo product removes all the combo products\n            inLeftSide([\n                {\n                    ...ProductScreen.clickLine(\"Combo Product 3\", \"2.0\")[0],\n                    isActive: [\"mobile\"],\n                },\n                Numpad.click(\"\u232b\"),\n                Numpad.click(\"\u232b\"),\n                ...Order.doesNotHaveLine(),\n            ]),\n\n            ...ProductScreen.clickDisplayedProduct(\"Office Combo\"),\n            combo.select(\"Combo Product 3\"),\n            combo.select(\"Combo Product 5\"),\n            combo.select(\"Combo Product 8\"),\n            Dialog.confirm(),\n            ...ProductScreen.totalAmountIs(\"62.10\"),\n            ...ProductScreen.clickPayButton(),\n            ...PaymentScreen.clickPaymentMethod(\"Bank\"),\n            ...PaymentScreen.clickValidate(),\n            ...ReceiptScreen.isShown(),\n            ...ReceiptScreen.clickNextOrder(),\n\n            // another order but won't be sent to the backend\n            ...ProductScreen.clickDisplayedProduct(\"Office Combo\"),\n            combo.select(\"Combo Product 2\"),\n            combo.select(\"Combo Product 4\"),\n            combo.select(\"Combo Product 6\"),\n            Dialog.confirm(),\n            ...ProductScreen.totalAmountIs(\"59.17\"),\n            ...inLeftSide(Order.hasTax(\"10.56\")),\n            // the split screen is tested in `pos_restaurant`\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"ProductComboPriceCheckTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Desk Combo\"),\n            inLeftSide([\n                ...ProductScreen.selectedOrderlineHasDirect(\"Desk Combo\"),\n                ...ProductScreen.orderLineHas(\"Desk Organizer\", \"1.0\", \"4.45\"),\n                ...ProductScreen.orderLineHas(\"Desk Pad\", \"1.0\", \"1.59\"),\n                ...ProductScreen.orderLineHas(\"Whiteboard Pen\", \"1.0\", \"0.96\"),\n            ]),\n            ProductScreen.totalAmountIs(\"7.00\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.isShown(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"ProductComboChangeFP\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n\n            ProductScreen.clickDisplayedProduct(\"Office Combo\"),\n            ProductScreen.checkProductExtraPrice(\"Combo Product 3\", \"2\"),\n            combo.select(\"Combo Product 2\"),\n            combo.select(\"Combo Product 4\"),\n            combo.select(\"Combo Product 6\"),\n            Dialog.confirm(),\n\n            inLeftSide([\n                ...ProductScreen.orderLineHas(\"Combo Product 2\", \"1.0\", \"8.33\"),\n                ...ProductScreen.orderLineHas(\"Combo Product 4\", \"1.0\", \"16.67\"),\n                ...ProductScreen.orderLineHas(\"Combo Product 6\", \"1.0\", \"25.00\"),\n            ]),\n            ProductScreen.totalAmountIs(\"50.00\"),\n            inLeftSide(Order.hasTax(\"4.55\")),\n\n            // Test than changing the fp, doesn't change the price of the combo\n            ProductScreen.clickFiscalPosition(\"test fp\"),\n            inLeftSide([\n                ...ProductScreen.orderLineHas(\"Combo Product 4\", \"1.0\", \"16.67\"),\n                ...ProductScreen.orderLineHas(\"Combo Product 6\", \"1.0\", \"25.00\"),\n                ...ProductScreen.orderLineHas(\"Combo Product 2\", \"1.0\", \"8.33\"),\n            ]),\n            ProductScreen.totalAmountIs(\"50.00\"),\n            inLeftSide(Order.hasTax(\"2.38\")),\n            ProductScreen.isShown(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"ProductComboChangePricelist\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Office Combo\"),\n            combo.select(\"Combo Product 2\"),\n            combo.select(\"Combo Product 4\"),\n            combo.select(\"Combo Product 6\"),\n            Dialog.confirm(),\n            inLeftSide([\n                ...ProductScreen.orderLineHas(\"Combo Product 2\", \"1.0\", \"6.67\"),\n                ...ProductScreen.orderLineHas(\"Combo Product 4\", \"1.0\", \"14.66\"),\n                ...ProductScreen.orderLineHas(\"Combo Product 6\", \"1.0\", \"26.00\"),\n            ]),\n            ProductScreen.totalAmountIs(\"47.33\"),\n            ProductScreen.clickPriceList(\"sale 10%\"),\n            inLeftSide([\n                ...ProductScreen.orderLineHas(\"Combo Product 2\", \"1.0\", \"6.00\"),\n                ...ProductScreen.orderLineHas(\"Combo Product 4\", \"1.0\", \"13.20\"),\n                ...ProductScreen.orderLineHas(\"Combo Product 6\", \"1.0\", \"23.40\"),\n            ]),\n            ProductScreen.totalAmountIs(\"42.60\"),\n            ProductScreen.isShown(),\n        ].flat(),\n});\n", "import { registry } from \"@web/core/registry\";\nimport * as ProductScreen from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as Numpad from \"@point_of_sale/../tests/tours/utils/numpad_util\";\nimport * as Order from \"@point_of_sale/../tests/tours/utils/generic_components/order_widget_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as Pricelist from \"@point_of_sale/../tests/tours/utils/pricelist_util\";\nimport * as Chrome from \"@point_of_sale/../tests/tours/utils/chrome_util\";\n\nregistry.category(\"web_tour.tours\").add(\"pos_pricelist\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Pricelist.setUp(),\n            Pricelist.waitForUnitTest(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickPriceList(\"Fixed\", true, \"Public Pricelist\"),\n            ProductScreen.clickPartnerButton(),\n            ProductScreen.clickCustomer(\"Deco Addict\"),\n            ProductScreen.clickPriceList(\"Public Pricelist\", true),\n            ProductScreen.clickPartnerButton(),\n            ProductScreen.clickCustomer(\"Lumber Inc\"),\n            ProductScreen.clickPriceList(\"Public Pricelist\", true),\n            ProductScreen.clickDisplayedProduct(\"Wall Shelf\", true, \"1.0\"),\n            ProductScreen.clickPriceList(\"min_quantity ordering\"),\n            ProductScreen.clickReview(),\n            { ...ProductScreen.clickLine(\"Wall Shelf\")[0], isActive: [\"mobile\"] },\n            Numpad.click(\"2\"),\n            ...ProductScreen.selectedOrderlineHasDirect(\"Wall Shelf\", \"2.0\"),\n            { ...ProductScreen.back(), isActive: [\"mobile\"] },\n            ...Order.hasTotal(`$ 2.00`),\n            ProductScreen.clickDisplayedProduct(\"Small Shelf\", true, \"1.0\"),\n            ProductScreen.clickReview(),\n            { ...ProductScreen.clickLine(\"Small Shelf\")[0], isActive: [\"mobile\"] },\n            Numpad.click(\"Price\"),\n            Numpad.isActive(\"Price\"),\n            Numpad.click(\"5\"),\n            ...Order.hasLine({ productName: \"Small Shelf\", price: \"5.0\", withClass: \".selected\" }),\n            Numpad.click(\"Qty\"),\n            Numpad.isActive(\"Qty\"),\n            { ...ProductScreen.back(), isActive: [\"mobile\"] },\n            ProductScreen.clickPriceList(\"Public Pricelist\"),\n            ...Order.hasTotal(`$ 8.96`),\n            ProductScreen.clickPriceList(\"min_quantity ordering\"),\n            ProductScreen.closePos(),\n        ].flat(),\n});\n", "import * as ProductScreen from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as Chrome from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport * as ProductConfigurator from \"@point_of_sale/../tests/tours/utils/product_configurator_util\";\nimport * as combo from \"@point_of_sale/../tests/tours/utils/combo_popup_util\";\nimport { inLeftSide } from \"@point_of_sale/../tests/tours/utils/common\";\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"ProductConfiguratorTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n\n            // Click on Configurable Chair product\n            ProductScreen.clickDisplayedProduct(\"Configurable Chair\"),\n\n            // Cancel configuration, not product should be in order\n            Dialog.cancel(),\n            ProductScreen.orderIsEmpty(),\n\n            // Click on Configurable Chair product\n            ProductScreen.clickDisplayedProduct(\"Configurable Chair\"),\n\n            // Pick Color\n            ProductConfigurator.pickColor(\"Red\"),\n\n            // Pick Radio\n            ProductConfigurator.pickSelect(\"Metal\"),\n\n            // Pick Select\n            ProductConfigurator.pickRadio(\"Other\"),\n\n            // Fill in custom attribute\n            ProductConfigurator.fillCustomAttribute(\"Custom Fabric\"),\n\n            // Confirm configuration\n            Dialog.confirm(),\n\n            // Check that the product has been added to the order with correct attributes and price\n            ProductScreen.selectedOrderlineHas(\n                \"Configurable Chair (Fabrics: Other: Custom Fabric, Metal, Red)\",\n                \"1.0\",\n                \"11.0\"\n            ),\n\n            // Orderlines with the same attributes should be merged\n            ProductScreen.clickDisplayedProduct(\"Configurable Chair\"),\n            ProductConfigurator.pickColor(\"Red\"),\n            ProductConfigurator.pickSelect(\"Metal\"),\n            ProductConfigurator.pickRadio(\"Other\"),\n            ProductConfigurator.fillCustomAttribute(\"Custom Fabric\"),\n            Dialog.confirm(),\n            ProductScreen.selectedOrderlineHas(\n                \"Configurable Chair (Fabrics: Other: Custom Fabric, Metal, Red)\",\n                \"2.0\",\n                \"22.0\"\n            ),\n\n            // Orderlines with different attributes shouldn't be merged\n            ProductScreen.clickDisplayedProduct(\"Configurable Chair\"),\n            ProductConfigurator.pickColor(\"Blue\"),\n            ProductConfigurator.pickSelect(\"Metal\"),\n            ProductConfigurator.pickRadio(\"Leather\"),\n            Dialog.confirm(),\n            ProductScreen.selectedOrderlineHas(\n                \"Configurable Chair (Leather, Metal, Blue)\",\n                \"1.0\",\n                \"10.0\"\n            ),\n\n            // Inactive variant attributes should not be displayed\n            ProductScreen.clickDisplayedProduct(\"Configurable Chair\"),\n            // Active: Other and Leather, Inactive: Wool\n            ProductConfigurator.numberRadioOptions(2),\n            Dialog.confirm(),\n            Chrome.endTour(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_combo_variant_mix\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n\n            // Click on Configurable Chair product\n            ProductScreen.clickDisplayedProduct(\"Test Product Combo\"),\n            combo.select(\"Test Product (Large)\"),\n            Dialog.is(\"Attribute selection\"),\n            ProductConfigurator.pickRadio(\"Blue\"),\n            Dialog.confirm(\"Add\"),\n            Dialog.confirm(),\n            inLeftSide([...ProductScreen.orderLineHas(\"Test Product (Large) (Blue)\", 1)]),\n        ].flat(),\n});\n", "import * as PaymentScreen from \"@point_of_sale/../tests/tours/utils/payment_screen_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as PartnerList from \"@point_of_sale/../tests/tours/utils/partner_list_util\";\nimport * as ProductScreen from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as ProductScreenPartnerList from \"@point_of_sale/../tests/tours/utils/product_screen_partner_list_util\";\nimport * as Chrome from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport * as ReceiptScreen from \"@point_of_sale/../tests/tours/utils/receipt_screen_util\";\nimport { registry } from \"@web/core/registry\";\nimport * as Order from \"@point_of_sale/../tests/tours/utils/generic_components/order_widget_util\";\nimport {\n    back,\n    inLeftSide,\n    selectButton,\n    scan_barcode,\n    negateStep,\n} from \"@point_of_sale/../tests/tours/utils/common\";\nimport * as ProductConfiguratorPopup from \"@point_of_sale/../tests/tours/utils/product_configurator_util\";\nimport * as Numpad from \"@point_of_sale/../tests/tours/utils/numpad_util\";\n\nregistry.category(\"web_tour.tours\").add(\"ProductScreenTour\", {\n    steps: () =>\n        [\n            // Go by default to home category\n\n            Chrome.startPoS(),\n            // Make sure we don't have any scroll bar on the product list\n            {\n                trigger: \".product-list\",\n                run: function () {\n                    const productList = document.querySelector(\".product-list\");\n                    if (productList.scrollWidth > document.documentElement.scrollWidth) {\n                        throw new Error(\"Product list is overflowing\");\n                    }\n                },\n            },\n            ProductScreen.clickDisplayedProduct(\"Desk Organizer\", true, \"1.0\", \"5.10\"),\n            ProductScreen.clickDisplayedProduct(\"Desk Organizer\", true, \"2.0\", \"10.20\"),\n            ProductScreen.clickDisplayedProduct(\"Letter Tray\", true, \"1.0\", \"5.28\"),\n            ProductScreen.clickDisplayedProduct(\"Desk Organizer\", true, \"3.0\", \"15.30\"),\n\n            // Check effects of clicking numpad buttons\n            inLeftSide([\n                ...ProductScreen.clickLine(\"Letter Tray\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Letter Tray\", \"1.0\"),\n                Numpad.click(\"\u232b\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Letter Tray\", \"0.0\", \"0.0\"),\n                Numpad.click(\"\u232b\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Desk Organizer\", \"3.0\", \"15.30\"),\n                Numpad.click(\"\u232b\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Desk Organizer\", \"0.0\", \"0.0\"),\n                Numpad.click(\"1\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Desk Organizer\", \"1.0\", \"5.10\"),\n                Numpad.click(\"2\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Desk Organizer\", \"12.0\", \"61.2\"),\n                Numpad.click(\"3\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Desk Organizer\", \"123.0\", \"627.3\"),\n                ...[\".\", \"5\"].map(Numpad.click),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Desk Organizer\", \"123.5\", \"629.85\"),\n            ]),\n            // Check effects of numpad on product card quantity\n            ProductScreen.productCardQtyIs(\"Desk Organizer\", \"123.5\"),\n            inLeftSide([\n                // Re-select the order line after switching to the product screen\n                { ...ProductScreen.clickLine(\"Desk Organizer\", \"123.5\")[0], isActive: [\"mobile\"] },\n                Numpad.click(\"Price\"),\n                Numpad.isActive(\"Price\"),\n                Numpad.click(\"1\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Desk Organizer\", \"123.5\", \"123.5\"),\n                ...[\"1\", \".\"].map(Numpad.click),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Desk Organizer\", \"123.5\", \"1,358.5\"),\n                Numpad.click(\"%\"),\n                Numpad.isActive(\"%\"),\n                ...[\"5\", \".\"].map(Numpad.click),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Desk Organizer\", \"123.5\", \"1,290.58\"),\n                Numpad.click(\"Qty\"),\n                Numpad.isActive(\"Qty\"),\n                ...[\"\u232b\", \"\u232b\"].map(Numpad.click),\n                ...Order.doesNotHaveLine(),\n            ]),\n            // Check different subcategories\n            ProductScreen.clickSubcategory(\"Desk test\"),\n            ProductScreen.productIsDisplayed(\"Desk Pad\"),\n            ProductScreen.clickSubcategory(\"Misc test\"),\n            ProductScreen.productIsDisplayed(\"Whiteboard Pen\"),\n            ProductScreen.clickSubcategory(\"Chair test\"),\n            ProductScreen.productIsDisplayed(\"Letter Tray\"),\n            ProductScreen.clickSubcategory(\"Chair test\"),\n\n            // Add two orderlines and update quantity\n            ProductScreen.clickDisplayedProduct(\"Whiteboard Pen\"),\n            ProductScreen.clickDisplayedProduct(\"Wall Shelf Unit\"),\n            inLeftSide([\n                ...ProductScreen.clickLine(\"Whiteboard Pen\"),\n                Numpad.click(\"2\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Whiteboard Pen\", \"2.0\"),\n                ...ProductScreen.clickLine(\"Wall Shelf Unit\"),\n                Numpad.click(\"2\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Wall Shelf Unit\", \"2.0\"),\n                Numpad.click(\"\u232b\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Wall Shelf Unit\", \"0.0\"),\n                Numpad.click(\"\u232b\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Whiteboard Pen\", \"2.0\"),\n                Numpad.click(\"\u232b\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Whiteboard Pen\", \"0.0\"),\n                Numpad.click(\"\u232b\"),\n                ...Order.doesNotHaveLine(),\n            ]),\n\n            // Add multiple orderlines then delete each of them until empty\n            ProductScreen.clickDisplayedProduct(\"Whiteboard Pen\"),\n            ProductScreen.clickDisplayedProduct(\"Wall Shelf Unit\"),\n            ProductScreen.clickDisplayedProduct(\"Small Shelf\"),\n            ProductScreen.clickDisplayedProduct(\"Magnetic Board\"),\n            ProductScreen.clickDisplayedProduct(\"Monitor Stand\"),\n            inLeftSide([\n                ...ProductScreen.clickLine(\"Whiteboard Pen\"),\n                Numpad.click(\"\u232b\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Whiteboard Pen\", \"0.0\"),\n                Numpad.click(\"\u232b\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Monitor Stand\", \"1.0\"),\n                ...ProductScreen.clickLine(\"Wall Shelf Unit\"),\n                Numpad.click(\"\u232b\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Wall Shelf Unit\", \"0.0\"),\n                Numpad.click(\"\u232b\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Monitor Stand\", \"1.0\"),\n                ...ProductScreen.clickLine(\"Small Shelf\"),\n                Numpad.click(\"\u232b\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Small Shelf\", \"0.0\"),\n                Numpad.click(\"\u232b\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Monitor Stand\", \"1.0\"),\n                ...ProductScreen.clickLine(\"Magnetic Board\"),\n                Numpad.click(\"\u232b\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Magnetic Board\", \"0.0\"),\n                Numpad.click(\"\u232b\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Monitor Stand\", \"1.0\"),\n                Numpad.click(\"\u232b\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Monitor Stand\", \"0.0\"),\n                Numpad.click(\"\u232b\"),\n                ...Order.doesNotHaveLine(),\n            ]),\n\n            // Test OrderlineCustomerNoteButton\n            ProductScreen.clickDisplayedProduct(\"Desk Organizer\", true, \"1.0\"),\n            inLeftSide([\n                { ...ProductScreen.clickLine(\"Desk Organizer\")[0], isActive: [\"mobile\"] },\n                ...ProductScreen.addCustomerNote(\"Test customer note\"),\n                ...Order.hasLine({\n                    productName: \"Desk Organizer\",\n                    quantity: \"1.0\",\n                    customerNote: \"Test customer note\",\n                    withClass: \".selected\",\n                }),\n            ]),\n            ProductScreen.isShown(),\n\n            // Test Cancel Order from Actions\n            ProductScreen.clickReview(),\n            ProductScreen.clickControlButton(\"Cancel Order\"),\n            Dialog.confirm(),\n            { ...ProductScreen.back(), isActive: [\"mobile\"] },\n            ProductScreen.orderIsEmpty(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"FloatingOrderTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            ProductScreen.orderIsEmpty(),\n            ProductScreen.clickDisplayedProduct(\"Desk Organizer\", true, \"1.0\", \"5.10\"),\n            ProductScreen.clickDisplayedProduct(\"Desk Organizer\", true, \"2.0\", \"10.20\"),\n            ProductScreen.productCardQtyIs(\"Desk Organizer\", \"2.0\"),\n            Chrome.createFloatingOrder(),\n            ProductScreen.clickDisplayedProduct(\"Letter Tray\", true, \"1.0\", \"5.28\"),\n            ProductScreen.clickDisplayedProduct(\"Letter Tray\", true, \"2.0\", \"10.56\"),\n            ProductScreen.selectFloatingOrder(0),\n            ProductScreen.productCardQtyIs(\"Desk Organizer\", \"2.0\"),\n            ProductScreen.isShown(),\n            ProductScreen.selectFloatingOrder(1),\n            ProductScreen.productCardQtyIs(\"Letter Tray\", \"2.0\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_reuse_empty_floating_order\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.orderIsEmpty(),\n            ProductScreen.checkFloatingOrderCount(1),\n            ProductScreen.clickDisplayedProduct(\"Desk Organizer\", true, \"1.0\", \"5.10\"),\n            Chrome.createFloatingOrder(),\n            ProductScreen.checkFloatingOrderCount(2),\n            ProductScreen.selectFloatingOrder(0),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\", true, { remaining: \"0.00\" }),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.isShown(),\n            ReceiptScreen.clickNextOrder(),\n            // Should reuse previously created empty floating order\n            ProductScreen.checkFloatingOrderCount(1),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"FiscalPositionNoTax\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Test Product\"),\n            ProductScreen.totalAmountIs(\"100.00\"),\n            ProductScreen.clickFiscalPosition(\"No Tax\"),\n            ProductScreen.totalAmountIs(\"100.00\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\", true, { remaining: \"0.00\" }),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.isShown(),\n            Order.doesNotHaveLine({ discount: \"\" }),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"FiscalPositionIncl\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Test Product 1\"),\n            ProductScreen.totalAmountIs(\"100.00\"),\n            ProductScreen.clickFiscalPosition(\"Incl. to Incl.\"),\n            ProductScreen.totalAmountIs(\"100.00\"),\n            // changed fiscal position to Incl. to Excl.\n            ProductScreen.clickFiscalPosition(\"Incl. to Excl.\"),\n            ProductScreen.totalAmountIs(\"110.00\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\", true, { remaining: \"0.00\" }),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.isShown(),\n            ReceiptScreen.clickNextOrder(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"FiscalPositionExcl\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            ProductScreen.clickDisplayedProduct(\"Test Product 2\"),\n            ProductScreen.totalAmountIs(\"120.00\"),\n            ProductScreen.clickFiscalPosition(\"Excl. to Excl.\"),\n            ProductScreen.totalAmountIs(\"110.00\"),\n            // changed fiscal position to Excl. to Incl.\n            ProductScreen.clickFiscalPosition(\"Excl. to Incl.\"),\n            ProductScreen.totalAmountIs(\"100.00\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\", true, { remaining: \"0.00\" }),\n            PaymentScreen.clickValidate(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"CashClosingDetails\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            ProductScreen.enterOpeningAmount(\"0\"),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.addOrderline(\"Desk Organizer\", \"10\"), //5.1 per item\n            ProductScreen.totalAmountIs(\"51.00\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.remainingIs(\"0.0\"),\n            PaymentScreen.clickValidate(),\n            Chrome.clickMenuOption(\"Close Register\"),\n            ProductScreen.closeWithCashAmount(\"50.0\"),\n            ProductScreen.cashDifferenceIs(\"-1.00\"),\n            Dialog.confirm(\"Close Register\"),\n            {\n                trigger: \".modal .btn-primary:contains(Proceed Anyway)\",\n                run: \"click\",\n                expectUnloadPage: true,\n            },\n            {\n                trigger: \"button:contains(backend)\",\n                run: \"click\",\n                expectUnloadPage: true,\n            },\n            {\n                trigger: \"body\",\n                expectUnloadPage: true,\n            },\n            ProductScreen.lastClosingCashIs(\"50.00\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"ShowTaxExcludedTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n\n            ProductScreen.clickDisplayedProduct(\"Test Product\", true, \"1.0\", \"100.0\"),\n            ProductScreen.totalAmountIs(\"110.0\"),\n            Chrome.endTour(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"limitedProductPricelistLoading\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n\n            scan_barcode(\"0100100\"),\n            ProductScreen.selectedOrderlineHas(\"Test Product 1\", \"1.0\", \"80.0\"),\n\n            scan_barcode(\"0100201\"),\n            ProductScreen.selectedOrderlineHas(\"Test Product 2 (White)\", \"1.0\", \"100.0\"),\n\n            scan_barcode(\"0100202\"),\n            ProductScreen.selectedOrderlineHas(\"Test Product 2 (Red)\", \"1.0\", \"120.0\"),\n\n            scan_barcode(\"0100300\"),\n            ProductScreen.selectedOrderlineHas(\"Test Product 3\", \"1.0\", \"50.0\"),\n            Chrome.endTour(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"multiPricelistRulesTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Test Product 1\"),\n            ProductScreen.selectedOrderlineHas(\"Test Product 1\", \"1.0\", \"200.0\"),\n            ProductScreen.clickDisplayedProduct(\"Test Product 1\"),\n            ProductScreen.selectedOrderlineHas(\"Test Product 1\", \"2.0\", \"200.0\"), // 100.0 * 2\n            ProductScreen.clickDisplayedProduct(\"Test Product 1\"),\n            ProductScreen.selectedOrderlineHas(\"Test Product 1\", \"3.0\", \"150.0\"), // 50.0 * 3\n            Chrome.endTour(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"MultiProductOptionsTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n\n            ProductScreen.clickDisplayedProduct(\"Product A\"),\n            ProductConfiguratorPopup.isOptionShown(\"Value 1\"),\n            ProductConfiguratorPopup.isOptionShown(\"Value 2\"),\n            Dialog.confirm(\"Add\"),\n\n            Chrome.endTour(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"TranslateProductNameTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(),\n            ProductScreen.clickDisplayedProduct(\"Testez le produit\"),\n            Chrome.endTour(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"DecimalCommaOrderlinePrice\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Test Product\"),\n            inLeftSide([\n                Numpad.click(\"5\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Test Product\", \"5,00\", \"7.267,65\"),\n            ]),\n            Chrome.endTour(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"SearchProducts\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.searchProduct(\"chair\"),\n            ProductScreen.clickDisplayedProduct(\"Test chair 1\"),\n            ProductScreen.clickDisplayedProduct(\"Test CHAIR 2\"),\n            ProductScreen.clickDisplayedProduct(\"Test sofa\"),\n            ProductScreen.searchProduct(\"CHAIR\"),\n            ProductScreen.clickDisplayedProduct(\"Test chair 1\"),\n            ProductScreen.clickDisplayedProduct(\"Test CHAIR 2\"),\n            ProductScreen.clickDisplayedProduct(\"Test sofa\"),\n            ProductScreen.searchProduct(\"cl\u00e9mentine\"),\n            ProductScreen.clickDisplayedProduct(\"cl\u00e9mentine\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"CheckProductInformation\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n\n            // Check that the product form is shown.\n            Chrome.clickMenuButton(),\n            Chrome.clickMenuDropdownOption(\"Create Product\"),\n            Dialog.is({ title: \"New Product\" }),\n            Dialog.cancel(),\n\n            // Check margin on a product.\n            ProductScreen.clickInfoProduct(\"product_a\"),\n            {\n                trigger: \".section-financials :contains('Margin')\",\n            },\n            {\n                trigger: \".section-product-info-title:not(:contains('On hand:'))\",\n            },\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"PosCustomerAllFieldsDisplayed\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickPartnerButton(),\n            PartnerList.checkContactValues(\n                \"John Doe\",\n                \"1 street of astreet\",\n                \"9898989899\",\n                \"0987654321\",\n                \"john@doe.com\"\n            ),\n            selectButton(\"Discard\"),\n            {\n                isActive: [\"mobile\"],\n                ...back(),\n            },\n\n            // Check searches\n            ProductScreenPartnerList.searchCustomerValueAndClear(\"John Doe\"),\n            ProductScreenPartnerList.searchCustomerValueAndClear(\"1 street of astreet\"),\n            ProductScreenPartnerList.searchCustomerValueAndClear(\"26432685463\"),\n            ProductScreenPartnerList.searchCustomerValueAndClear(\"Acity\"),\n            ProductScreenPartnerList.searchCustomerValueAndClear(\"United States\"),\n            ProductScreenPartnerList.searchCustomerValueAndClear(\"9898989899\"),\n            ProductScreenPartnerList.searchCustomerValueAndClear(\"0987654321\"),\n            ProductScreen.clickPartnerButton(),\n            PartnerList.searchCustomerValue(\"john@doe.com\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"PosCategoriesOrder\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            {\n                trigger: '.category-button:eq(0) > span:contains(\"AAA\")',\n            },\n            {\n                trigger: '.category-button:eq(1) > span:contains(\"AAB\")',\n            },\n            {\n                trigger: '.category-button:eq(2) > span:contains(\"AAC\")',\n            },\n            {\n                trigger: '.category-button:eq(1) > span:contains(\"AAB\")',\n                run: \"click\",\n            },\n            ProductScreen.productIsDisplayed(\"Product in AAB and AAX\", 0),\n            {\n                trigger: '.category-button:eq(2) > span:contains(\"AAX\")',\n            },\n            {\n                trigger: '.category-button:eq(2) > span:contains(\"AAX\")',\n                run: \"click\",\n            },\n            {\n                trigger: '.category-button:eq(3) > span:contains(\"AAY\")',\n            },\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"AutofillCashCount\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Test Expensive\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.clickNextOrder(),\n            ProductScreen.isShown(),\n            Chrome.clickMenuOption(\"Close Register\"),\n            {\n                trigger: \".fa-clone.btn-secondary\",\n                run: \"click\",\n            },\n            ProductScreen.cashDifferenceIs(0),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"ProductSearchTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.searchProduct(\"Test Product\"),\n            ProductScreen.productIsDisplayed(\"Apple\").map(negateStep),\n            ProductScreen.productIsDisplayed(\"Test Product 1\"),\n            ProductScreen.productIsDisplayed(\"Test Product 2\"),\n            ProductScreen.searchProduct(\"Apple\"),\n            ProductScreen.productIsDisplayed(\"Test Product 1\").map(negateStep),\n            ProductScreen.productIsDisplayed(\"Test Product 2\").map(negateStep),\n            ProductScreen.searchProduct(\"Test Produt\"), // typo to test the fuzzy search\n            ProductScreen.productIsDisplayed(\"Test Product 1\").map(negateStep),\n            ProductScreen.productIsDisplayed(\"Test Product 2\").map(negateStep),\n            ProductScreen.searchProduct(\"1234567890123\"),\n            ProductScreen.productIsDisplayed(\"Test Product 2\").map(negateStep),\n            ProductScreen.productIsDisplayed(\"Test Product 1\"),\n            ProductScreen.searchProduct(\"1234567890124\"),\n            ProductScreen.productIsDisplayed(\"Test Product 1\").map(negateStep),\n            ProductScreen.productIsDisplayed(\"Test Product 2\"),\n            ProductScreen.searchProduct(\"TESTPROD1\"),\n            ProductScreen.productIsDisplayed(\"Test Product 2\").map(negateStep),\n            ProductScreen.productIsDisplayed(\"Test Product 1\"),\n            ProductScreen.searchProduct(\"TESTPROD2\"),\n            ProductScreen.productIsDisplayed(\"Test Product 1\").map(negateStep),\n            ProductScreen.productIsDisplayed(\"Test Product 2\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"ProductCardUoMPrecision\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Configurable Chair\", false),\n            ProductConfiguratorPopup.pickRadio(\"Leather\"),\n            Chrome.clickBtn(\"Add\"),\n            inLeftSide([\n                Numpad.click(\".\"),\n                Numpad.click(\"1\"),\n                ...Order.hasLine({\n                    productName: \"Configurable Chair\",\n                    quantity: \"0.1\",\n                }),\n            ]),\n            ProductScreen.clickDisplayedProduct(\"Configurable Chair\", false),\n            ProductConfiguratorPopup.pickRadio(\"wool\"),\n            Chrome.clickBtn(\"Add\"),\n            inLeftSide([\n                Numpad.click(\".\"),\n                Numpad.click(\"7\"),\n                ...Order.hasLine({\n                    productName: \"Configurable Chair\",\n                    quantity: \"0.7\",\n                }),\n            ]),\n            ProductScreen.productCardQtyIs(\"Configurable Chair\", \"0.8\"),\n            {\n                content:\n                    \"Check the cart button if it shows the quantity in correct format/precision\",\n                isActive: [\"mobile\"],\n                trigger: \".review-button:contains('0.8')\",\n            },\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"AddMultipleSerialsAtOnce\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Product A\"),\n            ProductScreen.enterLotNumbers([\"SN001\", \"SN002\", \"SN003\"]),\n            ProductScreen.selectedOrderlineHas(\"Product A\", \"3.0\"),\n            ProductScreen.clickDisplayedProduct(\"Product A\"),\n            [\n                {\n                    trigger: \".fa-trash-o\",\n                    run: \"click\",\n                },\n            ],\n            ProductScreen.enterLotNumbers([\"SN005\", \"SN006\"]),\n            ProductScreen.selectedOrderlineHas(\"Product A\", \"4.0\"),\n            Chrome.endTour(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_draft_orders_not_syncing\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.orderIsEmpty(),\n            ProductScreen.clickDisplayedProduct(\"Desk Pad\"),\n            Chrome.createFloatingOrder(),\n            ProductScreen.clickDisplayedProduct(\"Desk Pad\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.isShown(),\n            Chrome.endTour(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_one_attribute_value_scan_barcode\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n\n            scan_barcode(\"1234567\"),\n            ProductScreen.selectedOrderlineHas(\"Product Test (Red)\", \"1.0\"),\n\n            scan_barcode(\"1234568\"),\n            ProductScreen.selectedOrderlineHas(\"Product Test (Blue)\", \"1.0\"),\n\n            Chrome.endTour(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"FiscalPositionTaxLabels\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Test Product\"),\n            ProductScreen.totalAmountIs(\"100.00\"),\n            ProductScreen.clickFiscalPosition(\"Fiscal Position Test\"),\n            ProductScreen.totalAmountIs(\"100.00\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\", true, { remaining: \"0.00\" }),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.isShown(),\n            {\n                content: \"Make sure orderline tax label is correct\",\n                trigger: \".orderline:contains('Tax Group 2')\",\n            },\n            {\n                content: \"Make sure receipt tax label is correct and correspond to the orderline\",\n                trigger: \".pos-receipt-taxes:contains('Tax Group 2')\",\n            },\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_barcode_search_attributes_preset\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n\n            // Step 1: Search and add first variant\n            ProductScreen.searchProduct(\"12341357\"),\n            ProductScreen.clickDisplayedProduct(\"Product with Attributes\"),\n            {\n                content: \"Check that the product configurator is opened\",\n                trigger: \".section-product-info-title:contains('Product with Attributes')\",\n            },\n            Dialog.confirm(\"Add\"),\n            ProductScreen.selectedOrderlineHas(\n                \"Product with Attributes (Value 1, Value 3, Value 5, Value 7)\",\n                \"1.0\"\n            ),\n\n            // Step 2: Search and add product without attributes (used to delay UI update)\n            ProductScreen.searchProduct(\"987654321\"),\n            {\n                content: \"Wait for the product without attributes to be visible\",\n                trigger: '.product:contains(\"Product without Attributes\")',\n            },\n            ProductScreen.clickDisplayedProduct(\"Product without Attributes\"),\n            ProductScreen.selectedOrderlineHas(\"Product without Attributes\", \"1.0\"),\n\n            // Step 3: Search and add second variant of the original product\n            ProductScreen.searchProduct(\"12342468\"),\n            ProductScreen.clickDisplayedProduct(\"Product with Attributes\"),\n            {\n                content: \"Check that the product configurator is opened\",\n                trigger: \".section-product-info-title:contains('Product with Attributes')\",\n            },\n            Dialog.confirm(\"Add\"),\n            ProductScreen.selectedOrderlineHas(\n                \"Product with Attributes (Value 2, Value 4, Value 6, Value 8)\",\n                \"1.0\"\n            ),\n\n            Chrome.endTour(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_pos_ui_round_globally\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Test Product 1\"),\n            ProductScreen.clickDisplayedProduct(\"Test Product 2\"),\n            inLeftSide([\n                ...[\"+/-\"].map(Numpad.click),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Test Product 2\", \"-1.0\"),\n            ]),\n            ProductScreen.totalAmountIs(\"7,771.01\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.isShown(),\n            Chrome.endTour(),\n        ].flat(),\n});\n", "/* global posmodel */\nimport * as ProductScreen from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as ReceiptScreen from \"@point_of_sale/../tests/tours/utils/receipt_screen_util\";\nimport * as PaymentScreen from \"@point_of_sale/../tests/tours/utils/payment_screen_util\";\nimport * as Chrome from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport * as NumberPopup from \"@point_of_sale/../tests/tours/utils/number_popup_util\";\nimport * as Order from \"@point_of_sale/../tests/tours/utils/generic_components/order_widget_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as Numpad from \"@point_of_sale/../tests/tours/utils/numpad_util\";\nimport { registry } from \"@web/core/registry\";\nimport { inLeftSide } from \"@point_of_sale/../tests/tours/utils/common\";\n\nregistry.category(\"web_tour.tours\").add(\"ReceiptScreenTour\", {\n    steps: () =>\n        [\n            // press close button in receipt screen\n            Chrome.startPoS(),\n            ProductScreen.addOrderline(\"Letter Tray\", \"10\", \"5\"),\n            ProductScreen.clickPartnerButton(),\n            ProductScreen.clickCustomer(\"Partner Full\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.validateButtonIsHighlighted(true),\n            PaymentScreen.clickShipLaterButton(),\n            PaymentScreen.shippingLaterHighlighted(),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.receiptIsThere(),\n            //receipt had expected delivery printed\n            ReceiptScreen.shippingDateExists(),\n            ReceiptScreen.shippingDateIsToday(),\n            // letter tray has 10% tax (search SRC)\n            ReceiptScreen.totalAmountContains(\"55.0\"),\n            ReceiptScreen.clickNextOrder(),\n\n            // send email in receipt screen\n            ProductScreen.addOrderline(\"Desk Pad\", \"6\", \"5\", \"30.0\"),\n            ProductScreen.addOrderline(\"Whiteboard Pen\", \"6\", \"6\", \"36.0\"),\n            ProductScreen.addOrderline(\"Monitor Stand\", \"6\", \"1\", \"6.0\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.enterPaymentLineAmount(\"Cash\", \"70\", true, { remaining: \"2.0\" }),\n            PaymentScreen.clickNumpad(\"0\"),\n            PaymentScreen.fillPaymentLineAmountMobile(\"Cash\", \"700\"),\n            PaymentScreen.changeIs(\"628.0\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.receiptIsThere(),\n            ReceiptScreen.totalAmountContains(\"72.0\"),\n            ReceiptScreen.setEmail(\"test@receiptscreen.com\"),\n            ReceiptScreen.clickSend(),\n            ReceiptScreen.emailIsSuccessful(),\n            ReceiptScreen.clickNextOrder(),\n\n            // order with tip\n            // check if tip amount is displayed\n            ProductScreen.addOrderline(\"Desk Pad\", \"6\", \"5\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickTipButton(),\n            {\n                content: \"click numpad button: 1\",\n                trigger: \".modal div.numpad button:contains(/^1/)\",\n                run: \"click\",\n            },\n            NumberPopup.isShown(\"1\"),\n            Dialog.confirm(),\n            PaymentScreen.emptyPaymentlines(\"31.0\"),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.receiptIsThere(),\n            ReceiptScreen.totalAmountContains(`$ 30.00 + $ 1.00 tip`),\n            ReceiptScreen.clickNextOrder(),\n\n            // Test customer note in receipt\n            ProductScreen.addOrderline(\"Desk Pad\", \"1\", \"5\"),\n            inLeftSide([\n                { ...ProductScreen.clickLine(\"Desk Pad\")[0], isActive: [\"mobile\"] },\n                ...ProductScreen.addCustomerNote(\"Test customer note\"),\n            ]),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            Order.hasLine({ customerNote: \"Test customer note\" }),\n            ReceiptScreen.clickNextOrder(),\n\n            // Test discount and original price\n            ProductScreen.addOrderline(\"Desk Pad\", \"1\", \"20\"),\n            inLeftSide([\n                { ...ProductScreen.clickLine(\"Desk Pad\")[0], isActive: [\"mobile\"] },\n                Numpad.click(\"%\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Desk Pad\", \"1\", \"20\"),\n                Numpad.click(\"5\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Desk Pad\", \"1\", \"19.0\"),\n                Numpad.click(\".\"),\n            ]),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.receiptIsThere(),\n            Order.hasLine({ productName: \"Desk Pad\", priceNoDiscount: \"20\" }),\n            ReceiptScreen.totalAmountContains(\"19.00\"),\n            ReceiptScreen.clickNextOrder(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"ReceiptScreenDiscountWithPricelistTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.addOrderline(\"Test Product\", \"1\"),\n            ProductScreen.clickPriceList(\"special_pricelist\"),\n            inLeftSide(Order.hasLine({ productName: \"Test Product\", oldPrice: \"7.0\" })),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n            Order.hasLine({ oldPrice: \"7\" }),\n\n            ReceiptScreen.clickNextOrder(),\n            ProductScreen.addOrderline(\"Test Product\", \"1\"),\n            inLeftSide([\n                { ...ProductScreen.clickLine(\"Test Product\")[0], isActive: [\"mobile\"] },\n                Numpad.click(\"Price\"),\n                Numpad.isActive(\"Price\"),\n                Numpad.click(\"9\"),\n            ]),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.noDiscountAmount(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"OrderPaidInCash\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.addOrderline(\"Desk Pad\", \"5\", \"5\"),\n            inLeftSide(ProductScreen.orderLineHas(\"Desk Pad\", \"5\")),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.validateButtonIsHighlighted(true),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.receiptIsThere(),\n            ReceiptScreen.clickNextOrder(),\n            ProductScreen.isShown(),\n            // Close the session\n            Chrome.clickMenuOption(\"Close Register\"),\n            ProductScreen.closeWithCashAmount(\"25\"),\n            ProductScreen.cashDifferenceIs(\"0.00\"),\n            Dialog.confirm(\"Close Register\"),\n            {\n                trigger: \"button:contains(backend)\",\n                run: \"click\",\n                expectUnloadPage: true,\n            },\n            {\n                trigger: \"body\",\n                expectUnloadPage: true,\n            },\n            ProductScreen.lastClosingCashIs(\"25.00\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"ReceiptTrackingMethodTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Product A\"),\n            ProductScreen.enterLotNumber(\"123456789\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.trackingMethodIsLot(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_auto_validate_force_done\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.addOrderline(\"Whiteboard Pen\", \"1\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            {\n                trigger: \"body\",\n                run: () => {\n                    posmodel.get_order().payment_ids[0].set_payment_status(\"force_done\");\n                },\n            },\n            {\n                trigger: \".send_force_done\",\n                run: \"click\",\n            },\n            ReceiptScreen.receiptIsThere(),\n        ].flat(),\n});\n", "import * as ProductScreen from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as Numpad from \"@point_of_sale/../tests/tours/utils/numpad_util\";\nimport * as ReceiptScreen from \"@point_of_sale/../tests/tours/utils/receipt_screen_util\";\nimport * as PaymentScreen from \"@point_of_sale/../tests/tours/utils/payment_screen_util\";\nimport * as PartnerList from \"@point_of_sale/../tests/tours/utils/partner_list_util\";\nimport * as TicketScreen from \"@point_of_sale/../tests/tours/utils/ticket_screen_util\";\nimport * as Order from \"@point_of_sale/../tests/tours/utils/generic_components/order_widget_util\";\nimport * as Chrome from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport { inLeftSide } from \"@point_of_sale/../tests/tours/utils/common\";\nimport { registry } from \"@web/core/registry\";\nimport * as Utils from \"@point_of_sale/../tests/tours/utils/common\";\n\nregistry.category(\"web_tour.tours\").add(\"TicketScreenTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            Chrome.clickMenuOption(\"Orders\"),\n            Chrome.createFloatingOrder(),\n            ProductScreen.addOrderline(\"Desk Pad\", \"1\", \"3\"),\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.deleteOrder(\"-0002\"),\n            Dialog.confirm(),\n            TicketScreen.clickDiscard(),\n            ProductScreen.orderIsEmpty(),\n            ProductScreen.addOrderline(\"Desk Pad\", \"1\", \"2\"),\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.deleteOrder(\"-0001\"),\n            Dialog.confirm(),\n            TicketScreen.clickDiscard(),\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.nthRowContains(2, \"-0003\"),\n            TicketScreen.clickDiscard(),\n            ProductScreen.addOrderline(\"Desk Pad\", \"1\", \"2\"),\n            ProductScreen.clickPartnerButton(),\n            ProductScreen.clickCustomer(\"Partner Test 1\"),\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.nthRowContains(2, \"Partner Test 1\", false),\n            Chrome.createFloatingOrder(),\n            ProductScreen.addOrderline(\"Desk Pad\", \"1\", \"3\"),\n            ProductScreen.clickPartnerButton(),\n            ProductScreen.clickCustomer(\"Partner Test 2\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.isShown(),\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.nthRowContains(3, \"Partner Test 2\", false),\n            Chrome.createFloatingOrder(),\n            ProductScreen.addOrderline(\"Desk Pad\", \"2\", \"4\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.isShown(),\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.nthRowContains(4, \"Receipt\"),\n            TicketScreen.selectFilter(\"Receipt\"),\n            TicketScreen.nthRowContains(2, \"Receipt\"),\n            TicketScreen.selectFilter(\"Payment\"),\n            TicketScreen.nthRowContains(2, \"Payment\"),\n            TicketScreen.selectFilter(\"Ongoing\"),\n            TicketScreen.nthRowContains(2, \"Ongoing\"),\n            TicketScreen.selectFilter(\"All active orders\"),\n            TicketScreen.nthRowContains(4, \"Receipt\"),\n            TicketScreen.search(\"Receipt Number\", \"-0005\"),\n            TicketScreen.nthRowContains(2, \"Receipt\"),\n            TicketScreen.search(\"Customer\", \"Partner Test 1\"),\n            TicketScreen.nthRowContains(2, \"Partner Test 1\", false),\n            TicketScreen.search(\"Customer\", \"Partner Test 2\"),\n            TicketScreen.nthRowContains(2, \"Partner Test 2\", false),\n            // Close the TicketScreen to see the current order which is in ReceiptScreen.\n            // This is just to remove the search string in the search bar.\n            TicketScreen.clickDiscard(),\n            ReceiptScreen.isShown(),\n            // Open again the TicketScreen to check the Paid filter.\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.selectFilter(\"Paid\"),\n            TicketScreen.nthRowContains(2, \"-0005\"),\n            TicketScreen.selectOrder(\"-0005\"),\n            // Pay the order that was in PaymentScreen.\n            TicketScreen.selectFilter(\"Payment\"),\n            TicketScreen.selectOrder(\"-0004\"),\n            TicketScreen.loadSelectedOrder(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.isShown(),\n            ReceiptScreen.clickNextOrder(),\n            ProductScreen.isShown(),\n            // Check that the Paid filter will show the 2 synced orders.\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.selectFilter(\"Paid\"),\n            TicketScreen.nthRowContains(2, \"Partner Test 2\", false),\n            TicketScreen.nthRowContains(3, \"-0005\"),\n            // Invoice order\n            TicketScreen.selectOrder(\"-0005\"),\n            inLeftSide(Order.hasLine()),\n            TicketScreen.clickControlButton(\"Invoice\"),\n            Dialog.confirm(),\n            PartnerList.clickPartner(\"Partner Test 3\"),\n            TicketScreen.invoicePrinted(),\n            TicketScreen.back(),\n            // When going back, the ticket screen should be in its previous state.\n            TicketScreen.filterIs(\"Paid\"),\n            // Test refund //\n            TicketScreen.clickDiscard(),\n            ProductScreen.isShown(),\n            ProductScreen.orderIsEmpty(),\n            ...ProductScreen.clickRefund(),\n            //Filter should be automatically 'Paid'.\n            TicketScreen.filterIs(\"Paid\"),\n            TicketScreen.selectOrder(\"-0005\"),\n            inLeftSide([\n                ...Order.hasLine({ productName: \"Desk Pad\", withClass: \".selected\" }),\n                Numpad.click(\"3\"),\n                Dialog.confirm(),\n            ]),\n            TicketScreen.clickDiscard(),\n            { ...ProductScreen.back(), isActive: [\"mobile\"] },\n            ProductScreen.isShown(),\n            ProductScreen.orderIsEmpty(),\n            ...ProductScreen.clickRefund(),\n            TicketScreen.selectOrder(\"-0005\"),\n            inLeftSide(Order.hasLine({ productName: \"Desk Pad\", withClass: \".selected\" })),\n            ProductScreen.clickNumpad(\"1\"),\n            TicketScreen.toRefundTextContains(\"To Refund: 1.00\"),\n            TicketScreen.confirmRefund(),\n            { ...ProductScreen.back(), isActive: [\"mobile\"] },\n            ProductScreen.isShown(),\n            inLeftSide([\n                ...ProductScreen.clickLine(\"Desk Pad\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Desk Pad\", \"-1.00\"),\n                // Try changing the refund line to positive number.\n                // Error popup should show.\n                Numpad.click(\"2\"),\n                Dialog.confirm(),\n                // Change the refund line quantity to -3 -- not allowed\n                // so error popup.\n                ...[\"+/-\", \"3\"].map(Numpad.click),\n                Dialog.confirm(),\n                // Change the refund line quantity to -2 -- allowed.\n                ...[\"+/-\", \"2\"].map(Numpad.click),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Desk Pad\", \"-2.00\"),\n            ]),\n            // Check if the amount being refunded changed to 2.\n            ...ProductScreen.clickRefund(),\n            TicketScreen.selectOrder(\"-0005\"),\n            TicketScreen.toRefundTextContains(\"Refunding 2.00\"),\n            TicketScreen.clickDiscard(),\n            { ...ProductScreen.back(), isActive: [\"mobile\"] },\n            // Pay the refund order.\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.isShown(),\n            ReceiptScreen.clickNextOrder(),\n            // Check refunded quantity.\n            ...ProductScreen.clickRefund(),\n            TicketScreen.selectOrder(\"-0005\"),\n            TicketScreen.refundedNoteContains(\"2.00 Refunded\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"FiscalPositionNoTaxRefund\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Product Test\"),\n            ProductScreen.totalAmountIs(\"100.00\"),\n            ProductScreen.clickFiscalPosition(\"No Tax\"),\n            ProductScreen.totalAmountIs(\"100.00\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\", true, { remaining: \"0.00\" }),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.isShown(),\n            ReceiptScreen.clickNextOrder(),\n            ...ProductScreen.clickRefund(),\n            TicketScreen.selectOrder(\"-0001\"),\n            ProductScreen.clickNumpad(\"1\"),\n            TicketScreen.confirmRefund(),\n            ProductScreen.isShown(),\n            { ...ProductScreen.back(), isActive: [\"mobile\"] },\n            ProductScreen.totalAmountIs(\"100.00\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.isShown(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"LotRefundTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Product A\"),\n            ProductScreen.enterLotNumber(\"123456789\"),\n            ProductScreen.selectedOrderlineHas(\"Product A\", \"1.00\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.isShown(),\n            ReceiptScreen.clickNextOrder(),\n            ...ProductScreen.clickRefund(),\n            TicketScreen.selectOrder(\"-0001\"),\n            ProductScreen.clickNumpad(\"1\"),\n            TicketScreen.toRefundTextContains(\"To Refund: 1.00\"),\n            TicketScreen.confirmRefund(),\n            ProductScreen.isShown(),\n            ProductScreen.clickLotIcon(),\n            ProductScreen.checkFirstLotNumber(\"123456789\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"RefundFewQuantities\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Sugar\"),\n            inLeftSide([\n                ...[\"0\", \".\"].map(Numpad.click),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Sugar\", \"0.00\", \"0.00\"),\n                ...[\"0\", \"2\"].map(Numpad.click),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Sugar\", \"0.02\", \"0.06\"),\n            ]),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.isShown(),\n            ReceiptScreen.clickNextOrder(),\n            ...ProductScreen.clickRefund(),\n            TicketScreen.selectOrder(\"-0001\"),\n            ProductScreen.clickNumpad(\"0\", \".\"),\n            ProductScreen.clickNumpad(\"0\", \"2\"),\n            TicketScreen.toRefundTextContains(\"To Refund: 0.02\"),\n            TicketScreen.confirmRefund(),\n            ProductScreen.isShown(),\n            Order.hasLine(\"Sugar\", \"-0.02\", \"-0.06\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"LotTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Product A\"),\n            ProductScreen.enterLotNumber(\"1\"),\n            ProductScreen.selectedOrderlineHas(\"Product A\", \"1.00\"),\n            inLeftSide(\n                [\n                    ProductScreen.clickLotIcon(),\n                    ProductScreen.enterLotNumber(\"2\"),\n                    Order.hasLine({\n                        productName: \"Product A\",\n                        quantity: 1.0,\n                    }),\n                    ProductScreen.clickLotIcon(),\n                    ProductScreen.enterLastLotNumber(\"1\"),\n                    Order.hasLine({\n                        productName: \"Product A\",\n                        quantity: 2.0,\n                    }),\n                ].flat()\n            ),\n            ProductScreen.clickDisplayedProduct(\"Product A\"),\n            ProductScreen.enterLastLotNumber(\"3\"),\n            ProductScreen.selectedOrderlineHas(\"Product A\", \"3.00\"),\n            inLeftSide({\n                trigger: \".info-list:contains('SN 3')\",\n            }),\n\n            // Verify if the serial number can be reused for the current order\n            Chrome.createFloatingOrder(),\n            ProductScreen.clickDisplayedProduct(\"Product A\"),\n            ProductScreen.enterLastLotNumber(\"3\"),\n            inLeftSide({\n                trigger: \".info-list:not(:contains('SN 3'))\",\n            }),\n            // Check auto assign lot number if there is only one available option\n            ProductScreen.clickDisplayedProduct(\"Product B\"),\n            inLeftSide({\n                trigger: \".info-list:contains('Lot Number 1001')\",\n            }),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_order_with_existing_serial\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Serial Product\"),\n            ProductScreen.enterLotNumber(\"SN1\"),\n            ProductScreen.selectedOrderlineHas(\"Serial Product\", \"1.00\"),\n            inLeftSide({\n                trigger: \".info-list:contains('SN SN1')\",\n            }),\n            ProductScreen.clickDisplayedProduct(\"Serial Product\"),\n            ProductScreen.enterLastLotNumber(\"SN2\"),\n            ProductScreen.selectedOrderlineHas(\"Serial Product\", \"2.00\"),\n            inLeftSide({\n                trigger: \".info-list:contains('SN SN2')\",\n            }),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_serial_number_do_not_duplicate_after_refresh\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickDisplayedProduct(\"Product A\"),\n            ProductScreen.enterLotNumber(\"1\"),\n            ProductScreen.selectedOrderlineHas(\"Product A\", \"1.00\"),\n            Utils.refresh(),\n            inLeftSide({\n                content: `check serial number`,\n                trigger: `.info-list`,\n                run: () => {\n                    const serialNumberCount = document.querySelectorAll(\n                        \"ul.info-list li:not(:first-child)\"\n                    ).length;\n                    if (serialNumberCount !== 1) {\n                        throw new Error(`Expected 1 serial number, got ${serialNumberCount}`);\n                    }\n                },\n            }),\n        ].flat(),\n});\n", "import * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport { negate } from \"@point_of_sale/../tests/tours/utils/common\";\nconst { DateTime } = luxon;\nimport { waitFor } from \"@odoo/hoot-dom\";\n\nexport function confirmPopup() {\n    return [Dialog.confirm()];\n}\nexport function clickMenuButton() {\n    return {\n        content: \"Click on the menu button\",\n        trigger: \".pos-rightheader button:has(.fa-bars)\",\n        run: \"click\",\n    };\n}\nexport function clickMenuOption(name, options) {\n    return [clickMenuButton(), clickMenuDropdownOption(name, options)];\n}\nexport function clickMenuDropdownOption(name, { expectUnloadPage = false } = {}) {\n    return {\n        content: `click on something in the burger menu`,\n        trigger: `span.dropdown-item:contains(${name})`,\n        run: \"click\",\n        expectUnloadPage,\n    };\n}\nexport function isCashMoveButtonHidden() {\n    return [\n        clickMenuButton(),\n        {\n            trigger: \"span.dropdown-item:not(:contains(Cash In/Out))\",\n            run: () => {},\n        },\n    ];\n}\nexport function endTour() {\n    return {\n        content: \"Last tour step that avoids error mentioned in commit 443c209\",\n        trigger: \"body\",\n    };\n}\nexport function isSyncStatusConnected() {\n    return {\n        trigger: negate(\".oe_status\", \".pos-rightheader .status-buttons\"),\n    };\n}\nexport function clickPlanButton() {\n    return {\n        content: \"go back to the floor screen\",\n        trigger: \".pos-leftheader .back-button:not(.btn-primary)\",\n        run: \"click\",\n    };\n}\nexport function startPoS() {\n    return [\n        {\n            content: \"Start PoS\",\n            trigger: \".screen-login .btn.open-register-btn\",\n            run: \"click\",\n        },\n    ];\n}\nexport function clickBtn(name, { expectUnloadPage = false } = {}) {\n    return {\n        content: `Click on ${name}`,\n        trigger: `body button:contains(${name})`,\n        run: \"click\",\n        expectUnloadPage,\n    };\n}\nexport function fillTextArea(target, value) {\n    return {\n        content: `Fill text area with ${value}`,\n        trigger: `textarea${target}`,\n        run: `edit ${value}`,\n    };\n}\nexport function createFloatingOrder() {\n    return { trigger: \".pos-leftheader .list-plus-btn\", run: \"click\" };\n}\n\nexport function waitRequest() {\n    return [\n        {\n            trigger: \"body\",\n            content: \"Wait loading is finished if it is shown\",\n            timeout: 15000,\n            async run() {\n                let isLoading = false;\n                try {\n                    isLoading = await waitFor(\"body:has(.fa-circle-o-notch)\", { timeout: 2000 });\n                } catch {\n                    /* fa-circle-o-notch will certainly never appears :'( */\n                }\n                if (isLoading) {\n                    await waitFor(\"body:not(:has(.fa-circle-o-notch))\", { timeout: 10000 });\n                }\n            },\n        },\n    ];\n}\n\nexport function freezeDateTime(millis) {\n    return [\n        {\n            trigger: \"body\",\n            run: () => {\n                DateTime.now = () => DateTime.fromMillis(millis);\n            },\n        },\n    ];\n}\n\nexport function isSynced() {\n    return {\n        content: \"Check if the request is proceeded\",\n        trigger: negate(\".fa-spin\", \".status-buttons\"),\n    };\n}\n", "import { negate } from \"@point_of_sale/../tests/tours/utils/common\";\n\nconst productTrigger = (productName) =>\n    `label.combo-item article.product:has(.product-name:contains(\"${productName}\"))`;\nconst isComboSelectedTrigger = (productName) => `input:checked ~ ${productTrigger(productName)}`;\nconst confirmationButtonTrigger = `footer button.confirm`;\n\nexport function select(productName) {\n    return {\n        content: `Select combo item ${productName}`,\n        trigger: `.modal ${productTrigger(productName)}`,\n        run: \"click\",\n    };\n}\nexport function isSelected(productName) {\n    return {\n        content: `Check that ${productName} is selected`,\n        trigger: `.modal ${isComboSelectedTrigger(productName)}`,\n        run: \"click\",\n    };\n}\nexport function isNotSelected(productName) {\n    return {\n        content: `Check that ${productName} is not selected`,\n        trigger: `.modal ${negate(isComboSelectedTrigger(productName), \".modal-body\")}`,\n        run: \"click\",\n    };\n}\nexport function isConfirmationButtonDisabled() {\n    return {\n        content: \"try to click `confirm` without having made all the selections\",\n        trigger: `.modal ${confirmationButtonTrigger}[disabled]`,\n    };\n}\n", "import { simulateBarCode } from \"@barcodes/../tests/helpers\";\n\nexport function back() {\n    return {\n        content: \"go back to the products\",\n        trigger: \".actionpad .back-button\",\n        run: \"click\",\n    };\n}\nexport function inLeftSide(steps) {\n    return [\n        {\n            isActive: [\"mobile\"],\n            content: \"click review button\",\n            trigger: \".btn-switchpane.review-button\",\n            run: \"click\",\n        },\n        ...[steps].flat(),\n        { ...back(), isActive: [\"mobile\"] },\n    ];\n}\n\nexport function negate(selector, parent = \"body\") {\n    return `${parent}:not(:has(${selector}))`;\n}\nexport function negateStep(step) {\n    return {\n        ...step,\n        content: `Check that: ---${step.content}--- is not true`,\n        trigger: negate(step.trigger),\n    };\n}\nexport function run(run, content = \"run function\", expectUnloadPage = false) {\n    return { content, trigger: \"body\", run, expectUnloadPage };\n}\nexport function refresh() {\n    return run(() => window.location.reload(), \"refresh page\", true);\n}\nexport function elementDoesNotExist(selector) {\n    return {\n        content: `Check that element \"${selector}\" don't exist.`,\n        trigger: negate(selector),\n    };\n}\n\nexport function waitForLoading() {\n    return [\n        {\n            content: \"waiting for loading to finish\",\n            trigger: \"body:not(:has(.loader))\",\n        },\n    ];\n}\n\nexport function selectButton(name) {\n    return {\n        content: `Select button ${name}`,\n        trigger: `button:contains(\"${name}\")`,\n        run: \"click\",\n    };\n}\nexport function scan_barcode(barcode) {\n    return [\n        {\n            content: `PoS model scan barcode '${barcode}'`,\n            trigger: \"body\", // The element here does not really matter as long as it is present\n            run: () => simulateBarCode([...barcode, \"Enter\"]),\n        },\n    ];\n}\n", "import { negate } from \"@point_of_sale/../tests/tours/utils/common\";\n\nexport function confirm(confirmationText, button = \".btn-primary\") {\n    let trigger = `.modal:not(.o_inactive_modal) .modal-footer ${button}`;\n    if (confirmationText) {\n        trigger += `:contains(\"${confirmationText}\")`;\n    }\n    return {\n        content: \"confirm dialog\",\n        trigger,\n        run: \"click\",\n    };\n}\nexport function cancel() {\n    return {\n        content: \"cancel dialog\",\n        trigger: `.modal .modal-header button[aria-label=\"Close\"]`,\n        run: \"click\",\n    };\n}\nexport function discard() {\n    return {\n        content: \"discard dialog\",\n        trigger: `.modal .modal-footer button:contains(\"Discard\")`,\n        run: \"click\",\n    };\n}\nexport function is({ title } = {}) {\n    let trigger = \".modal .modal-content\";\n    if (title) {\n        trigger += ` .modal-header:contains(\"${title}\")`;\n    }\n    return {\n        content: \"dialog is open\",\n        trigger,\n    };\n}\nexport function isNot() {\n    return {\n        content: \"no dialog is open\",\n        trigger: negate(\".modal-open\"),\n    };\n}\n\nexport function bodyIs(body) {\n    return {\n        content: \"dialog is open\",\n        trigger: `.modal-body:contains(${body})`,\n    };\n}\n", "export function has(text, type) {\n    let trigger = `.o_notification:contains(\"${text}\")`;\n    if (type) {\n        trigger += `:has(.o_notification_bar.bg-${type})`;\n    }\n    return {\n        content: `Check if there is a notification with text \"${text}\"`,\n        trigger,\n    };\n}\n", "import { negate } from \"@point_of_sale/../tests/tours/utils/common\";\n\n/**\n * @typedef {{\n * withClass?: string, // ex: withClass: \".selected.blue\"\n * withoutClass?: string,\n * run?: function | string,\n * productName?: string,\n * quantity?: string,\n * price?: string,\n * customerNote?: string,\n * comboParent?: string,\n * }} LineOptions\n */\n\n/**\n * @param {LineOptions} options\n * @returns {import(\"@web_tour/tour_service/tour_service\").TourStep[]}\n */\nexport function hasLine({\n    withClass = \"\",\n    withoutClass = \"\",\n    run = () => {},\n    productName,\n    quantity,\n    price,\n    customerNote,\n    internalNote,\n    comboParent,\n    discount,\n    oldPrice,\n    priceNoDiscount,\n} = {}) {\n    let trigger = `.order-container .orderline${withClass}`;\n    if (withoutClass) {\n        trigger += `:not(${withoutClass})`;\n    }\n    if (productName) {\n        trigger += `:has(.product-name:contains(\"${productName}\"))`;\n    }\n    if (quantity) {\n        trigger += `:has(.qty:contains(\"${quantity}\"))`;\n    }\n    if (price) {\n        trigger += `:has(.price:contains(\"${price}\"))`;\n    }\n    if (customerNote) {\n        trigger += `:has(.info-list .customer-note:contains(\"${customerNote}\"))`;\n    }\n    if (internalNote) {\n        trigger += `:has(.info-list .internal-note:contains(\"${internalNote}\"))`;\n    }\n    if (comboParent) {\n        trigger += `:has(.info-list .combo-parent-name:contains(\"${comboParent}\"))`;\n    }\n    if (discount || discount === \"\") {\n        trigger += `:has(.info-list .discount.em:contains(\"${discount}\"))`;\n    }\n    if (oldPrice) {\n        trigger += `:has(.info-list .price-per-unit s:contains(\"${oldPrice}\"))`;\n    }\n    if (priceNoDiscount) {\n        trigger += `:has(.info-list:contains(\"${priceNoDiscount}\"))`;\n    }\n    const args = JSON.stringify(arguments[0]);\n    return [\n        {\n            content: `Check orderline with attributes: ${args}`,\n            trigger,\n            run: typeof run === \"string\" ? run : () => run(trigger),\n        },\n    ];\n}\n/**\n * @param {LineOptions} options\n * @returns {import(\"@web_tour/tour_service/tour_service\").TourStep}\n */\nexport function doesNotHaveLine(options = {}) {\n    const step = hasLine(options)[0];\n    return [{ ...step, trigger: negate(step.trigger) }];\n}\n\n// TODO: there are instances where we have no selected orderline. Fix those instances\n\nexport function hasTotal(amount) {\n    return [\n        {\n            isActive: [\"desktop\"],\n            content: `order total amount is '${amount}'`,\n            trigger: `.product-screen .order-summary .total:contains(\"${amount}\")`,\n        },\n        {\n            isActive: [\"mobile\"],\n            content: `order total amount is '${amount}'`,\n            trigger: `.product-screen .order-summary .total:contains(\"${amount}\"):not(:visible)`,\n        },\n    ];\n}\nexport function hasTax(amount) {\n    return {\n        content: `order total tax is '${amount}'`,\n        trigger: `.order-summary .tax:contains(\"${amount}\")`,\n    };\n}\n\nexport function hasNoTax() {\n    return {\n        content: \"order has not tax\",\n        trigger: \".order-summary\",\n        run: function () {\n            if (document.querySelector(\".tax-info\")) {\n                throw new Error(\"A tax has been found in the order screen.\");\n            }\n        },\n    };\n}\n", "import * as Numpad from \"@point_of_sale/../tests/tours/utils/numpad_util\";\n\nexport function enterValue(keys) {\n    return Numpad.enterValue(keys).map((step) => ({\n        ...step,\n        trigger: `.modal ${step.trigger}`,\n    }));\n}\nexport function isShown(val = \"\") {\n    return [\n        {\n            content: `input shown is '${val}'`,\n            trigger: `.modal .value:contains(\"${val}\")`,\n        },\n    ];\n}\n", "import { queryAll } from \"@odoo/hoot-dom\";\n\nconst buttonTriger = (buttonValue) => `div.numpad button[value=\"${buttonValue}\"]`;\nexport const click = (buttonValue) => ({\n    content: `click numpad button: ${buttonValue}`,\n    trigger: buttonTriger(buttonValue),\n    // here we couldn't simply use the jquery `:contains` selector because it\n    // would match (for ex) the button with the value \"+10\" when we want to click the\n    // button with the value \"1\". Here we need to match the exact value.\n    run: () => {\n        queryAll(buttonTriger(buttonValue))\n            .filter((el) => el.innerText === buttonValue)\n            .at(0)\n            ?.click();\n    },\n});\nexport const enterValue = (keys) => keys.split(\"\").map((key) => click(key));\nexport const isActive = (buttonValue) => ({\n    content: `check if --${buttonValue}-- mode is activated`,\n    trigger: `${buttonTriger(buttonValue)}.active`,\n});\n", "export function clickPartner(name = \"\", { expectUnloadPage = false } = {}) {\n    return {\n        content: `click partner '${name}' from partner list screen`,\n        trigger: `.modal .partner-list b:contains(${name})`,\n        run: \"click\",\n        expectUnloadPage,\n    };\n}\nexport function clickPartnerOptions(name) {\n    return {\n        content: `click partner from partner list screen`,\n        trigger: `.partner-info:contains(\"${name}\") button.dropdown`,\n        run: \"click\",\n    };\n}\n\nexport function checkDropDownItemText(text) {\n    return {\n        content: `check for dropdown item containing text`,\n        trigger: `.o-dropdown-item:contains(\"${text}\")`,\n    };\n}\n\nexport function checkContactValues(name, address = \"\", phone = \"\", mobile = \"\", email = \"\") {\n    const steps = [\n        {\n            content: `Check partner \"${name}\" from partner list screen`,\n            trigger: `.partner-list .partner-info:contains(\"${name}\")`,\n        },\n        {\n            content: `Check address \"${address}\" for partner \"${name}\"`,\n            trigger: `.partner-list .partner-info:contains(\"${name}\") .partner-line-adress:contains(\"${address}\")`,\n        },\n    ];\n\n    if (phone) {\n        steps.push({\n            content: `Check phone number \"${phone}\" for partner \"${name}\"`,\n            trigger: `.partner-list .partner-info:contains(\"${name}\") .partner-line-email:contains(\"${phone}\")`,\n        });\n    }\n\n    if (mobile) {\n        steps.push({\n            content: `Check mobile number \"${mobile}\" for partner \"${name}\"`,\n            trigger: `.partner-list .partner-info:contains(\"${name}\") .partner-line-email:contains(\"${mobile}\")`,\n        });\n    }\n\n    if (email) {\n        steps.push({\n            content: `Check email address \"${email}\" for partner \"${name}\"`,\n            trigger: `.partner-list .partner-info:contains(\"${name}\") .partner-line-email .email-field:contains(\"${email}\")`,\n        });\n    }\n\n    return steps;\n}\n\nexport function searchCustomerValue(val) {\n    return [\n        {\n            isActive: [\"mobile\"],\n            content: `Click search field`,\n            trigger: `.fa-search.undefined`,\n            run: `click`,\n        },\n        {\n            content: `Search customer with \"${val}\"`,\n            trigger: `.modal-dialog .input-group input`,\n            run: `edit ${val}`,\n        },\n        {\n            content: `Click on search more if present`,\n            trigger: `.search-more-button > button, .partner-list .partner-info:nth-child(1):contains(\"${val}\")`,\n            run: function () {\n                this.anchor.click();\n            },\n        },\n        {\n            content: `Check \"${val}\" is shown`,\n            trigger: `.partner-list .partner-info:nth-child(1):contains(\"${val}\")`,\n        },\n    ];\n}\n", "import * as Numpad from \"@point_of_sale/../tests/tours/utils/numpad_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as PartnerList from \"@point_of_sale/../tests/tours/utils/partner_list_util\";\nimport * as NumberPopup from \"@point_of_sale/../tests/tours/utils/number_popup_util\";\n\n/**\n * Clicks on the payment method and then performs checks if necessary.\n *\n * @param {string} name - The name of the payment method to click on. This name is used to identify the corresponding element in the user interface.\n * @param {boolean} [isCheckNeeded=false] - Indicates whether additional checks are necessary after clicking on the payment method. If `true`, additional verification steps will be added to ensure that the expected changes (such as the remaining amount, change, or selected amount) are correctly applied.\n * @param {Object} [options={}] - An object containing additional options for the checks. The options include:\n *   @param {string|null} [options.remaining=null] - The expected remaining amount after selecting the payment method. If provided and `isCheckNeeded` is `true`, a check will be performed to ensure this remaining amount is correct.\n *   @param {string|null} [options.change=null] - The expected change amount after selecting the payment method. If provided and `isCheckNeeded` is `true`, a check will be performed to confirm this change amount.\n *   @param {string|null} [options.amount=null] - The specific amount associated with the selected payment method. If provided and `isCheckNeeded` is `true`, a check will ensure that the selected amount is correctly displayed.\n *\n *\n * @example\n * // Clicks on the \"Cash\" payment method without additional checks\n * clickPaymentMethod(\"Cash\");\n *\n * // Clicks on the \"Bank\" payment method and checks the remaining amount and change\n * clickPaymentMethod(\"Cash\", true, { remaining: \"50.20\", change: \"10.50\" });\n *\n * // Clicks on the \"Cash\" payment method and checks the amount to be paid\n * clickPaymentMethod(\"Cash\", true, { amount: \"10.20\" });\n */\nexport function clickPaymentMethod(name, isCheckNeeded = false, options = {}) {\n    const { remaining = null, change = null, amount = null } = options;\n\n    const step = [\n        {\n            content: `click '${name}' payment method`,\n            trigger: `.paymentmethods .button.paymentmethod .payment-name:contains(\"${name}\")`,\n            run: \"click\",\n        },\n    ];\n\n    if (isCheckNeeded) {\n        if (remaining) {\n            step.push(...remainingIs(remaining));\n        }\n        if (change) {\n            step.push(...changeIs(change));\n        }\n        if (amount) {\n            step.push(...selectedPaymentlineHas(name, amount));\n        }\n    }\n\n    return step;\n}\n/**\n * Delete the paymentline having the given payment method name and amount.\n * @param {String} name payment method\n * @param {String} amount\n */\nexport function clickPaymentlineDelButton(name, amount, mobile = false) {\n    return [\n        {\n            content: `delete ${name} paymentline with ${amount} amount`,\n            trigger: `.paymentlines .paymentline .payment-infos:contains(\"${name}\"):has(.payment-amount:contains(\"${amount}\")) ~ .delete-button`,\n            run: \"click\",\n        },\n    ];\n}\n/**\n * Click the paymentline having the given payment method name and amount.\n * @param {String} name payment method\n * @param {String} amount\n */\nexport function clickPaymentline(name, amount) {\n    return [\n        {\n            content: `click ${name} paymentline with ${amount} amount`,\n            trigger: `.paymentlines .paymentline .payment-infos:contains(\"${name}\"):has(.payment-amount:contains(\"${amount}\"))`,\n            run: \"click\",\n        },\n    ];\n}\nexport function clickInvoiceButton() {\n    return [\n        {\n            content: \"click invoice button\",\n            trigger: \".payment-buttons .js_invoice\",\n            run: \"click\",\n        },\n    ];\n}\nexport function clickValidate() {\n    return [\n        {\n            isActive: [\"desktop\"],\n            content: \"validate payment\",\n            trigger: `.payment-screen .button.next.highlight`,\n            run: \"click\",\n        },\n        {\n            isActive: [\"mobile\"],\n            content: \"validate payment\",\n            trigger: `.payment-screen .btn-switchpane:contains('Validate')`,\n            run: \"click\",\n        },\n    ];\n}\n/**\n * Press the numpad in sequence based on the given space-separated keys.\n * Note: Maximum of 2 characters because NumberBuffer only allows 2 consecutive\n * fast inputs. Fast inputs is the case in tours. This method is only for the\n * desktop environment. The mobile environment doesn't work exactly the same way\n * so we have to call fillPaymentLineAmountMobile to have the same behaviour.\n *\n * e.g. :\n *  PaymentScreen.enterPaymentLineAmount(\"Cash\", \"70\"),\n *  PaymentScreen.remainingIs(\"2.0\"),\n *  PaymentScreen.clickNumpad(\"0\"), <- desktop: add a 0\n *  PaymentScreen.fillPaymentLineAmountMobile(\"Cash\", \"700\"), <- mobile: rewrite the amount\n *  PaymentScreen.remainingIs(\"0.00\"),\n *  PaymentScreen.changeIs(\"628.0\"),\n *\n * @param {String} keys space-separated numpad keys\n */\nexport function clickNumpad(keys) {\n    return keys.split(\" \").map((key) => ({ ...Numpad.click(key), isActive: [\"desktop\"] }));\n}\nexport function clickBack() {\n    return [\n        {\n            content: \"click back button\",\n            trigger: \".back-button\",\n            run: \"click\",\n        },\n    ];\n}\nexport function clickBackToProductScreen() {\n    return [\n        {\n            content: \"click back to product screen\",\n            trigger: \".payment-screen .back-button\",\n            run: \"click\",\n        },\n    ];\n}\nexport function clickTipButton() {\n    return [\n        {\n            trigger: \".payment-screen .button:contains('Tip')\",\n            run: \"click\",\n        },\n    ];\n}\n/**\n * Enter an amount for a specified payment line and then perform checks if necessary.\n *\n * This function performs the entry of an amount on a payment line in the user interface. It can also check for expected conditions such as the remaining amount, change, or the selected amount after the entry.\n *\n * @param {string} lineName - The name of the payment line where the amount needs to be entered. This name helps to identify the target payment line in the user interface.\n * @param {string} keys - The sequence of keys to simulate for the amount entry, in the form of a string where each character represents a key to press.\n * @param {boolean} [isCheckNeeded=false] - Indicates whether additional checks need to be performed after the amount entry.\n * @param {Object} [options={}] - An object containing additional options for checks. The options include:\n *   @param {string|null} [options.remaining=null] - The expected remaining amount after the amount is entered on the payment line. If provided and `isCheckNeeded` is `true`, a check will be performed to ensure this remaining amount is correct.\n *   @param {string|null} [options.change=null] - The expected change amount after the amount is entered on the payment line. If provided and `isCheckNeeded` is `true`, a check will be performed to confirm this change amount.\n *   @param {string|null} [options.amount=null] - The specific amount expected on the payment for this line after the entry. If provided and `isCheckNeeded` is `true`, a check will ensure that the selected amount is correctly displayed.\n *\n * @example\n * // Enter the amount \"50\" on the \"Cash\" payment line without additional checks\n * enterPaymentLineAmount(\"Cash\", \"50\");\n *\n * @example\n * // Enter the amount \"100\" on the \"Bank\" payment line and check that the remaining amount is 50 and the change is 20\n * enterPaymentLineAmount(\"Bank\", \"100\", true, { remaining: \"50.0\", change: \"20.0\" });\n */\nexport function enterPaymentLineAmount(lineName, keys, isCheckNeeded = false, options = {}) {\n    const { remaining = null, change = null, amount = null } = options;\n    const step = [\n        ...clickNumpad(keys.split(\"\").join(\" \")),\n        ...fillPaymentLineAmountMobile(lineName, keys),\n    ];\n\n    if (isCheckNeeded) {\n        if (remaining) {\n            step.push(...remainingIs(remaining));\n        }\n        if (change) {\n            step.push(...changeIs(change));\n        }\n        if (amount) {\n            step.push(...selectedPaymentlineHas(lineName, amount));\n        }\n    }\n\n    return step;\n}\nexport function fillPaymentLineAmountMobile(lineName, keys) {\n    return [\n        {\n            isActive: [\"mobile\"],\n            content: \"click payment line\",\n            trigger: `.paymentlines .paymentline .payment-infos:contains(\"${lineName}\")`,\n            run: \"click\",\n        },\n        ...NumberPopup.enterValue(keys).map((step) => ({\n            ...step,\n            isActive: [\"mobile\"],\n            run: \"click\",\n        })),\n        {\n            ...Dialog.confirm(),\n            isActive: [\"mobile\"],\n            run: \"click\",\n        },\n    ];\n}\n\nexport function isShown() {\n    return [\n        {\n            content: \"payment screen is shown\",\n            trigger: \".pos .payment-screen\",\n        },\n    ];\n}\n/**\n * Check if change is the provided amount.\n * @param {String} amount\n */\nexport function changeIs(amount) {\n    return [\n        {\n            content: `change is ${amount}`,\n            trigger: `.payment-status-change .amount:contains(\"${amount}\")`,\n        },\n    ];\n}\nexport function isInvoiceOptionSelected() {\n    return [\n        {\n            content: \"Invoice option is selected\",\n            trigger: \".payment-buttons .js_invoice.highlight\",\n        },\n    ];\n}\n/**\n * Check if the remaining is the provided amount.\n * @param {String} amount\n */\nexport function remainingIs(amount) {\n    return [\n        {\n            content: `remaining amount is ${amount}`,\n            trigger: `.payment-status-remaining .amount:contains(\"${amount}\")`,\n        },\n    ];\n}\n/**\n * Check if validate button is highlighted.\n * @param {Boolean} isHighlighted\n */\nexport function validateButtonIsHighlighted(isHighlighted = true) {\n    return [\n        {\n            isActive: [\"desktop\"],\n            content: `validate button is ${isHighlighted ? \"highlighted\" : \"not highligted\"}`,\n            trigger: isHighlighted\n                ? `.payment-screen .button.next.highlight`\n                : `.payment-screen .button.next:not(:has(.highlight))`,\n        },\n        {\n            isActive: [\"mobile\"],\n            content: `validate button is ${isHighlighted ? \"highlighted\" : \"not highligted\"}`,\n            trigger: isHighlighted\n                ? `.payment-screen .btn-switchpane:not(.secondary):contains('Validate')`\n                : `.payment-screen .btn-switchpane.secondary:contains('Validate')`,\n        },\n    ];\n}\n/**\n * Check if the paymentlines are empty. Also provide the amount to pay.\n * @param {String} amountToPay\n */\nexport function emptyPaymentlines(amountToPay) {\n    return [\n        {\n            content: `there are no paymentlines`,\n            trigger: `.paymentlines-empty`,\n        },\n        {\n            content: `amount to pay is '${amountToPay}'`,\n            trigger: `.paymentlines-empty .total:contains(\"${amountToPay}\")`,\n        },\n    ];\n}\n/**\n * Check if the selected paymentline has the given payment method and amount.\n * @param {String} paymentMethodName\n * @param {String} amount\n */\nexport function selectedPaymentlineHas(paymentMethodName, amount) {\n    return [\n        {\n            content: `line paid via '${paymentMethodName}' is selected`,\n            trigger: `.paymentlines .paymentline.selected .payment-name:contains(\"${paymentMethodName}\")`,\n        },\n        {\n            content: `amount tendered in the line is '${amount}'`,\n            trigger: `.paymentlines .paymentline.selected .payment-amount:contains(\"${amount}\")`,\n        },\n    ];\n}\nexport function totalIs(amount) {\n    return [\n        {\n            content: `total is ${amount}`,\n            trigger: `.total:contains(\"${amount}\")`,\n        },\n    ];\n}\nexport function pay(method, amount) {\n    const steps = [];\n    steps.push(...clickPaymentMethod(method));\n    for (const char of amount.split(\"\")) {\n        steps.push(...clickNumpad(char));\n    }\n    steps.push(...validateButtonIsHighlighted());\n    steps.push(...clickValidate());\n    return steps;\n}\n\nexport function isInvoiceButtonChecked() {\n    return [\n        {\n            content: \"check invoice button is checked\",\n            trigger: \".js_invoice.highlight\",\n        },\n    ];\n}\n\nexport function clickShipLaterButton() {\n    return [\n        {\n            content: \"click ship later button\",\n            trigger: \".button:contains('Ship Later')\",\n            run: \"click\",\n        },\n        {\n            content: \"click confirm button\",\n            trigger: \".btn:contains('Confirm')\",\n            run: \"click\",\n        },\n    ];\n}\n\nexport function clickPartnerButton() {\n    return [\n        {\n            content: \"click customer button\",\n            trigger: \"button.partner-button\",\n            run: \"click\",\n        },\n        {\n            content: \"partner screen is shown\",\n            trigger: `.modal ${PartnerList.clickPartner().trigger}`,\n        },\n    ];\n}\n\nexport function clickCustomer(name) {\n    return [PartnerList.clickPartner(name)];\n}\n\nexport function shippingLaterHighlighted() {\n    return {\n        content: \"Shipping later button is highlighted\",\n        trigger: \".button:contains('Ship Later').highlight\",\n    };\n}\n", "/* global posmodel */\nimport { roundDecimals as round_di } from \"@web/core/utils/numbers\";\n\nfunction assert(condition, message) {\n    if (!condition) {\n        throw message || \"Assertion failed\";\n    }\n}\n\nfunction assertProductPrice(product, pricelist_name, quantity, expected_price) {\n    return function () {\n        var pricelist = posmodel.data.models[\"product.pricelist\"].find(\n            (pricelist) => pricelist.name === pricelist_name\n        );\n        var frontend_price = product.get_price(pricelist, quantity);\n        const dp = posmodel.data.models[\"decimal.precision\"].find(\n            (dp) => dp.name === \"Product Price\"\n        );\n        frontend_price = round_di(frontend_price, dp.digits);\n        var diff = Math.abs(expected_price - frontend_price);\n\n        assert(\n            diff < 0.001,\n            JSON.stringify({\n                product: product.id,\n                product_display_name: product.display_name,\n                pricelist_name: pricelist_name,\n                quantity: quantity,\n            }) +\n                \" DOESN'T MATCH -> \" +\n                expected_price +\n                \" != \" +\n                frontend_price\n        );\n\n        return Promise.resolve();\n    };\n}\n\nexport function setUp() {\n    return [\n        // The global posmodel is only present when the posmodel is instantiated\n        // So, wait for everything to be loaded\n        {\n            content: \"waiting for loading to finish\",\n            trigger: \"body:not(:has(.pos-loader))\", // Pos has finished loading\n            run: function () {\n                var product_wall_shelf = posmodel.data.models[\"product.product\"]\n                    .getAll()\n                    .find((p) => p.display_name === \"Wall Shelf Unit\");\n                var product_small_shelf = posmodel.data.models[\"product.product\"]\n                    .getAll()\n                    .find((p) => p.display_name === \"Small Shelf\");\n                var product_magnetic_board = posmodel.data.models[\"product.product\"]\n                    .getAll()\n                    .find((p) => p.display_name === \"Magnetic Board\");\n                var product_monitor_stand = posmodel.data.models[\"product.product\"]\n                    .getAll()\n                    .find((p) => p.display_name === \"Monitor Stand\");\n                var product_desk_pad = posmodel.data.models[\"product.product\"]\n                    .getAll()\n                    .find((p) => p.display_name === \"Desk Pad\");\n                var product_letter_tray = posmodel.data.models[\"product.product\"]\n                    .getAll()\n                    .find((p) => p.display_name === \"Letter Tray\");\n\n                assertProductPrice(product_letter_tray, \"Public Pricelist\", 0, 4.8)()\n                    .then(assertProductPrice(product_letter_tray, \"Public Pricelist\", 1, 4.8))\n                    .then(assertProductPrice(product_letter_tray, \"Fixed\", 1, 1))\n                    .then(assertProductPrice(product_wall_shelf, \"Fixed\", 1, 2))\n                    .then(assertProductPrice(product_small_shelf, \"Fixed\", 1, 13.95))\n                    .then(assertProductPrice(product_wall_shelf, \"Percentage\", 1, 0))\n                    .then(assertProductPrice(product_small_shelf, \"Percentage\", 1, 0.03))\n                    .then(assertProductPrice(product_magnetic_board, \"Percentage\", 1, 1.98))\n                    .then(assertProductPrice(product_wall_shelf, \"Formula\", 1, 6.86))\n                    .then(assertProductPrice(product_small_shelf, \"Formula\", 1, 2.99))\n                    .then(assertProductPrice(product_magnetic_board, \"Formula\", 1, 11.98))\n                    .then(assertProductPrice(product_monitor_stand, \"Formula\", 1, 8.19))\n                    .then(assertProductPrice(product_desk_pad, \"Formula\", 1, 6.98))\n                    .then(assertProductPrice(product_wall_shelf, \"min_quantity ordering\", 1, 2))\n                    .then(assertProductPrice(product_wall_shelf, \"min_quantity ordering\", 2, 1))\n                    .then(assertProductPrice(product_letter_tray, \"Category vs no category\", 1, 2))\n                    .then(assertProductPrice(product_letter_tray, \"Category\", 1, 2))\n                    .then(assertProductPrice(product_wall_shelf, \"Product template\", 1, 1))\n                    .then(assertProductPrice(product_wall_shelf, \"Dates\", 1, 2))\n                    .then(\n                        assertProductPrice(product_small_shelf, \"Pricelist base rounding\", 1, 13.95)\n                    )\n                    .then(function () {\n                        document.querySelector(\".pos\").classList.add(\"done-testing\");\n                    });\n            },\n        },\n    ];\n}\n\nexport function waitForUnitTest() {\n    return [\n        {\n            content: \"wait for unit tests to finish\",\n            trigger: \".pos.done-testing\",\n        },\n    ];\n}\n", "export function pickRadio(name) {\n    return [\n        {\n            content: `picking radio attribute with name ${name}`,\n            trigger: `.modal .attribute-name-cell:contains('${name}') input`,\n            run: \"click\",\n        },\n    ];\n}\nexport function pickSelect(name) {\n    return [\n        {\n            content: `picking select attribute with name ${name}`,\n            trigger: `.modal .configurator_select:has(option:contains('${name}'))`,\n            run: `select ${name}`,\n        },\n    ];\n}\nexport function pickColor(name) {\n    return [\n        {\n            content: `picking color attribute with name ${name}`,\n            trigger: `.modal .configurator_color[data-color='${name}']`,\n            run: \"click\",\n        },\n    ];\n}\nexport function fillCustomAttribute(value) {\n    return [\n        {\n            content: `filling custom attribute with value ${value}`,\n            trigger: `.modal .custom_value`,\n            run: `edit ${value}`,\n        },\n    ];\n}\n\nexport function numberRadioOptions(number) {\n    return [\n        {\n            trigger: `.attribute-name-cell`,\n            run: () => {\n                const radio_options = document.querySelectorAll(\".attribute-name-cell\").length;\n                if (radio_options !== number) {\n                    throw new Error(`Expected ${number} radio options, got ${radio_options}`);\n                }\n            },\n        },\n    ];\n}\n\nexport function isOptionShown(option) {\n    return [\n        {\n            content: `option ${option} is shown`,\n            trigger: `.form-check-label:contains('${option}')`,\n        },\n    ];\n}\n", "/** @odoo-module */\n\nimport * as PartnerList from \"@point_of_sale/../tests/tours/utils/partner_list_util\";\nimport * as ProductScreen from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport { back, selectButton } from \"@point_of_sale/../tests/tours/utils/common\";\n\nexport function searchCustomerValueAndClear(val) {\n    return [\n        ProductScreen.clickPartnerButton(),\n        PartnerList.searchCustomerValue(val),\n        selectButton(\"Discard\"),\n        {\n            isActive: [\"mobile\"],\n            ...back(),\n        },\n    ].flat();\n}\n", "import * as Numpad from \"@point_of_sale/../tests/tours/utils/numpad_util\";\nimport * as Order from \"@point_of_sale/../tests/tours/utils/generic_components/order_widget_util\";\nimport { back as utilsBack, inLeftSide } from \"@point_of_sale/../tests/tours/utils/common\";\nimport * as PartnerList from \"@point_of_sale/../tests/tours/utils/partner_list_util\";\nimport * as TextInputPopup from \"@point_of_sale/../tests/tours/utils/text_input_popup_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as Chrome from \"@point_of_sale/../tests/tours/utils/chrome_util\";\n\nexport function clickLine(productName, quantity = \"1.0\") {\n    return [\n        ...Order.hasLine({\n            withoutClass: \".selected\",\n            run: \"click\",\n            productName,\n            quantity,\n        }),\n        ...Order.hasLine({ withClass: \".selected\", productName, quantity }),\n    ].flat();\n}\nexport function clickReview() {\n    return {\n        isActive: [\"mobile\"],\n        content: \"click review button\",\n        trigger: \".btn-switchpane.review-button\",\n        run: \"click\",\n    };\n}\nexport function selectFloatingOrder(index) {\n    return [\n        {\n            isActive: [\"mobile\"],\n            trigger: \".fa-caret-down\",\n            run: \"click\",\n        },\n        {\n            trigger: `.list-container-items .btn:eq(${index})`,\n            run: \"click\",\n        },\n    ];\n}\n\nexport function checkFloatingOrderCount(expectedCount) {\n    return [\n        {\n            isActive: [\"mobile\"],\n            trigger: \".fa-caret-down\",\n            run: \"click\",\n        },\n        {\n            content: `check there are ${expectedCount} floating order`,\n            trigger: \".list-container-items .btn\",\n            run: () => {\n                const btns = document.querySelectorAll(\".list-container-items .btn\");\n                if (btns.length !== expectedCount) {\n                    throw new Error(\n                        `Expected ${expectedCount} floating order buttons, found ${btns.length}`\n                    );\n                }\n            },\n        },\n        {\n            isActive: [\"mobile\"],\n            trigger: \".modal-header .oi-arrow-left\",\n            run: \"click\",\n        },\n    ];\n}\n\n/**\n * Generates a sequence of actions to click on a displayed product, with optional additional\n * checks based on specific needs such as the next quantity and the next price.\n *\n * @param {string} name The name of the product to click on.\n * @param {boolean} [isCheckNeed=false] Indicates whether additional checks are necessary after clicking.\n * @param {string|null} [nextQuantity=null] The next quantity of the product, used in additional checks if specified.\n * @param {string|null} [nextPrice=null] The next price of the product, used in additional checks if specified.\n * @returns {Object[]} An array of objects describing the steps to follow\n *\n * @example\n * // Example usage for clicking on a product without additional checks.\n * clickDisplayedProduct('Gala Apple');\n *\n * // Example usage for clicking on a product with checks if the product has been added to the order.\n * clickDisplayedProduct('Gala Apple', true);\n *\n * // Example usage for clicking on a product with checks if the product has been added to the order and\n * // what should be the quantity after adding to the order.\n * clickDisplayedProduct('Gala Apple', true, \"5.0\");\n *\n * // Example usage for clicking on a product with checks if the product has been added to the order and\n * // what should be the quantity and price after adding to the order.\n * clickDisplayedProduct('Gala Apple', true, \"5.0\", \"2.99\");\n */\nexport function clickDisplayedProduct(\n    name,\n    isCheckNeed = false,\n    nextQuantity = null,\n    nextPrice = null\n) {\n    const step = [\n        {\n            content: `click product '${name}'`,\n            trigger: `article.product .product-content .product-name:contains(\"${name}\")`,\n            run: \"click\",\n        },\n    ];\n\n    if (isCheckNeed) {\n        step.push(...selectedOrderlineHas(name, nextQuantity, nextPrice));\n    }\n    if (isCheckNeed && nextQuantity) {\n        step.push(...productCardQtyIs(name, nextQuantity));\n    }\n\n    return step;\n}\nexport function clickInfoProduct(name) {\n    return [\n        {\n            content: `click product '${name}'`,\n            trigger: `article.product:contains(\"${name}\") .product-information-tag`,\n            run: \"click\",\n        },\n    ];\n}\nexport function clickOrderline(productName, quantity = \"1.0\") {\n    return [\n        ...clickLine(productName, quantity),\n        {\n            content: \"Check the product page\",\n            trigger: \".product-list\",\n        },\n    ];\n}\nexport function clickSubcategory(name) {\n    return [\n        {\n            content: `selecting '${name}' subcategory`,\n            trigger: `.product-screen .rightpane .category-button:contains(\"${name}\")`,\n            run: \"click\",\n        },\n        {\n            isActive: [\"desktop\"],\n            content: `'${name}' subcategory selected`,\n            trigger: `button.category-button:contains(\"${name}\")`,\n        },\n    ];\n}\n/**\n * Press the numpad in sequence based on the given space-separated keys.\n * @param {...String} keys space-separated numpad keys\n */\nexport function clickNumpad(...keys) {\n    return inLeftSide(keys.map(Numpad.click));\n}\nexport function clickPayButton(shouldCheck = true) {\n    const steps = [\n        {\n            isActive: [\"desktop\"],\n            content: \"click pay button\",\n            trigger: \".product-screen .pay-order-button\",\n            run: \"click\",\n        },\n        {\n            isActive: [\"mobile\"],\n            content: \"click pay button\",\n            trigger: \".btn-switchpane:contains('Pay')\",\n            run: \"click\",\n        },\n    ];\n    if (shouldCheck) {\n        steps.push({\n            content: \"now in payment screen\",\n            trigger: \".pos-content .payment-screen\",\n        });\n    }\n    return steps;\n}\nexport function clickPartnerButton() {\n    return [\n        clickReview(),\n        {\n            content: \"click customer button\",\n            trigger: \".product-screen .set-partner\",\n            run: \"click\",\n        },\n        {\n            content: \"partner screen is shown\",\n            trigger: `${PartnerList.clickPartner().trigger}`,\n        },\n    ];\n}\nexport function clickCustomer(name) {\n    return [PartnerList.clickPartner(name), { ...back(), isActive: [\"mobile\"] }];\n}\nexport function customerIsSelected(name) {\n    return [\n        clickReview(),\n        {\n            content: `customer '${name}' is selected`,\n            trigger: `.product-screen .set-partner:contains(\"${name}\")`,\n        },\n    ];\n}\nexport function inputCustomerSearchbar(value) {\n    return [\n        {\n            isActive: [\"mobile\"],\n            content: \"click more button\",\n            trigger: \".modal-header .fa-search\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-header .input-group input\",\n            run: \"edit \" + value,\n        },\n        {\n            /**\n             * Manually trigger keyup event to show the search field list\n             * because the previous step do not trigger keyup event.\n             */\n            trigger: \".modal-header .input-group input\",\n            run: function () {\n                document\n                    .querySelector(\".modal-header .input-group input\")\n                    .dispatchEvent(new KeyboardEvent(\"keyup\", { key: \"\" }));\n            },\n        },\n    ];\n}\nexport function clickRefund() {\n    return [clickReview(), ...clickControlButton(\"Refund\")];\n}\nexport function controlButtonTrigger(name = \"\") {\n    return `.control-buttons button:contains(\"${name}\")`;\n}\nexport function clickControlButton(name) {\n    return [\n        ...clickControlButtonMore(),\n        {\n            content: `click ${name} button`,\n            trigger: controlButtonTrigger(name),\n            run: \"click\",\n        },\n    ];\n}\nexport function clickCloseButton() {\n    return [\n        {\n            trigger: `.btn-close`,\n            run: \"click\",\n        },\n    ];\n}\nexport function clickControlButtonMore() {\n    return [\n        {\n            isActive: [\"mobile\"],\n            content: \"click Actions button\",\n            trigger: \".mobile-more-button\",\n            run: \"click\",\n        },\n        {\n            isActive: [\"desktop\"],\n            content: \"click Actions button\",\n            trigger: controlButtonTrigger(\"Actions\"),\n            run: \"click\",\n        },\n    ];\n}\n\nexport function clickInternalNoteButton() {\n    return [\n        {\n            isActive: [\"mobile\"],\n            content: \"click Actions button\",\n            trigger: \".mobile-more-button\",\n            run: \"click\",\n        },\n        {\n            isActive: [\"mobile\"],\n            trigger: controlButtonTrigger(\"Kitchen Note\"),\n            run: \"click\",\n        },\n        {\n            isActive: [\"desktop\"],\n            content: \"click Internal Note button\",\n            trigger: controlButtonTrigger(\"Kitchen Note\"),\n            run: \"click\",\n        },\n    ];\n}\n\n/**\n * Selects a given price list in the user interface. This function is designed to be used to select a specific price list.\n *\n * @param {string} name - The name of the price list to be selected. This parameter is used to identify the target element in the\n * user interface. required.\n * @param {boolean} [isCheckNeedSelectedBeforeClick=false] - A boolean that determines whether the function should check\n * if a specific item is selected before proceeding to select the price list. Useful for ensuring the user interface state\n * is correct before performing an action.\n * @param {string|null} [nameToCheck=null] - The name of the item to check if it is selected before proceeding to select the price\n * list. If this parameter is not provided (null), the `name` parameter will be used for the check.\n *\n * @example\n * // Select a price list named \"Standard Rate\" without prior check\n * clickPriceList(\"Standard Rate\");\n *\n * @example\n * // Select a price list named \"Discount Pricelist\" after verifying that \"Public Pricelist\" is selected\n * clickPriceList(\"Discount Pricelist\", true, \"Public Pricelist\");\n *\n * @example\n * // Select a price list named \"Discount Rate\" after verifying that \"Discount Rate\" is selected\n * clickPriceList(\"Discount Rate\", true);\n */\nexport function clickPriceList(name, isCheckNeedSelectedBeforeClick = false, nameToCheck = null) {\n    const step = [\n        ...clickControlButtonMore(),\n        {\n            trigger: \".o_pricelist_button\",\n            run: \"click\",\n        },\n    ];\n\n    if (isCheckNeedSelectedBeforeClick) {\n        const triggerName = nameToCheck || name;\n        step.push({\n            content: `verify pricelist ${triggerName} is set and selected`,\n            trigger: `.selection-item.selected:contains('${triggerName}')`,\n        });\n    }\n\n    step.push({\n        content: `select price list '${name}'`,\n        trigger: `.selection-item:contains(\"${name}\")`,\n        run: \"click\",\n    });\n\n    return inLeftSide(step);\n}\nexport function enterOpeningAmount(amount) {\n    return [\n        {\n            content: \"enter opening amount\",\n            trigger: \".cash-input-sub-section input\",\n            run: \"edit \" + amount,\n        },\n    ];\n}\n/**\n * Clicks on the given fiscal position in the user interface.\n *\n * @param {string} name - The name of the fiscal position to click. This parameter is used to identify the target element in the user interface.\n * @param {boolean} checkIsNeeded - A boolean indicating whether additional verification is needed after clicking on the fiscal position. If `true`, the function will verify that the fiscal position has been correctly applied to the order.\n *\n * @example\n * // Clicks on the \"No Tax\" fiscal position without additional verification\n * clickFiscalPosition(\"No Tax\");\n *\n * @example\n * // Clicks on the \"No Tax\" fiscal position and verifies that it has been applied\n * clickFiscalPosition(\"No Tax\", true);\n */\nexport function clickFiscalPosition(name, checkIsNeeded = false) {\n    const step = [\n        clickReview(),\n        ...clickControlButtonMore(),\n        {\n            content: \"click fiscal position button\",\n            trigger: \".o_fiscal_position_button\",\n            run: \"click\",\n        },\n        {\n            content: \"fiscal position screen is shown\",\n            trigger: `.selection-item:contains(\"${name}\")`,\n            run: \"click\",\n        },\n    ];\n\n    if (checkIsNeeded) {\n        step.push(\n            ...clickControlButtonMore(),\n            {\n                content: \"the fiscal position \" + name + \" has been set to the order\",\n                trigger: `.o_fiscal_position_button:contains(\"${name}\")`,\n            },\n            {\n                content: \"cancel dialog\",\n                trigger: \".modal .modal-header button[aria-label='Close']\",\n                run: \"click\",\n            }\n        );\n    }\n\n    return [...step, { ...back(), isActive: [\"mobile\"] }];\n}\nexport function checkFiscalPosition(name) {\n    return [\n        clickReview(),\n        ...clickControlButtonMore(),\n        {\n            content: `check fiscal position '${name}' is selected`,\n            trigger: `.o_fiscal_position_button:contains(\"${name}\")`,\n            run: () => {},\n        },\n        Dialog.cancel(),\n    ];\n}\nexport function closeWithCashAmount(val) {\n    return [\n        {\n            trigger: \".modal .close-pos-popup .cash-input input\",\n            run: `edit ${val}`,\n        },\n    ];\n}\nexport function clickCloseSession() {\n    return [\n        {\n            trigger: \"footer .button:contains('Close Session')\",\n        },\n    ];\n}\nexport function back() {\n    return utilsBack();\n}\nexport function clickLotIcon() {\n    return [\n        {\n            content: \"click lot icon\",\n            trigger: \".line-lot-icon\",\n            run: \"click\",\n        },\n    ];\n}\nexport function enterLotNumber(number) {\n    return [\n        {\n            content: \"enter lot number\",\n            trigger: \".list-line-input:first\",\n            run: \"edit \" + number,\n        },\n        Dialog.confirm(),\n    ];\n}\n\nexport function enterLastLotNumber(number) {\n    return [\n        {\n            content: \"enter lot number\",\n            trigger: \".edit-list-inputs .input-group:last-child input\",\n            run: \"edit \" + number,\n        },\n        Dialog.confirm(),\n    ];\n}\n\nexport function enterLotNumbers(numbers) {\n    return numbers\n        .map((number) => [\n            {\n                content: \"enter lot number\",\n                trigger: \".list-line-input:last()\",\n                run: \"edit \" + number,\n            },\n            {\n                content: \"Press Enter\",\n                trigger: \".list-line-input:last()\",\n                run: \"press Enter\",\n            },\n        ])\n        .flat()\n        .concat([\n            {\n                content: \"click validate lot number\",\n                trigger: \".modal-content button:contains(Ok)\",\n                run: \"click\",\n            },\n        ]);\n}\n\nexport function isShown() {\n    return [\n        {\n            content: \"product screen is shown\",\n            trigger: \".product-screen\",\n        },\n    ];\n}\nexport function selectedOrderlineHas(productName, quantity, price) {\n    return inLeftSide(\n        Order.hasLine({\n            withClass: \".selected\",\n            productName,\n            quantity,\n            price,\n        })\n    );\n}\nexport function selectedOrderlineHasDirect(productName, quantity, price) {\n    return Order.hasLine({\n        withClass: \".selected\",\n        productName,\n        quantity,\n        price,\n    });\n}\nexport function orderLineHas(productName, quantity, price) {\n    return Order.hasLine({\n        productName,\n        quantity,\n        price,\n    });\n}\nexport function orderIsEmpty() {\n    return inLeftSide(Order.doesNotHaveLine());\n}\n\n/**\n * @param {number} position The position of the product in the list. If -1 (default), the product can be anywhere in the list.\n */\nexport function productIsDisplayed(name, position = -1) {\n    return [\n        {\n            content: `'${name}' should be displayed`,\n            trigger: `.product-list ${\n                position > -1 ? `article:eq(${position})` : \"\"\n            } .product-name:contains(\"${name}\")`,\n        },\n    ];\n}\nexport function searchProduct(string) {\n    return [\n        {\n            isActive: [\"mobile\"],\n            content: `Click search field`,\n            trigger: `.fa-search`,\n            run: `click`,\n        },\n        {\n            content: \"Search for a product using the search bar\",\n            trigger: \".pos-rightheader .form-control > input\",\n            run: `edit ${string}`,\n        },\n    ];\n}\nexport function totalAmountIs(amount) {\n    return inLeftSide(...Order.hasTotal(amount));\n}\nexport function modeIsActive(mode) {\n    return inLeftSide(Numpad.isActive(mode));\n}\nexport function cashDifferenceIs(val) {\n    return [\n        {\n            trigger: `.payment-methods-overview .cash-difference:contains(${val})`,\n        },\n    ];\n}\nexport function productCardQtyIs(productName, qty) {\n    qty = `${Number.parseFloat(Number.parseFloat(qty).toFixed(2))}`;\n    return [\n        {\n            content: `'${productName}' should have '${qty}' quantity`,\n            trigger: `article.product .product-content:has(.product-name:contains(\"${productName}\")):has(.product-cart-qty:contains(\"${qty}\"))`,\n        },\n    ];\n}\n\n// Temporarily put it here. It should be in the utility methods for the backend views.\nexport function lastClosingCashIs(val) {\n    return [\n        {\n            trigger: `[name=last_session_closing_cash]:contains(${val})`,\n        },\n    ];\n}\nexport function checkFirstLotNumber(number) {\n    return [\n        {\n            content: \"Check lot number\",\n            trigger: `.popup-input:value(${number})`,\n        },\n    ];\n}\n\n/**\n * Create an orderline for the given `productName` and `quantity`.\n * - If `unitPrice` is provided, price of the product of the created line\n *   is changed to that value.\n * - If `expectedTotal` is provided, the created orderline (which is the currently\n *   selected orderline) is checked if it contains the correct quantity and total\n *   price.\n *\n * @param {string} productName\n * @param {string} quantity\n * @param {string} unitPrice\n * @param {string} expectedTotal\n */\nexport function addOrderline(productName, quantity = 1, unitPrice, expectedTotal) {\n    const initialStep = clickDisplayedProduct(productName);\n    const res = [];\n    const mapKey = (key) => {\n        if (key === \"-\") {\n            return \"+/-\";\n        }\n        return key;\n    };\n\n    // Press +/- to set a negative quantity. For example, pressing +/- followed by \"1\" will result in \"-11\".\n    // To adjust the quantity from \"-1\" to \"-3,\" first press \"0\" followed by \"3\" since pressing +/- will initially set it to \"-1,\"\n    // and entering \"3\" directly would result in \"-13.\" so send 0(num) when want to change sign and set a number\n    const numpadWrite = (val) =>\n        val\n            .toString()\n            .split(\"\")\n            .flatMap((key) => Numpad.click(mapKey(key)));\n    res.push(...selectedOrderlineHasDirect(productName, \"1.00\"));\n    if (unitPrice) {\n        res.push(\n            ...[\n                Numpad.click(\"Price\"),\n                Numpad.isActive(\"Price\"),\n                numpadWrite(unitPrice),\n                Numpad.click(\"Qty\"),\n                Numpad.isActive(\"Qty\"),\n            ].flat()\n        );\n    }\n    if (quantity.toString() !== \"1\") {\n        res.push(...numpadWrite(quantity));\n    }\n    res.push(...selectedOrderlineHasDirect(productName, quantity, expectedTotal));\n    return [initialStep, inLeftSide(res)].flat();\n}\nexport function addCustomerNote(note) {\n    return [\n        clickControlButton(\"Customer Note\"),\n        TextInputPopup.inputText(note),\n        Dialog.confirm(),\n    ].flat();\n}\nexport function addInternalNote(note) {\n    return inLeftSide(\n        [clickInternalNoteButton(), TextInputPopup.inputText(note), Dialog.confirm()].flat()\n    );\n}\n\nexport function checkOrderlinesNumber(number) {\n    return [\n        {\n            content: `check orderlines number`,\n            trigger: `.order-container .orderline`,\n            run: () => {\n                const orderline_amount = document.querySelectorAll(\n                    \".order-container .orderline\"\n                ).length;\n                if (orderline_amount !== number) {\n                    throw new Error(`Expected ${number} orderlines, got ${orderline_amount}`);\n                }\n            },\n        },\n    ];\n}\n\nexport function closePos() {\n    return [\n        ...Chrome.clickMenuOption(\"Close Register\"),\n        {\n            content: \"close the Point of Sale frontend\",\n            trigger: \".close-pos-popup .button:contains('Discard')\",\n        },\n    ];\n}\n\nexport function finishOrder() {\n    return [\n        {\n            isActive: [\"desktop\"],\n            content: \"validate the order\",\n            trigger: \".payment-screen .button.next.highlight:visible\",\n            run: \"click\",\n        },\n        {\n            isActive: [\"mobile\"],\n            content: \"validate the order\",\n            trigger: \".payment-screen .btn-switchpane:contains('Validate')\",\n            run: \"click\",\n        },\n        Chrome.isSyncStatusConnected(),\n        {\n            isActive: [\"desktop\"],\n            content: \"click Next Order\",\n            trigger: \".receipt-screen .button.next.highlight:visible\",\n            run: \"click\",\n        },\n        {\n            isActive: [\"mobile\"],\n            content: \"Click Next Order\",\n            trigger: \".receipt-screen .btn-switchpane.validation-button.highlight[name='done']\",\n            run: \"click\",\n        },\n        {\n            content: \"check if we left the receipt screen\",\n            trigger: \".pos-content div:not(:has(.receipt-screen))\",\n        },\n    ];\n}\n\nexport function checkTaxAmount(amount) {\n    return {\n        trigger: `.tax:contains(${amount})`,\n    };\n}\n\nexport function checkProductExtraPrice(productName, extraAmount) {\n    return {\n        content: `'${productName}' should have '${extraAmount}' extra price`,\n        trigger: `article.product:has(.product-name:contains(\"${productName}\")):has(.price-extra:contains(\"${extraAmount}\"))`,\n    };\n}\n\nexport function addDiscount(discount) {\n    return [\n        Numpad.click(\"%\"),\n        Numpad.isActive(\"%\"),\n        discount\n            .toString()\n            .split(\"\")\n            .flatMap((key) => Numpad.click(key)),\n    ].flat();\n}\n", "export function clickNextOrder() {\n    return [\n        {\n            isActive: [\"desktop\"],\n            content: \"go to next screen\",\n            trigger: \".receipt-screen .button.next.highlight[name='done']\",\n            run: \"click\",\n        },\n        {\n            isActive: [\"mobile\"],\n            content: \"go to next screen\",\n            trigger: \".receipt-screen .btn-switchpane.validation-button.highlight[name='done']\",\n            run: \"click\",\n        },\n    ];\n}\nexport function clickContinueOrder() {\n    return [\n        {\n            content: \"go to next screen\",\n            trigger: \".receipt-screen .button.next.highlight[name='resume']\",\n            run: \"click\",\n        },\n    ];\n}\nexport function setEmail(email) {\n    return [\n        {\n            trigger: \".receipt-screen .send-receipt-email-input\",\n            run: `edit ${email}`,\n        },\n    ];\n}\nexport function clickSend() {\n    return [\n        {\n            run: \"click\",\n            trigger: `.receipt-screen button i.fa-paper-plane`,\n        },\n    ];\n}\nexport function clickBack() {\n    return [\n        {\n            trigger: \".receipt-screen .button.back\",\n            run: \"click\",\n        },\n    ];\n}\n\nexport function isShown() {\n    return [\n        {\n            content: \"receipt screen is shown\",\n            trigger: \".pos .receipt-screen\",\n        },\n    ];\n}\nexport function receiptIsThere() {\n    return [\n        {\n            content: \"there should be the receipt\",\n            trigger: \".receipt-screen .pos-receipt\",\n        },\n    ];\n}\nexport function totalAmountContains(value) {\n    return [\n        {\n            isActive: [\"desktop\"], // not rendered on mobile\n            trigger: `.receipt-screen .o_payment_successful:contains(\"${value}\")`,\n        },\n        {\n            isActive: [\"mobile\"], // On mobile, at least wait for the receipt screen to show\n            trigger: `.receipt-screen`,\n        },\n    ];\n}\nexport function receiptAmountTotalIs(value) {\n    return [\n        {\n            isActive: [\"desktop\"], // not rendered on mobile\n            trigger: `.receipt-screen .receipt-total:contains(\"${value}\")`,\n        },\n        {\n            isActive: [\"mobile\"], // On mobile, at least wait for the receipt screen to show\n            trigger: `.receipt-screen`,\n        },\n    ];\n}\nexport function receiptRoundingAmountIs(value) {\n    return [\n        {\n            isActive: [\"desktop\"], // not rendered on mobile\n            trigger: `.receipt-screen .receipt-rounding:contains(\"${value}\")`,\n        },\n    ];\n}\nexport function receiptRoundingAmountIsNotThere() {\n    return [\n        {\n            isActive: [\"desktop\"], // not rendered on mobile\n            trigger: \".receipt-screen\",\n            run: function () {\n                if (document.querySelector(\".receipt-rounding\")) {\n                    throw new Error(\"A rounding amount has been found in receipt.\");\n                }\n            },\n        },\n    ];\n}\nexport function receiptToPayAmountIs(value) {\n    return [\n        {\n            isActive: [\"desktop\"], // not rendered on mobile\n            trigger: `.receipt-screen .receipt-to-pay:contains(\"${value}\")`,\n        },\n    ];\n}\nexport function receiptToPayAmountIsNotThere() {\n    return [\n        {\n            isActive: [\"desktop\"], // not rendered on mobile\n            trigger: \".receipt-screen\",\n            run: function () {\n                if (document.querySelector(\".receipt-to-pay\")) {\n                    throw new Error(\"An amount to pay has been found in receipt.\");\n                }\n            },\n        },\n    ];\n}\nexport function receiptChangeAmountIs(value) {\n    return [\n        {\n            isActive: [\"desktop\"], // not rendered on mobile\n            trigger: `.receipt-screen .receipt-change:contains(\"${value}\")`,\n        },\n    ];\n}\nexport function receiptChangeAmountIsNotThere() {\n    return [\n        {\n            isActive: [\"desktop\"], // not rendered on mobile\n            trigger: \".receipt-screen\",\n            run: function () {\n                if (document.querySelector(\".receipt-change\")) {\n                    throw new Error(\"An change amount has been found in receipt.\");\n                }\n            },\n        },\n    ];\n}\nexport function emailIsSuccessful() {\n    return [\n        {\n            trigger: `.receipt-screen .notice .text-success`,\n        },\n    ];\n}\nexport function trackingMethodIsLot() {\n    return [\n        {\n            content: `tracking method is Lot`,\n            trigger: `li:contains(\"Lot Number\")`,\n        },\n    ];\n}\n\nexport function noDiscountAmount() {\n    return [\n        {\n            trigger: `.pos-receipt:not(:contains(\"Discounts\"))`,\n            run: () => {},\n        },\n    ];\n}\n\nexport function shippingDateExists() {\n    return [\n        {\n            content: \"Shipping date must be printed\",\n            trigger: \".pos-receipt-order-data:contains('Expected delivery:')\",\n            run: \"click\",\n        },\n    ];\n}\n\nexport function shippingDateIsToday() {\n    // format the date in US, the language used by the tests\n    const expectedDelivery = new Date().toLocaleDateString(\"en-US\", {\n        year: \"numeric\",\n        month: \"2-digit\",\n        day: \"2-digit\",\n    });\n\n    return [\n        {\n            content: \"Shipping date must be today\",\n            trigger: `.pos-receipt-order-data:contains('Expected delivery:') > div:contains('${expectedDelivery}')`,\n        },\n    ];\n}\n\nexport function cashierNameExists(name) {\n    return [\n        {\n            content: `Cashier ${name} exists on the receipt`,\n            trigger: `.pos-receipt-contact .cashier:contains(Served by):contains(${name})`,\n        },\n    ];\n}\n", "export function has(item, { run = () => {} } = {}) {\n    return [\n        {\n            content: `selection popup has '${item}'`,\n            trigger: `.selection-item:contains(\"${item}\")`,\n            run,\n        },\n    ];\n}\n", "export function inputText(val) {\n    return {\n        content: `input text '${val}'`,\n        trigger: `.modal:not(.o_inactive_modal) textarea`,\n        run: `edit ${val}`,\n    };\n}\n", "import * as ProductScreen from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport { inLeftSide } from \"@point_of_sale/../tests/tours/utils/common\";\nimport { isSyncStatusConnected } from \"@point_of_sale/../tests/tours/utils/chrome_util\";\n\nexport function clickDiscard() {\n    return {\n        content: \"go back\",\n        trigger: \".ticket-screen button.discard\",\n        run: \"click\",\n    };\n}\nexport function selectOrder(orderName) {\n    return [\n        {\n            trigger: `.ticket-screen .order-row > .col:contains(\"${orderName}\")`,\n            run: \"click\",\n        },\n    ];\n}\nexport function selectOrderByPrice(price) {\n    return [\n        {\n            trigger: `.ticket-screen .order-row > .col:contains(\"${price}\")`,\n            run: \"click\",\n        },\n    ];\n}\nexport function doubleClickOrder(orderName) {\n    return [\n        {\n            trigger: `.ticket-screen .order-row > .col:nth-child(2):contains(\"${orderName}\")`,\n            run: \"dblclick\",\n        },\n    ];\n}\nexport function loadSelectedOrder() {\n    return [\n        ProductScreen.clickReview(),\n        {\n            trigger: \".ticket-screen .pads .button.validation.load-order-button\",\n            run: \"click\",\n        },\n    ];\n}\nexport function deleteOrder(orderName) {\n    return [\n        {\n            isActive: [\"mobile\"],\n            trigger: `.ticket-screen .order-row > .col:contains(\"${orderName}\")`,\n            run: \"click\",\n        },\n        {\n            isActive: [\"mobile\"],\n            trigger: `.ticket-screen .order-row:has(.col:contains(\"${orderName}\")) .delete-button`,\n            run: \"click\",\n        },\n        {\n            isActive: [\"desktop\"],\n            trigger: `.ticket-screen .orders > .order-row > .col:contains(\"${orderName}\") ~ .col[name=\"delete\"]`,\n            run: \"click\",\n        },\n    ];\n}\nexport function selectFilter(name) {\n    return [\n        {\n            trigger: `.pos-search-bar .filter`,\n            run: \"click\",\n        },\n        {\n            trigger: `.pos-search-bar .filter ul`,\n        },\n        {\n            trigger: `.pos-search-bar .filter ul li:contains(\"${name}\")`,\n            run: \"click\",\n        },\n    ];\n}\nexport function search(field, searchWord) {\n    return [\n        {\n            trigger: \".pos-search-bar input\",\n            run: `edit ${searchWord}`,\n        },\n        {\n            trigger: `.pos-search-bar .search ul li:contains(\"${field}\")`,\n            run: \"click\",\n        },\n    ];\n}\nexport function settleTips() {\n    return [\n        {\n            trigger: \".ticket-screen .buttons .settle-tips\",\n            run: \"click\",\n        },\n        isSyncStatusConnected(),\n    ];\n}\nexport function clickControlButton(name) {\n    return [\n        ProductScreen.clickReview(),\n        {\n            trigger: `.ticket-screen ${ProductScreen.controlButtonTrigger(name)}`,\n            run: \"click\",\n        },\n    ];\n}\nexport function confirmRefund() {\n    return [\n        ProductScreen.clickReview(),\n        {\n            trigger: \".ticket-screen .btn-primary.pay-order-button\",\n            run: \"click\",\n        },\n    ];\n}\nexport function checkStatus(orderName, status) {\n    return [\n        {\n            isActive: [\"desktop\"],\n            trigger: `.ticket-screen .order-row > .col:contains(\"${orderName}\") ~ .col:nth-child(7):contains(${status})`,\n        },\n        {\n            isActive: [\"mobile\"],\n            trigger: `.ticket-screen .order-row > .col:contains(\"${orderName}\") ~ .col:nth-child(2):contains(${status})`,\n        },\n    ];\n}\n/**\n * Check if the nth row contains the given string.\n * Note that 1st row is the header-row.\n * @param {boolean | undefined} viewMode true if in mobile view, false if in desktop, undefined if in both views.\n */\nexport function nthRowContains(n, string, viewMode) {\n    return [\n        {\n            isActive: [viewMode ? \"mobile\" : \"desktop\"],\n            trigger: `.ticket-screen .orders > .order-row:nth-child(${n}):contains(\"${string}\")`,\n        },\n    ];\n}\nexport function contains(string) {\n    return [\n        {\n            trigger: `.ticket-screen .orders:contains(\"${string}\")`,\n        },\n    ];\n}\nexport function noNewTicketButton() {\n    return [\n        {\n            trigger: \".ticket-screen .controls .buttons:nth-child(1):has(.discard)\",\n        },\n    ];\n}\nexport function filterIs(name) {\n    return [\n        {\n            trigger: `.ticket-screen .pos-search-bar .filter span:contains(\"${name}\")`,\n        },\n    ];\n}\nexport function invoicePrinted() {\n    return [\n        {\n            trigger: ProductScreen.controlButtonTrigger(\"Reprint Invoice\"),\n        },\n    ];\n}\nexport function toRefundTextContains(text) {\n    return inLeftSide({\n        trigger: `.ticket-screen .to-refund-highlight:contains(\"${text}\")`,\n    });\n}\nexport function refundedNoteContains(text) {\n    return inLeftSide({\n        trigger: `.ticket-screen .refund-note:contains(\"${text}\")`,\n    });\n}\nexport function tipContains(amount) {\n    return [\n        {\n            trigger: `.ticket-screen .tip-cell:contains(\"${amount}\")`,\n        },\n    ];\n}\nexport function receiptTotalIs(amount) {\n    return [\n        {\n            trigger: `.receipt-screen .pos-receipt-amount:contains(\"${amount}\")`,\n        },\n    ];\n}\nexport function receiptChangeIs(amount) {\n    return [\n        {\n            trigger: `.receipt-screen .receipt-change:contains(\"${amount}\")`,\n        },\n    ];\n}\nexport function back() {\n    return {\n        isActive: [\"mobile\"],\n        trigger: \".back-button\",\n        run: \"click\",\n    };\n}\n\nexport function nthColumnContains(nRow, nCol, string) {\n    return [\n        {\n            trigger: `.ticket-screen .order-row:nth-last-child(${nRow}) > .col:nth-child(${nCol}):contains(\"${string}\")`,\n        },\n    ];\n}\n", "import * as TextInputPopup from \"@point_of_sale/../tests/tours/utils/text_input_popup_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as NumberPopup from \"@point_of_sale/../tests/tours/utils/number_popup_util\";\nimport * as FloorScreen from \"@pos_restaurant/../tests/tours/utils/floor_screen_util\";\nimport * as ProductScreenPos from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as ProductScreenResto from \"@pos_restaurant/../tests/tours/utils/product_screen_util\";\nconst ProductScreen = { ...ProductScreenPos, ...ProductScreenResto };\nimport * as SplitBillScreen from \"@pos_restaurant/../tests/tours/utils/split_bill_screen_util\";\nimport * as Order from \"@point_of_sale/../tests/tours/utils/generic_components/order_widget_util\";\nimport * as ChromePos from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport * as ChromeRestaurant from \"@pos_restaurant/../tests/tours/utils/chrome\";\nconst Chrome = { ...ChromePos, ...ChromeRestaurant };\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"ControlButtonsTour\", {\n    steps: () =>\n        [\n            // Test merging table, transfer is already tested in pos_restaurant_sync_second_login.\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            FloorScreen.clickTable(\"2\"),\n            Chrome.activeTableOrOrderIs(\"2\"),\n            ProductScreen.addOrderline(\"Water\", \"5\", \"2\", \"10.0\"),\n            Chrome.clickPlanButton(),\n            FloorScreen.clickTable(\"4\"),\n            Chrome.activeTableOrOrderIs(\"4\"),\n            ProductScreen.addOrderline(\"Minute Maid\", \"3\", \"2\", \"6.0\"),\n            // Extra line is added to test merging table.\n            // Merging this order to another should also include this extra line.\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\"),\n            ProductScreen.selectedOrderlineHas(\"Coca-Cola\", \"1\"),\n\n            ProductScreen.clickControlButton(\"Transfer\"),\n            FloorScreen.clickTable(\"2\"),\n            Chrome.activeTableOrOrderIs(\"2\"),\n            Order.hasLine({ productName: \"Water\", quantity: \"5\" }),\n            Order.hasLine({ productName: \"Minute Maid\", quantity: \"3\" }),\n            Order.hasLine({ productName: \"Coca-Cola\", quantity: \"1\" }),\n\n            // Test SplitBillButton\n            ProductScreen.clickControlButton(\"Split\"),\n            SplitBillScreen.clickBack(),\n            ProductScreen.clickLine(\"Water\", \"5.0\"),\n            ProductScreen.clickInternalNoteButton(),\n            TextInputPopup.inputText(\"test note\"),\n            Dialog.confirm(),\n            Order.hasLine({\n                productName: \"Water\",\n                quantity: \"5\",\n                price: \"10.0\",\n                internalNote: \"test note\",\n                withClass: \".selected\",\n            }),\n\n            // Test Cancel Order\n            Chrome.clickPlanButton(),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.addOrderline(\"Water\", \"5\", \"2\", \"10.0\"),\n            ProductScreen.clickReview(),\n            ProductScreen.clickControlButton(\"Cancel Order\"),\n            Dialog.confirm(),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.orderIsEmpty(),\n\n            // Check that note is imported if come back to the table\n            Chrome.clickPlanButton(),\n            FloorScreen.clickTable(\"2\"),\n            Order.hasLine({\n                productName: \"Water\",\n                quantity: \"5\",\n                price: \"10.0\",\n                internalNote: \"test note\",\n            }),\n\n            ProductScreen.addOrderline(\"Water\", \"8\", \"1\", \"8.0\"),\n\n            // Test PrintBillButton\n            ProductScreen.clickControlButton(\"Bill\"),\n            Dialog.is({ title: \"Bill Printing\" }),\n            Dialog.cancel(),\n\n            // Test GuestButton\n            ProductScreen.clickControlButton(\"Guests\"),\n            {\n                content: `click numpad button: 1`,\n                trigger: \".modal div.numpad button:contains(/^1$/)\",\n                run: \"click\",\n            },\n            {\n                content: `click numpad button: 5`,\n                trigger: \".modal div.numpad button:contains(/^5$/)\",\n                run: \"click\",\n            },\n            NumberPopup.isShown(\"15\"),\n            Dialog.confirm(),\n            ProductScreen.guestNumberIs(\"15\"),\n            {\n                content: `click guests 15 button`,\n                trigger: `.modal .control-buttons button:contains(15Guests)`,\n                run: \"click\",\n            },\n            {\n                content: `click numpad button: 5`,\n                trigger: \".modal div.numpad button:contains(/^5$/)\",\n                run: \"click\",\n            },\n            NumberPopup.isShown(\"5\"),\n            Dialog.confirm(),\n            ProductScreen.guestNumberIs(\"5\"),\n        ].flat(),\n});\n", "/* global posmodel */\n\nimport { registry } from \"@web/core/registry\";\nimport * as ProductScreenPos from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as ProductScreenResto from \"@pos_restaurant/../tests/tours/utils/product_screen_util\";\nimport * as FloorScreen from \"@pos_restaurant/../tests/tours/utils/floor_screen_util\";\nimport * as ChromePos from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport * as ChromeRestaurant from \"@pos_restaurant/../tests/tours/utils/chrome\";\nimport * as PaymentScreen from \"@point_of_sale/../tests/tours/utils/payment_screen_util\";\nimport * as ReceiptScreen from \"@point_of_sale/../tests/tours/utils/receipt_screen_util\";\n\nconst Chrome = { ...ChromePos, ...ChromeRestaurant };\nconst ProductScreen = { ...ProductScreenPos, ...ProductScreenResto };\n\nconst getRandomTable = () => {\n    const tables = posmodel.currentFloor.table_ids;\n    return tables[Math.floor(Math.random() * tables.length)].table_number;\n};\n\nconst getRandomTableWithOrder = () => {\n    const tables = posmodel.currentFloor.table_ids.filter(\n        (table) => table[\"<-pos.order.table_id\"].length > 0\n    );\n    return tables[Math.floor(Math.random() * tables.length)].table_number;\n};\n\nconst getRandomProduct = () => {\n    const products = posmodel.models[\"product.product\"].filter(\n        (p) =>\n            !p.isConfigurable() &&\n            !p.isCombo() &&\n            !p.isTracked() &&\n            p.id !== posmodel.config.tip_product_id?.id &&\n            !posmodel.session._pos_special_products_ids?.includes(p.id)\n    );\n    return products[Math.floor(Math.random() * products.length)].name;\n};\n\nregistry.category(\"web_tour.tours\").add(\"PoSFakeTourRestaurant\", {\n    steps: () =>\n        [\n            FloorScreen.clickTable(getRandomTable()),\n            ProductScreen.clickDisplayedProduct(getRandomProduct()),\n            ProductScreen.clickDisplayedProduct(getRandomProduct()),\n            ProductScreen.clickDisplayedProduct(getRandomProduct()),\n            Chrome.clickPlanButton(),\n            FloorScreen.clickTable(getRandomTable()),\n            ProductScreen.clickDisplayedProduct(getRandomProduct()),\n            ProductScreen.clickDisplayedProduct(getRandomProduct()),\n            ProductScreen.clickDisplayedProduct(getRandomProduct()),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.clickNextOrder(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"PoSFakeTourTransferOrder\", {\n    steps: () =>\n        [\n            FloorScreen.clickTable(getRandomTableWithOrder()),\n            ProductScreen.clickControlButton(\"Transfer\"),\n            FloorScreen.clickTable(getRandomTable()),\n            ProductScreen.clickDisplayedProduct(getRandomProduct()),\n            Chrome.clickPlanButton(),\n        ].flat(),\n});\n", "import * as FloorScreen from \"@pos_restaurant/../tests/tours/utils/floor_screen_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as NumberPopup from \"@point_of_sale/../tests/tours/utils/number_popup_util\";\nimport * as ChromePos from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport * as ChromeRestaurant from \"@pos_restaurant/../tests/tours/utils/chrome\";\nconst Chrome = { ...ChromePos, ...ChromeRestaurant };\nimport * as ProductScreenPos from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as ProductScreenResto from \"@pos_restaurant/../tests/tours/utils/product_screen_util\";\nimport * as Utils from \"@point_of_sale/../tests/tours/utils/common\";\nimport * as PaymentScreen from \"@point_of_sale/../tests/tours/utils/payment_screen_util\";\nimport * as ReceiptScreen from \"@point_of_sale/../tests/tours/utils/receipt_screen_util\";\nconst ProductScreen = { ...ProductScreenPos, ...ProductScreenResto };\nimport { registry } from \"@web/core/registry\";\nimport { inLeftSide } from \"@point_of_sale/../tests/tours/utils/common\";\n\nregistry.category(\"web_tour.tours\").add(\"FloorScreenTour\", {\n    steps: () =>\n        [\n            // check floors if they contain their corresponding tables\n            Chrome.startPoS(),\n            FloorScreen.selectedFloorIs(\"Main Floor\"),\n            FloorScreen.hasTable(\"2\"),\n            FloorScreen.hasTable(\"4\"),\n            FloorScreen.hasTable(\"5\"),\n            FloorScreen.clickFloor(\"Second Floor\"),\n            FloorScreen.hasTable(\"3\"),\n            FloorScreen.hasTable(\"1\"),\n\n            // clicking table in active mode does not open product screen\n            // instead, table is selected\n            Chrome.clickMenuOption(\"Edit Plan\"),\n            FloorScreen.clickTable(\"3\"),\n            FloorScreen.selectedTableIs(\"3\"),\n            FloorScreen.clickTable(\"1\"),\n            FloorScreen.selectedTableIs(\"1\"),\n\n            //test copy floor\n            FloorScreen.clickFloor(\"Main Floor\"),\n            FloorScreen.clickEditButton(\"Clone\"),\n            FloorScreen.selectedFloorIs(\"Main Floor (copy)\"),\n            FloorScreen.hasTable(\"2\"),\n            FloorScreen.hasTable(\"4\"),\n            FloorScreen.hasTable(\"5\"),\n            Utils.refresh(),\n            Chrome.clickMenuOption(\"Edit Plan\"),\n            FloorScreen.clickFloor(\"Main Floor (copy)\"),\n            FloorScreen.hasTable(\"2\"),\n            FloorScreen.hasTable(\"4\"),\n            FloorScreen.hasTable(\"5\"),\n            FloorScreen.clickEditButton(\"Delete\"),\n            Dialog.confirm(),\n            Utils.refresh(),\n            Chrome.clickMenuOption(\"Edit Plan\"),\n            Utils.elementDoesNotExist(\n                \".floor-selector .button-floor:contains('Main Floor (copy)')\"\n            ),\n\n            // test add table\n            FloorScreen.clickFloor(\"Main Floor\"),\n            {\n                trigger: `.edit-buttons i[aria-label=\"Add Table\"]`,\n                run: \"click\",\n            },\n            FloorScreen.selectedTableIs(\"1\"),\n            FloorScreen.clickEditButton(\"Rename\"),\n\n            NumberPopup.enterValue(\"100\"),\n            NumberPopup.isShown(\"100\"),\n            Dialog.confirm(),\n            FloorScreen.selectedTableIs(\"100\"),\n\n            // test duplicate table\n            FloorScreen.clickEditButton(\"Clone\"),\n            // the name is the first number available on the floor\n            FloorScreen.selectedTableIs(\"1\"),\n            FloorScreen.clickEditButton(\"Rename\"),\n\n            NumberPopup.enterValue(\"1111\"),\n            NumberPopup.isShown(\"1111\"),\n            Dialog.confirm(),\n            FloorScreen.selectedTableIs(\"1111\"),\n\n            // switch floor, switch back and check if\n            // the new tables are still there\n            FloorScreen.clickFloor(\"Second Floor\"),\n            FloorScreen.hasTable(\"3\"),\n            FloorScreen.hasTable(\"1\"),\n\n            //test duplicate multiple tables\n            FloorScreen.clickTable(\"1\"),\n            FloorScreen.selectedTableIs(\"1\"),\n            FloorScreen.ctrlClickTable(\"3\"),\n            FloorScreen.selectedTableIs(\"3\"),\n            FloorScreen.clickEditButton(\"Clone\"),\n            FloorScreen.selectedTableIs(\"2\"),\n            FloorScreen.selectedTableIs(\"4\"),\n\n            //test delete multiple tables\n            FloorScreen.clickEditButton(\"Delete\"),\n            Dialog.confirm(),\n\n            FloorScreen.clickFloor(\"Main Floor\"),\n            FloorScreen.hasTable(\"2\"),\n            FloorScreen.hasTable(\"4\"),\n            FloorScreen.hasTable(\"5\"),\n            FloorScreen.hasTable(\"100\"),\n            FloorScreen.hasTable(\"1111\"),\n\n            // test delete table\n            FloorScreen.clickTable(\"1111\"),\n            FloorScreen.selectedTableIs(\"1111\"),\n            FloorScreen.clickEditButton(\"Delete\"),\n            Dialog.confirm(),\n\n            // change number of seats\n            FloorScreen.clickTable(\"4\"),\n            FloorScreen.selectedTableIs(\"4\"),\n            FloorScreen.clickEditButton(\"Seats\"),\n            NumberPopup.enterValue(\"\u232b9\"),\n            NumberPopup.enterValue(\"9\"),\n            NumberPopup.isShown(\"9\"),\n            Dialog.confirm(),\n            FloorScreen.table({ name: \"4\" }),\n\n            // change number of seat when the input is already selected\n            FloorScreen.selectedTableIs(\"4\"),\n            FloorScreen.clickEditButton(\"Seats\"),\n            NumberPopup.enterValue(\"15\"),\n            NumberPopup.isShown(\"15\"),\n            Dialog.confirm(),\n            FloorScreen.table({ name: \"4\" }),\n\n            // change shape\n            FloorScreen.clickEditButton(\"Make Round\"),\n\n            // Opening product screen in main floor should go back to main floor\n            FloorScreen.clickSaveEditButton(),\n            FloorScreen.table({ name: \"4\", withoutClass: \".selected\" }),\n            FloorScreen.clickTable(\"4\"),\n            ProductScreen.isShown(),\n            Chrome.clickPlanButton(),\n\n            // Opening product screen in second floor should go back to second floor\n            FloorScreen.clickFloor(\"Second Floor\"),\n            FloorScreen.hasTable(\"3\"),\n            FloorScreen.clickTable(\"3\"),\n            ProductScreen.isShown(),\n            Chrome.clickPlanButton(),\n            FloorScreen.selectedFloorIs(\"Second Floor\"),\n\n            // Check the linking of tables\n            FloorScreen.clickFloor(\"Main Floor\"),\n            FloorScreen.clickTable(\"4\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\"),\n            Chrome.clickPlanButton(),\n            FloorScreen.isShown(),\n            FloorScreen.linkTables(\"5\", \"4\"),\n            FloorScreen.isChildTable(\"5\"),\n            Utils.refresh(),\n            FloorScreen.isChildTable(\"5\"),\n\n            // Check that tables are unlinked automatically when the order is done\n            FloorScreen.clickTable(\"5\"),\n            Chrome.isTabActive(\"4 & 5\"),\n            inLeftSide(ProductScreen.orderLineHas(\"Coca-Cola\", \"1.0\")),\n            Chrome.clickPlanButton(),\n            FloorScreen.isShown(),\n            FloorScreen.goTo(\"5\"),\n            Chrome.isTabActive(\"4 & 5\"),\n            inLeftSide(ProductScreen.orderLineHas(\"Coca-Cola\", \"1.0\")),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.clickNextOrder(),\n            Utils.negateStep(FloorScreen.isChildTable(\"5\")),\n\n            FloorScreen.linkTables(\"5\", \"4\"),\n            // Check that the tables are unlinked when the child table is dragged\n            {\n                content: \"Drag table 5 to the bottom of the screen to unlink it\",\n                trigger: FloorScreen.table({ name: \"5\" }).trigger,\n                async run(helpers) {\n                    await helpers.drag_and_drop(`div.floor-map`, {\n                        position: {\n                            bottom: 0,\n                        },\n                        relative: true,\n                    });\n                },\n            },\n            Utils.negateStep(FloorScreen.isChildTable(\"5\")),\n        ].flat(),\n});\n", "/* global posmodel */\n\nimport * as BillScreen from \"@pos_restaurant/../tests/tours/utils/bill_screen_util\";\nimport * as PaymentScreen from \"@point_of_sale/../tests/tours/utils/payment_screen_util\";\nimport * as combo from \"@point_of_sale/../tests/tours/utils/combo_popup_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as ReceiptScreen from \"@point_of_sale/../tests/tours/utils/receipt_screen_util\";\nimport * as ChromePos from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport * as ChromeRestaurant from \"@pos_restaurant/../tests/tours/utils/chrome\";\nconst Chrome = { ...ChromePos, ...ChromeRestaurant };\nimport * as FloorScreen from \"@pos_restaurant/../tests/tours/utils/floor_screen_util\";\nimport * as ProductScreenPos from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as ProductScreenResto from \"@pos_restaurant/../tests/tours/utils/product_screen_util\";\nimport * as Order from \"@point_of_sale/../tests/tours/utils/generic_components/order_widget_util\";\nimport * as TicketScreen from \"@point_of_sale/../tests/tours/utils/ticket_screen_util\";\nimport { inLeftSide, negateStep, waitForLoading } from \"@point_of_sale/../tests/tours/utils/common\";\nimport { registry } from \"@web/core/registry\";\nimport * as Numpad from \"@point_of_sale/../tests/tours/utils/numpad_util\";\nimport { delay } from \"@odoo/hoot-dom\";\n\nconst ProductScreen = { ...ProductScreenPos, ...ProductScreenResto };\n\nfunction checkOrderChanges(expected_changes) {\n    return [\n        {\n            content: `Check order changes with expected changes ${JSON.stringify(\n                expected_changes\n            )}`,\n            trigger: \".pos\", // dummy trigger\n            run: function () {\n                const orderChanges = window.posmodel.getOrderChanges();\n                const orderChangesKeys = Object.keys(orderChanges.orderlines);\n                const orderChangesNbr = orderChangesKeys.length;\n                // Quick check for lenght\n                if (expected_changes.length !== orderChangesNbr) {\n                    console.error(\n                        `Was expecting ${expected_changes.length} order changes, got ${orderChangesNbr}`\n                    );\n                }\n                for (const expected_change of expected_changes) {\n                    const order_change_line = orderChangesKeys.find((key) => {\n                        const change = orderChanges.orderlines[key];\n                        return (\n                            change.name === expected_change.name &&\n                            change.quantity === expected_change.quantity\n                        );\n                    });\n                    if (order_change_line === undefined) {\n                        console.error(\n                            `Was expecting product \"${expected_change.name}\" with quantity ${\n                                expected_change.quantity\n                            } as order change, inside ${JSON.stringify(orderChanges.orderlines)}`\n                        );\n                    }\n                }\n            },\n        },\n    ];\n}\n\nregistry.category(\"web_tour.tours\").add(\"pos_restaurant_sync\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n\n            // Create a floating order. The idea is to have one of the draft orders be a floating order during the tour.\n            Chrome.createFloatingOrder(),\n\n            // Dine in / Takeaway can be toggled.\n            ProductScreen.clickControlButton(\"Switch to Takeaway\"),\n            ProductScreen.clickControlButton(\"Switch to Dine in\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\"),\n            Chrome.clickPlanButton(),\n            // Check if there is no active Order\n            Chrome.activeTableOrOrderIs(\"Table\"),\n\n            // Create first order\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.orderBtnIsPresent(),\n            Chrome.isTabActive(\"5\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\", true),\n            inLeftSide(Order.hasLine({ productName: \"Coca-Cola\", run: \"dblclick\" })),\n            ProductScreen.clickDisplayedProduct(\"Water\", true),\n            ProductScreen.orderlineIsToOrder(\"Water\"),\n            ProductScreen.orderlineIsToSkip(\"Coca-Cola\"),\n            checkOrderChanges([{ name: \"Water\", quantity: 1 }]),\n            ProductScreen.clickOrderButton(),\n            {\n                ...Dialog.confirm(),\n                content:\n                    \"acknowledge printing error ( because we don't have printer in the test. )\",\n            },\n            ProductScreen.orderlinesHaveNoChange(),\n            checkOrderChanges([]),\n            ProductScreen.totalAmountIs(\"4.40\"),\n\n            // Create 2nd order (paid)\n            Chrome.clickPlanButton(),\n            FloorScreen.clickTable(\"2\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\", true),\n            ProductScreen.clickDisplayedProduct(\"Minute Maid\", true),\n            ProductScreen.totalAmountIs(\"4.40\"),\n            checkOrderChanges([\n                { name: \"Coca-Cola\", quantity: 1 },\n                { name: \"Minute Maid\", quantity: 1 },\n            ]),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.clickNextOrder(),\n            // Check if there ids no active Order\n            Chrome.activeTableOrOrderIs(\"Table\"),\n\n            // order on another table with a product variant\n            FloorScreen.orderCountSyncedInTableIs(\"5\", \"1\"),\n            FloorScreen.clickTable(\"4\"),\n            ProductScreen.orderBtnIsPresent(),\n            ProductScreen.clickDisplayedProduct(\"Desk Organizer\", false),\n            {\n                ...Dialog.confirm(),\n                content: \"validate the variant dialog (with default values)\",\n            },\n            ProductScreen.selectedOrderlineHas(\"Desk Organizer\"),\n            checkOrderChanges([{ name: \"Desk Organizer (Leather, S)\", quantity: 1 }]),\n            ProductScreen.clickOrderButton(),\n            {\n                ...Dialog.confirm(),\n                content:\n                    \"acknowledge printing error ( because we don't have printer in the test. )\",\n            },\n            ProductScreen.orderlinesHaveNoChange(),\n            checkOrderChanges([]),\n            ProductScreen.totalAmountIs(\"5.87\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            // No \"acknowledge printing error\" this time as the printer order is already sent and no changes were made\n            ReceiptScreen.clickNextOrder(),\n\n            // After clicking next order, floor screen is shown.\n            // It should have 1 as number of draft synced order.\n            FloorScreen.orderCountSyncedInTableIs(\"5\", \"1\"),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.totalAmountIs(\"4.40\"),\n\n            // Create another draft order and go back to floor\n            Chrome.clickPlanButton(),\n            FloorScreen.clickTable(\"2\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\", true),\n            ProductScreen.clickDisplayedProduct(\"Minute Maid\", true),\n            Chrome.clickPlanButton(),\n            FloorScreen.orderCountSyncedInTableIs(\"5\", \"1\"),\n\n            // Delete the first order then go back to floor\n            Chrome.clickMenuOption(\"Orders\"),\n            // The order ref ends with -0002 because it is actually the 2nd order made in the session.\n            // The first order made in the session is a floating order.\n            TicketScreen.deleteOrder(\"Main Floor/2\"),\n            Dialog.confirm(),\n            Chrome.isSyncStatusConnected(),\n            TicketScreen.selectOrder(\"Main Floor/5\"),\n            TicketScreen.loadSelectedOrder(),\n            ProductScreen.isShown(),\n            Chrome.clickPlanButton(),\n\n            // There should be 0 synced draft order as we already deleted -0002.\n            FloorScreen.clickTable(\"2\"),\n            ProductScreen.orderIsEmpty(),\n        ].flat(),\n});\n\n/* pos_restaurant_sync_second_login\n *\n * This tour should be run after the first tour is done.\n */\nregistry.category(\"web_tour.tours\").add(\"pos_restaurant_sync_second_login\", {\n    steps: () =>\n        [\n            // There is one draft synced order from the previous tour\n            Chrome.startPoS(),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.totalAmountIs(\"4.40\"),\n\n            // Test transfering an order\n            ProductScreen.clickControlButton(\"Transfer\"),\n            {\n                trigger: \".table:contains(4)\",\n                async run(helpers) {\n                    await delay(500);\n                    await helpers.click();\n                },\n            },\n            Chrome.activeTableOrOrderIs(\"4\"),\n\n            // Test if products still get merged after transfering the order\n            ProductScreen.totalAmountIs(\"4.40\"),\n            ProductScreen.clickDisplayedProduct(\"Water\"),\n            ProductScreen.totalAmountIs(\"6.60\"),\n            ProductScreen.clickNumpad(\"1\"),\n            ProductScreen.totalAmountIs(\"4.40\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.clickNextOrder(),\n            // At this point, there are no draft orders.\n\n            {\n                trigger: \".table:contains(2)\",\n                async run(helpers) {\n                    await delay(500);\n                    await helpers.click();\n                },\n            },\n            Chrome.activeTableOrOrderIs(\"2\"),\n            ProductScreen.isShown(),\n            ProductScreen.orderIsEmpty(),\n            ProductScreen.clickControlButton(\"Transfer\"),\n            {\n                trigger: \".table:contains(4)\",\n                async run(helpers) {\n                    await delay(500);\n                    await helpers.click();\n                },\n            },\n            Chrome.activeTableOrOrderIs(\"4\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\"),\n            ProductScreen.totalAmountIs(\"2.20\"),\n            Chrome.clickPlanButton(),\n            FloorScreen.orderCountSyncedInTableIs(\"4\", \"1\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"SaveLastPreparationChangesTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\", true, \"1.0\"),\n            ProductScreen.orderlineIsToOrder(\"Coca-Cola\"),\n            ProductScreen.clickOrderButton(),\n            Chrome.waitRequest(),\n            ProductScreen.orderlinesHaveNoChange(),\n            Order.hasLine({\n                productName: \"Coca-Cola\",\n                quantity: 1,\n                withClass: \":eq(0)\",\n            }),\n            Chrome.clickPlanButton(),\n            FloorScreen.hasTable(\"2\"),\n            FloorScreen.hasTable(\"4\"),\n            FloorScreen.hasTable(\"5\"),\n        ].flat(),\n});\n\nconst billScreenQRCodeData = [\n    {\n        content: \"Unique code is shown\",\n        trigger: \".pos-receipt .unique-code\",\n    },\n    {\n        content: \"Portal url is shown\",\n        trigger: \".pos-receipt .portal-url\",\n    },\n];\n\nregistry.category(\"web_tour.tours\").add(\"BillScreenTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\"),\n            ProductScreen.clickControlButton(\"Bill\"),\n            // HACK: is_modal should be false so that the trigger can be found.\n            billScreenQRCodeData.map(negateStep),\n            BillScreen.closeBillPopup(),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            ...billScreenQRCodeData,\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"OrderTrackingTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\", true, \"2.0\"),\n            Chrome.clickPlanButton(),\n            FloorScreen.clickTable(\"5\"),\n            inLeftSide([\n                ...ProductScreen.clickLine(\"Coca-Cola\", \"2.0\"),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Coca-Cola\", \"2.0\"),\n                ...[\"\u232b\", \"1\"].map(Numpad.click),\n                ...ProductScreen.selectedOrderlineHasDirect(\"Coca-Cola\", \"1.0\"),\n            ]),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.isShown(),\n        ].flat(),\n});\nregistry.category(\"web_tour.tours\").add(\"CategLabelCheck\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.clickDisplayedProduct(\"Test Multi Category Product\"),\n            ProductScreen.OrderButtonNotContain(\"Drinks\"),\n        ].flat(),\n});\nregistry.category(\"web_tour.tours\").add(\"OrderChange\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\", true, \"1.0\"),\n            ProductScreen.clickOrderButton(),\n            {\n                ...Dialog.confirm(),\n                content:\n                    \"acknowledge printing error ( because we don't have printer in the test. )\",\n            },\n            ProductScreen.orderlinesHaveNoChange(),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickNumpad(\"+10\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.isShown(),\n            TicketScreen.receiptChangeIs(\"7.80\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"CrmTeamTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\"),\n            Chrome.clickPlanButton(),\n            FloorScreen.clickTable(\"5\"),\n            Chrome.clickPlanButton(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"PoSPaymentSyncTour1\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\"),\n            ProductScreen.totalAmountIs(\"2.20\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.emptyPaymentlines(\"2.20\"),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickBackToProductScreen(),\n            ProductScreen.isShown(),\n            ProductScreen.clickOrderButton(),\n            ProductScreen.orderlinesHaveNoChange(),\n            Chrome.clickPlanButton(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"PoSPaymentSyncTour2\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            FloorScreen.clickTable(\"5\"),\n            PaymentScreen.isShown(),\n            PaymentScreen.clickBackToProductScreen(),\n            ProductScreen.isShown(),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\"),\n            ProductScreen.totalAmountIs(\"4.40\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentlineDelButton(\"Bank\", \"2.20\"),\n            PaymentScreen.emptyPaymentlines(\"4.40\"),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickBackToProductScreen(),\n            ProductScreen.isShown(),\n            ProductScreen.clickOrderButton(),\n            ProductScreen.orderlinesHaveNoChange(),\n            Chrome.clickPlanButton(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"PoSPaymentSyncTour3\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            FloorScreen.clickTable(\"5\"),\n            PaymentScreen.isShown(),\n            PaymentScreen.clickBackToProductScreen(),\n            ProductScreen.isShown(),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\"),\n            ProductScreen.totalAmountIs(\"6.60\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.remainingIs(\"2.2\"),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickBackToProductScreen(),\n            ProductScreen.isShown(),\n            ProductScreen.clickOrderButton(),\n            ProductScreen.orderlinesHaveNoChange(),\n            Chrome.clickPlanButton(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"PreparationPrinterContent\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.clickDisplayedProduct(\"Product Test\"),\n            Chrome.freezeDateTime(1739370000000),\n            Dialog.confirm(\"Add\"),\n            ProductScreen.totalAmountIs(\"10\"),\n            {\n                content: \"Check if order preparation contains always Variant\",\n                trigger: \"body\",\n                run: async () => {\n                    const order = posmodel.get_order();\n                    const data = posmodel.getOrderChanges();\n                    const changes = Object.values(data.orderlines);\n                    const printed = await posmodel.getRenderedReceipt(order, \"New\", changes);\n\n                    if (!printed.innerHTML.includes(\"Product Test (Value 1)\")) {\n                        throw new Error(\"Product Test (Value 1) not found in printed receipt\");\n                    }\n                    const receiptHeader = printed.querySelector(\".receipt-header\");\n                    if (!receiptHeader.innerHTML.includes(\"14:20\")) {\n                        throw new Error(\n                            \"Expected timestamp '14:20' not found in the printed receipt header\"\n                        );\n                    }\n                },\n            },\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"ComboSortedPreparationReceiptTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.clickDisplayedProduct(\"Office Combo\"),\n            combo.select(\"Combo Product 2\"),\n            combo.select(\"Combo Product 4\"),\n            combo.select(\"Combo Product 6\"),\n            Dialog.confirm(),\n            ProductScreen.clickDisplayedProduct(\"Office Combo\"),\n            combo.select(\"Combo Product 1\"),\n            combo.select(\"Combo Product 5\"),\n            combo.select(\"Combo Product 8\"),\n            Dialog.confirm(),\n            {\n                content: \"Check if order preparation has product correctly ordered\",\n                trigger: \"body\",\n                run: async () => {\n                    const order = posmodel.get_order();\n                    const data = posmodel.getOrderChanges();\n                    const changes = Object.values(data.orderlines);\n                    const printed = await posmodel.getRenderedReceipt(order, \"New\", changes);\n                    const orderLines = [...printed.querySelectorAll(\".orderline\")];\n                    const orderLinesInnerText = orderLines.map((orderLine) => orderLine.innerText);\n                    const expectedOrderLines = [\n                        \"Office Combo\",\n                        \"Combo Product 2\",\n                        \"Combo Product 4\",\n                        \"Combo Product 6\",\n                        \"Office Combo\",\n                        \"Combo Product 1\",\n                        \"Combo Product 5\",\n                        \"Combo Product 8\",\n                    ];\n                    for (let i = 0; i < orderLinesInnerText.length; i++) {\n                        if (!orderLinesInnerText[i].includes(expectedOrderLines[i])) {\n                            throw new Error(\"Order line mismatch\");\n                        }\n                    }\n                },\n            },\n            ProductScreen.totalAmountIs(\"95.00\"),\n            ProductScreen.clickPayButton(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"TableTransferPreparationChange1\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n\n            //Transfer sent product on table with same product sent\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.clickDisplayedProduct(\"Product Test\"),\n            ProductScreen.clickOrderButton(),\n            Dialog.confirm(),\n            ProductScreen.orderlinesHaveNoChange(\"Product Test\"),\n            Chrome.clickPlanButton(),\n            FloorScreen.clickTable(\"4\"),\n            ProductScreen.clickDisplayedProduct(\"Product Test\"),\n            ProductScreen.clickOrderButton(),\n            Dialog.confirm(),\n            ProductScreen.orderlinesHaveNoChange(\"Product Test\"),\n            ProductScreen.clickControlButton(\"Transfer\"),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.orderlinesHaveNoChange(\"Product Test\"),\n            ProductScreen.orderLineHas(\"Product Test\", \"2\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"TableTransferPreparationChange2\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            //Transfer sent product on table with same product not sent\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.clickDisplayedProduct(\"Product Test\"),\n            ProductScreen.orderlineIsToOrder(\"Product Test\"),\n            Chrome.clickPlanButton(),\n            FloorScreen.clickTable(\"4\"),\n            ProductScreen.clickDisplayedProduct(\"Product Test\"),\n            ProductScreen.clickOrderButton(),\n            Dialog.confirm(),\n            ProductScreen.orderlinesHaveNoChange(\"Product Test\"),\n            ProductScreen.clickControlButton(\"Transfer\"),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.orderlineIsToOrder(\"Product Test\"),\n            ProductScreen.orderLineHas(\"Product Test\", \"2\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n            Chrome.clickPlanButton(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"TableTransferPreparationChange3\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            //Transfer sent product on table without the same product\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.clickDisplayedProduct(\"Product Test\"),\n            ProductScreen.clickOrderButton(),\n            Dialog.confirm(),\n            ProductScreen.clickControlButton(\"Transfer\"),\n            FloorScreen.clickTable(\"4\"),\n            ProductScreen.orderlinesHaveNoChange(\"Product Test\"),\n            ProductScreen.orderLineHas(\"Product Test\", \"1\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n            Chrome.clickPlanButton(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"TableTransferPreparationChange4\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            //Transfer not sent product on table with same product not sent\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.clickDisplayedProduct(\"Product Test\"),\n            ProductScreen.orderlineIsToOrder(\"Product Test\"),\n            Chrome.clickPlanButton(),\n            FloorScreen.clickTable(\"4\"),\n            ProductScreen.clickDisplayedProduct(\"Product Test\"),\n            ProductScreen.orderlineIsToOrder(\"Product Test\"),\n            ProductScreen.clickControlButton(\"Transfer\"),\n            FloorScreen.hasTable(\"5\"),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.orderLineHas(\"Product Test\", \"2\"),\n            ProductScreen.orderlineIsToOrder(\"Product Test\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n            Chrome.clickPlanButton(),\n            FloorScreen.clickTable(\"4\"),\n            ProductScreen.orderIsEmpty(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"TableTransferPreparationChange5\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n\n            //Transfer not sent product on table with same product sent\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.clickDisplayedProduct(\"Product Test\"),\n            ProductScreen.orderLineHas(\"Product Test\", \"1\"),\n            ProductScreen.clickOrderButton(),\n            Dialog.confirm(),\n            ProductScreen.orderlinesHaveNoChange(\"Product Test\"),\n            Chrome.clickPlanButton(),\n            FloorScreen.clickTable(\"4\"),\n            ProductScreen.clickDisplayedProduct(\"Product Test\"),\n            ProductScreen.orderLineHas(\"Product Test\", \"1\"),\n            ProductScreen.orderlineIsToOrder(\"Product Test\"),\n            ProductScreen.clickControlButton(\"Transfer\"),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.orderlineIsToOrder(\"Product Test\"),\n            ProductScreen.orderLineHas(\"Product Test\", \"2\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n            Chrome.clickPlanButton(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"TableTransferPreparationChange6\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            //Transfer not sent product on table without the same product\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.clickDisplayedProduct(\"Product Test\"),\n            ProductScreen.clickControlButton(\"Transfer\"),\n            FloorScreen.clickTable(\"4\"),\n            ProductScreen.orderlineIsToOrder(\"Product Test\"),\n            ProductScreen.orderLineHas(\"Product Test\", \"1\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"MultiPreparationPrinter\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.clickDisplayedProduct(\"Product 1\"),\n            ProductScreen.clickOrderButton(),\n            Dialog.bodyIs(\"Failed in printing Detailed Receipt changes of the order\"),\n            Dialog.confirm(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"LeaveResidualOrder\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\"),\n            ProductScreen.totalAmountIs(\"2.20\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.clickNextOrder(),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\"),\n            Chrome.clickPlanButton(),\n            FloorScreen.hasTable(\"2\"),\n            FloorScreen.hasTable(\"4\"),\n            FloorScreen.hasTable(\"5\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"FinishResidualOrder\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            FloorScreen.orderCountSyncedInTableIs(\"5\", \"1\"),\n            FloorScreen.clickTable(\"5\"),\n            Order.hasLine({\n                productName: \"Coca-Cola\",\n                quantity: 1,\n                withClass: \":eq(0)\",\n            }),\n            ProductScreen.totalAmountIs(\"2.20\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.clickNextOrder(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_combo_preparation_receipt_layout\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.clickDisplayedProduct(\"Office Combo\"),\n            combo.select(\"Combo Product 2\"),\n            combo.select(\"Combo Product 4\"),\n            combo.select(\"Combo Product 6\"),\n            Dialog.confirm(),\n            {\n                trigger: \".actionpad .submit-order.highlight.btn-primary\",\n            },\n            {\n                content: \"Check if order preparation has product correctly ordered\",\n                trigger: \"body\",\n                run: async () => {\n                    const order = posmodel.get_order();\n                    const data = posmodel.getOrderChanges();\n                    const changes = Object.values(data.orderlines);\n                    const printed = await posmodel.getRenderedReceipt(order, \"New\", changes);\n                    const comboItemLines = [...printed.querySelectorAll(\".orderline.mx-5\")].map(\n                        (el) => el.innerText\n                    );\n                    const expectedComboItemLines = [\n                        \"1 Combo Product 2\",\n                        \"1 Combo Product 4\",\n                        \"1 Combo Product 6\",\n                    ];\n                    if (\n                        comboItemLines.length !== expectedComboItemLines.length ||\n                        !comboItemLines.every((line, index) =>\n                            line.includes(expectedComboItemLines[index])\n                        )\n                    ) {\n                        throw new Error(\"Order line mismatch\");\n                    }\n                },\n            },\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_book_and_release_table\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.bookOrReleaseTable(),\n            waitForLoading(),\n            {\n                content: \"Check if order has a server ID\",\n                trigger: \"body\",\n                run: () => {\n                    const order = posmodel.models[\"pos.order\"].getFirst();\n\n                    if (typeof order.id !== \"number\") {\n                        throw new Error(\"Order does not have a valid server ID\");\n                    }\n                },\n            },\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.bookOrReleaseTable(),\n            waitForLoading(),\n        ].flat(),\n});\n", "import * as ProductScreenPos from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as ProductScreenResto from \"@pos_restaurant/../tests/tours/utils/product_screen_util\";\nconst ProductScreen = { ...ProductScreenPos, ...ProductScreenResto };\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as PaymentScreen from \"@point_of_sale/../tests/tours/utils/payment_screen_util\";\nimport * as ReceiptScreen from \"@point_of_sale/../tests/tours/utils/receipt_screen_util\";\nimport * as FloorScreen from \"@pos_restaurant/../tests/tours/utils/floor_screen_util\";\nimport * as TicketScreen from \"@point_of_sale/../tests/tours/utils/ticket_screen_util\";\nimport * as Chrome from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport * as Order from \"@point_of_sale/../tests/tours/utils/generic_components/order_widget_util\";\nimport { registry } from \"@web/core/registry\";\nimport { inLeftSide } from \"@point_of_sale/../tests/tours/utils/common\";\n\nregistry.category(\"web_tour.tours\").add(\"RefundStayCurrentTableTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n\n            // Create first order and pay it\n            FloorScreen.clickTable(\"2\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\", true, \"1.0\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\", true, \"2.0\"),\n            ProductScreen.clickDisplayedProduct(\"Water\", true, \"1.0\"),\n            ProductScreen.totalAmountIs(\"6.60\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.clickNextOrder(),\n\n            // Go to another table and refund one of the products\n            FloorScreen.clickTable(\"4\"),\n            ProductScreen.orderIsEmpty(),\n            ...ProductScreen.clickRefund(),\n            TicketScreen.selectOrder(\"-0001\"),\n            Order.hasLine({\n                productName: \"Coca-Cola\",\n            }),\n            ProductScreen.clickNumpad(\"2\"),\n            TicketScreen.toRefundTextContains(\"To Refund: 2.00\"),\n            TicketScreen.confirmRefund(),\n            ProductScreen.isShown(),\n            inLeftSide(ProductScreen.orderLineHas(\"Coca-Cola\")),\n            ProductScreen.totalAmountIs(\"-4.40\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"RefundQtyTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n\n            // Create first order and pay it\n            FloorScreen.clickTable(\"2\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\", true, \"1.0\"),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\", true, \"2.0\"),\n            ProductScreen.clickDisplayedProduct(\"Water\", true, \"1.0\"),\n            ProductScreen.totalAmountIs(\"6.60\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.clickNextOrder(),\n\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.selectFilter(\"Paid\"),\n            TicketScreen.selectOrder(\"-0001\"),\n            Order.hasLine({\n                productName: \"Coca-Cola\",\n            }),\n            ProductScreen.clickNumpad(\"2\"),\n            TicketScreen.toRefundTextContains(\"To Refund: 2.00\"),\n            TicketScreen.confirmRefund(),\n            ProductScreen.isShown(),\n            inLeftSide(ProductScreen.orderLineHas(\"Coca-Cola\")),\n            ProductScreen.totalAmountIs(\"-4.40\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.clickNextOrder(),\n\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.selectFilter(\"Paid\"),\n            TicketScreen.selectOrder(\"-0001\"),\n            TicketScreen.refundedNoteContains(\"2.00 Refunded\"),\n        ].flat(),\n});\n", "import * as PaymentScreen from \"@point_of_sale/../tests/tours/utils/payment_screen_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as ReceiptScreen from \"@point_of_sale/../tests/tours/utils/receipt_screen_util\";\nimport * as ChromePos from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport * as ChromeRestaurant from \"@pos_restaurant/../tests/tours/utils/chrome\";\nconst Chrome = { ...ChromePos, ...ChromeRestaurant };\nimport * as FloorScreen from \"@pos_restaurant/../tests/tours/utils/floor_screen_util\";\nimport * as Order from \"@point_of_sale/../tests/tours/utils/generic_components/order_widget_util\";\nimport * as ProductScreenPos from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as ProductScreenResto from \"@pos_restaurant/../tests/tours/utils/product_screen_util\";\nconst ProductScreen = { ...ProductScreenPos, ...ProductScreenResto };\nimport * as SplitBillScreen from \"@pos_restaurant/../tests/tours/utils/split_bill_screen_util\";\nimport * as TicketScreen from \"@point_of_sale/../tests/tours/utils/ticket_screen_util\";\nimport * as combo from \"@point_of_sale/../tests/tours/utils/combo_popup_util\";\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"SplitBillScreenTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            FloorScreen.clickTable(\"2\"),\n            ProductScreen.addOrderline(\"Water\", \"5\", \"2\", \"10.0\"),\n            ProductScreen.addOrderline(\"Minute Maid\", \"3\", \"2\", \"6.0\"),\n            ProductScreen.addOrderline(\"Coca-Cola\", \"1\", \"2\", \"2.0\"),\n            ProductScreen.clickControlButton(\"Split\"),\n\n            // Check if the screen contains all the orderlines\n            SplitBillScreen.orderlineHas(\"Water\", \"5\", \"0\"),\n            SplitBillScreen.orderlineHas(\"Minute Maid\", \"3\", \"0\"),\n            SplitBillScreen.orderlineHas(\"Coca-Cola\", \"1\", \"0\"),\n\n            // split 3 water and 1 coca-cola\n            SplitBillScreen.clickOrderline(\"Water\"),\n            SplitBillScreen.orderlineHas(\"Water\", \"5\", \"1\"),\n            SplitBillScreen.clickOrderline(\"Water\"),\n            SplitBillScreen.clickOrderline(\"Water\"),\n            SplitBillScreen.orderlineHas(\"Water\", \"5\", \"3\"),\n            SplitBillScreen.subtotalIs(\"6.0\"),\n            SplitBillScreen.clickOrderline(\"Coca-Cola\"),\n            SplitBillScreen.orderlineHas(\"Coca-Cola\", \"1\", \"1\"),\n            SplitBillScreen.subtotalIs(\"8.0\"),\n\n            // click pay to split, go back to check the lines\n            SplitBillScreen.clickPay(),\n            Chrome.activeTableOrOrderIs(\"2B\"),\n            ProductScreen.totalAmountIs(\"8.0\"),\n            ProductScreen.clickOrderline(\"Water\", \"3.0\"),\n            ProductScreen.clickOrderline(\"Coca-Cola\", \"1.0\"),\n\n            // go back to the original order and see if the order is changed\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.selectOrder(\"-0001\"),\n            TicketScreen.loadSelectedOrder(),\n            ProductScreen.isShown(),\n            ProductScreen.clickOrderline(\"Water\", \"2.0\"),\n            ProductScreen.clickOrderline(\"Minute Maid\", \"3.0\"),\n\n            // Split the order of table 2 again\n            Chrome.clickPlanButton(),\n            FloorScreen.clickTable(\"2\"),\n            ProductScreen.clickControlButton(\"Split\"),\n\n            SplitBillScreen.clickOrderline(\"Water\"),\n            SplitBillScreen.orderlineHas(\"Water\", \"2\", \"1\"),\n            SplitBillScreen.subtotalIs(\"2.0\"),\n            SplitBillScreen.clickOrderline(\"Minute Maid\"),\n            SplitBillScreen.orderlineHas(\"Minute Maid\", \"3\", \"1\"),\n            SplitBillScreen.subtotalIs(\"4.0\"),\n\n            SplitBillScreen.clickPay(),\n            Chrome.activeTableOrOrderIs(\"2C\"),\n\n            // go back to the original order and see if the order is changed\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.selectOrder(\"-0001\"),\n            TicketScreen.loadSelectedOrder(),\n            ProductScreen.isShown(),\n            ProductScreen.clickOrderline(\"Water\", \"1.0\"),\n            ProductScreen.clickOrderline(\"Minute Maid\", \"2.0\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"SplitBillScreenTour2\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            FloorScreen.clickTable(\"2\"),\n            ProductScreen.addOrderline(\"Water\", \"1\", \"2.0\"),\n            ProductScreen.addOrderline(\"Minute Maid\", \"1\", \"2.0\"),\n            ProductScreen.addOrderline(\"Coca-Cola\", \"1\", \"2.0\"),\n            Chrome.clickPlanButton(),\n            FloorScreen.clickTable(\"2\"),\n            Chrome.isSynced(),\n            ProductScreen.clickControlButton(\"Split\"),\n\n            SplitBillScreen.clickOrderline(\"Water\"),\n            SplitBillScreen.orderlineHas(\"Water\", \"1\", \"1\"),\n            SplitBillScreen.clickOrderline(\"Coca-Cola\"),\n            SplitBillScreen.orderlineHas(\"Coca-Cola\", \"1\", \"1\"),\n            SplitBillScreen.clickPay(),\n            PaymentScreen.clickBack(),\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.selectOrder(\"-0002\"),\n            TicketScreen.loadSelectedOrder(),\n            Order.hasLine({ productName: \"Coca-Cola\", quantity: \"1.0\" }),\n            Order.hasLine({ productName: \"Water\", quantity: \"1.0\" }),\n            ProductScreen.totalAmountIs(\"4.00\"),\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.selectOrder(\"-0001\"),\n            TicketScreen.loadSelectedOrder(),\n            Order.hasLine({ productName: \"Minute Maid\", quantity: \"1.0\" }),\n            ProductScreen.totalAmountIs(\"2.00\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"SplitBillScreenTour3\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            FloorScreen.clickTable(\"2\"),\n            ProductScreen.addOrderline(\"Water\", \"2\", \"2\", \"4.00\"),\n            ProductScreen.clickControlButton(\"Split\"),\n\n            // Check if the screen contains all the orderlines\n            SplitBillScreen.orderlineHas(\"Water\", \"2\", \"0\"),\n\n            // split 1 water\n            SplitBillScreen.clickOrderline(\"Water\"),\n            SplitBillScreen.orderlineHas(\"Water\", \"2\", \"1\"),\n            SplitBillScreen.subtotalIs(\"2.0\"),\n\n            // click pay to split, and pay\n            SplitBillScreen.clickPay(),\n            ProductScreen.totalAmountIs(\"2.0\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.clickContinueOrder(),\n\n            // Check if there is still water in the order\n            ProductScreen.isShown(),\n            ProductScreen.orderLineHas(\"Water\", \"1.0\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            // Check if there is no more order to continue\n            ReceiptScreen.clickNextOrder(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"SplitBillScreenTour4ProductCombo\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            FloorScreen.clickTable(\"2\"),\n            ProductScreen.clickDisplayedProduct(\"Office Combo\"),\n            combo.select(\"Combo Product 3\"),\n            combo.select(\"Combo Product 5\"),\n            combo.select(\"Combo Product 8\"),\n            Dialog.confirm(),\n\n            ...ProductScreen.clickDisplayedProduct(\"Office Combo\"),\n            combo.select(\"Combo Product 2\"),\n            combo.select(\"Combo Product 4\"),\n            combo.select(\"Combo Product 7\"),\n            Dialog.confirm(),\n            // now we set the qty of this combo combination to 2\n            ProductScreen.clickOrderline(\"Combo Product 2\"),\n            ProductScreen.clickNumpad(\"2\"),\n            ProductScreen.selectedOrderlineHas(\"Combo Product 2\", \"2\"),\n\n            ProductScreen.addOrderline(\"Water\", \"1\"),\n            ProductScreen.addOrderline(\"Minute Maid\", \"1\"),\n\n            // The water, the first combo, and one out of the two items\n            // of the second combo will go in the new splitted order.\n            // we will then check if the rest of the items from the selected\n            // combos are automatically sent to the new order.\n            ProductScreen.clickControlButton(\"Split\"),\n            SplitBillScreen.clickOrderline(\"Water\"),\n            SplitBillScreen.clickOrderline(\"Combo Product 3\"),\n            SplitBillScreen.clickOrderline(\"Combo Product 2\"),\n            // we check that all the lines in the combo are splitted together\n            SplitBillScreen.orderlineHas(\"Water\", \"1\", \"1\"),\n            SplitBillScreen.orderlineHas(\"Office Combo\", \"1\", \"1\"),\n            SplitBillScreen.orderlineHas(\"Combo Product 3\", \"1\", \"1\"),\n            SplitBillScreen.orderlineHas(\"Combo Product 5\", \"1\", \"1\"),\n            SplitBillScreen.orderlineHas(\"Combo Product 8\", \"1\", \"1\"),\n            SplitBillScreen.orderlineHas(\"Office Combo\", \"2\", \"1\"),\n            SplitBillScreen.orderlineHas(\"Combo Product 2\", \"2\", \"0\"),\n            SplitBillScreen.orderlineHas(\"Combo Product 4\", \"2\", \"0\"),\n            SplitBillScreen.orderlineHas(\"Combo Product 7\", \"2\", \"0\"),\n\n            ...SplitBillScreen.subtotalIs(\"97.14\"),\n            ...SplitBillScreen.clickPay(),\n            ProductScreen.totalAmountIs(\"97.13\"),\n            ProductScreen.clickPayButton(),\n            ...PaymentScreen.clickPaymentMethod(\"Bank\"),\n            ...PaymentScreen.clickValidate(),\n            ...ReceiptScreen.clickContinueOrder(),\n\n            // Check if there is still water in the order\n            ...ProductScreen.isShown(),\n            // now we check that all the lines that remained in the order are correct\n            ...ProductScreen.orderLineHas(\"Minute Maid\", \"1.0\"),\n            ...ProductScreen.clickOrderline(\"Office Combo\"),\n            ...ProductScreen.clickOrderline(\"Combo Product 2\"),\n            ...ProductScreen.selectedOrderlineHas(\"Combo Product 2\", \"1.0\", \"6.67\", \"Office Combo\"),\n            ...ProductScreen.clickOrderline(\"Combo Product 4\"),\n            ...ProductScreen.selectedOrderlineHas(\n                \"Combo Product 4\",\n                \"1.0\",\n                \"14.66\",\n                \"Office Combo\"\n            ),\n            ...ProductScreen.clickOrderline(\"Combo Product 7\"),\n            ...ProductScreen.selectedOrderlineHas(\n                \"Combo Product 7\",\n                \"1.0\",\n                \"22.00\",\n                \"Office Combo\"\n            ),\n            ...ProductScreen.totalAmountIs(\"45.53\"),\n        ].flat(),\n});\n", "import * as ProductScreenPos from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as ProductScreenResto from \"@pos_restaurant/../tests/tours/utils/product_screen_util\";\nconst ProductScreen = { ...ProductScreenPos, ...ProductScreenResto };\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as FloorScreen from \"@pos_restaurant/../tests/tours/utils/floor_screen_util\";\nimport * as TicketScreen from \"@point_of_sale/../tests/tours/utils/ticket_screen_util\";\nimport * as Chrome from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport { registry } from \"@web/core/registry\";\nimport * as DeviceSynchronization from \"@pos_restaurant/../tests/tours/utils/devices_synchronization\";\n\nregistry.category(\"web_tour.tours\").add(\"PosResTicketScreenTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            // New Ticket button should not be in the ticket screen if no table is selected.\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.noNewTicketButton(),\n            TicketScreen.clickDiscard(),\n\n            // Make sure that order is deleted properly.\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.addOrderline(\"Minute Maid\", \"1\", \"3\"),\n            ProductScreen.totalAmountIs(\"3.0\"),\n            Chrome.clickPlanButton(),\n            FloorScreen.orderCountSyncedInTableIs(\"5\", \"1\"),\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.deleteOrder(\"-0001\"),\n            Dialog.confirm(),\n            Chrome.clickPlanButton(),\n            FloorScreen.isShown(),\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.orderIsEmpty(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"OrderNumberConflictTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            FloorScreen.clickTable(\"3\"),\n            ProductScreen.isShown(),\n            ProductScreen.addOrderline(\"Coca-Cola\", \"1\", \"3\"),\n            Chrome.clickPlanButton(),\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.nthColumnContains(1, 2, \"Order\"),\n            TicketScreen.nthColumnContains(1, 3, \"1\"),\n            TicketScreen.nthColumnContains(2, 2, \"Self-Order\"),\n            TicketScreen.nthColumnContains(2, 3, \"S\"),\n            TicketScreen.nthColumnContains(2, 3, \"1\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"OrderSynchronisationTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            DeviceSynchronization.createNewOrderOnTable(\"4\", [\n                [\"Coca-Cola\", 50],\n                [\"Water\", 30],\n            ]),\n            FloorScreen.clickTable(\"4\"),\n            ProductScreen.orderLineHas(\"Coca-Cola\", \"50.0\"),\n            DeviceSynchronization.markOrderAsPaid(),\n            ProductScreen.isShown(),\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.selectFilter(\"Paid\"),\n            TicketScreen.checkStatus(\"device_sync\", \"Paid\"),\n            TicketScreen.selectOrder(\"device_sync\"),\n            TicketScreen.confirmRefund(),\n        ].flat(),\n});\n", "import * as ProductScreenPos from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as ProductScreenResto from \"@pos_restaurant/../tests/tours/utils/product_screen_util\";\nconst ProductScreen = { ...ProductScreenPos, ...ProductScreenResto };\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as PaymentScreen from \"@point_of_sale/../tests/tours/utils/payment_screen_util\";\nimport * as ReceiptScreen from \"@point_of_sale/../tests/tours/utils/receipt_screen_util\";\nimport * as FloorScreen from \"@pos_restaurant/../tests/tours/utils/floor_screen_util\";\nimport * as TicketScreen from \"@point_of_sale/../tests/tours/utils/ticket_screen_util\";\nimport * as TipScreen from \"@pos_restaurant/../tests/tours/utils/tip_screen_util\";\nimport * as NumberPopup from \"@point_of_sale/../tests/tours/utils/number_popup_util\";\nimport * as Chrome from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"PosResTipScreenTour\", {\n    steps: () =>\n        [\n            // Create order that is synced when draft.\n            // order 1\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            FloorScreen.clickTable(\"2\"),\n            ProductScreen.addOrderline(\"Minute Maid\", \"1\", \"2\"),\n            ProductScreen.totalAmountIs(\"2.0\"),\n            Chrome.clickPlanButton(),\n            FloorScreen.orderCountSyncedInTableIs(\"2\", \"1\"),\n            FloorScreen.clickTable(\"2\"),\n            ProductScreen.totalAmountIs(\"2.0\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            TipScreen.isShown(),\n            Chrome.clickPlanButton(),\n            FloorScreen.clickTable(\"4\"),\n            // order 2\n            ProductScreen.addOrderline(\"Coca-Cola\", \"2\", \"2\"),\n            ProductScreen.totalAmountIs(\"4.0\"),\n            Chrome.clickPlanButton(),\n            Chrome.clickMenuOption(\"Orders\"),\n            {\n                trigger: `.ticket-screen .orders > .order-row:contains(Tipping):contains($ 2.00)`,\n            },\n            Chrome.clickPlanButton(),\n\n            // Create without syncing the draft.\n            // order 3\n            FloorScreen.clickTable(\"5\"),\n            ProductScreen.addOrderline(\"Minute Maid\", \"3\", \"2\"),\n            ProductScreen.totalAmountIs(\"6.0\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            TipScreen.isShown(),\n            Chrome.clickPlanButton(),\n            Chrome.createFloatingOrder(),\n            // order 4\n            ProductScreen.addOrderline(\"Coca-Cola\", \"4\", \"2\"),\n            ProductScreen.totalAmountIs(\"8.0\"),\n            ProductScreen.clickControlButton(\"Guests\"),\n            NumberPopup.enterValue(\"2\"),\n            NumberPopup.isShown(\"2\"),\n            Dialog.confirm(),\n            ProductScreen.guestNumberIs(\"2\"),\n            ProductScreen.clickCloseButton(),\n            Chrome.clickPlanButton(),\n            Chrome.clickMenuOption(\"Orders\"),\n            {\n                trigger: `.ticket-screen .orders > .order-row:contains(Tipping):contains($ 6.00)`,\n            },\n            // Tip 20% on order1\n            TicketScreen.selectOrderByPrice(\"2.0\"),\n            TicketScreen.loadSelectedOrder(),\n            TipScreen.isShown(),\n            TipScreen.totalAmountIs(\"2.0\"),\n            TipScreen.percentAmountIs(\"15%\", \"0.30\"),\n            TipScreen.percentAmountIs(\"20%\", \"0.40\"),\n            TipScreen.percentAmountIs(\"25%\", \"0.50\"),\n            TipScreen.clickPercentTip(\"20%\"),\n            TipScreen.inputAmountIs(\"0.40\"),\n            TipScreen.clickSettle(),\n            ReceiptScreen.isShown(),\n            ReceiptScreen.clickNextOrder(),\n            FloorScreen.isShown(),\n            Chrome.clickMenuOption(\"Orders\"),\n\n            // Tip 25% on order3\n            TicketScreen.selectOrderByPrice(\"6.0\"),\n            TicketScreen.loadSelectedOrder(),\n            TipScreen.isShown(),\n            TipScreen.totalAmountIs(\"6.0\"),\n            TipScreen.percentAmountIs(\"15%\", \"0.90\"),\n            TipScreen.percentAmountIs(\"20%\", \"1.20\"),\n            TipScreen.percentAmountIs(\"25%\", \"1.50\"),\n            TipScreen.clickPercentTip(\"25%\"),\n            TipScreen.inputAmountIs(\"1.50\"),\n            Chrome.clickPlanButton(),\n            FloorScreen.isShown(),\n            Chrome.clickMenuOption(\"Orders\"),\n\n            // finalize order 4 then tip custom amount\n            TicketScreen.selectOrderByPrice(\"8.0\"),\n            TicketScreen.loadSelectedOrder(),\n            ProductScreen.isShown(),\n            ProductScreen.totalAmountIs(\"8.0\"),\n            ProductScreen.guestNumberIs(\"2\"),\n            ProductScreen.clickCloseButton(),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            TipScreen.isShown(),\n            TipScreen.totalAmountIs(\"8.0\"),\n            TipScreen.percentAmountIs(\"15%\", \"1.20\"),\n            TipScreen.percentAmountIs(\"20%\", \"1.60\"),\n            TipScreen.percentAmountIs(\"25%\", \"2.00\"),\n            TipScreen.setCustomTip(\"1.00\"),\n            TipScreen.inputAmountIs(\"1.00\"),\n            Chrome.clickPlanButton(),\n            FloorScreen.isShown(),\n\n            // settle tips here\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.selectFilter(\"Tipping\"),\n            TicketScreen.tipContains(\"1.00\"),\n            TicketScreen.settleTips(),\n            TicketScreen.selectFilter(\"All active orders\"),\n            {\n                trigger: `.ticket-screen .orders > .order-row:contains(Ongoing):contains($ 4.00)`,\n            },\n            // tip order2 during payment\n            // tip screen should not show after validating payment screen\n            TicketScreen.selectOrderByPrice(\"4.0\"),\n            TicketScreen.loadSelectedOrder(),\n            ProductScreen.isShown(),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickTipButton(),\n\n            NumberPopup.enterValue(\"1\"),\n            NumberPopup.isShown(\"1\"),\n            Dialog.confirm(),\n            PaymentScreen.emptyPaymentlines(\"5.0\"),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.isShown(),\n\n            // order 5\n            // Click directly on \"settle\" without selecting a Tip\n            ReceiptScreen.clickNextOrder(),\n            FloorScreen.clickTable(\"2\"),\n            ProductScreen.addOrderline(\"Minute Maid\", \"3\", \"2\"),\n            ProductScreen.totalAmountIs(\"6.0\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PaymentScreen.clickValidate(),\n            TipScreen.isShown(),\n            TipScreen.clickSettle(),\n            ReceiptScreen.isShown(),\n            ReceiptScreen.clickNextOrder(),\n            FloorScreen.isShown(),\n        ].flat(),\n});\n", "export function closeBillPopup() {\n    return [\n        {\n            content: `Close bill popup`,\n            trigger: `.btn-close`,\n            run: \"click\",\n        },\n    ];\n}\n\nexport function isShown() {\n    return [\n        {\n            content: \"Bill screen is shown\",\n            trigger: '.receipt-screen h2:contains(\"Bill Printing\")',\n        },\n    ];\n}\n", "export function isTabActive(tabText) {\n    return [\n        {\n            content: \"Check if the active tab contains the text\" + tabText,\n            trigger: `.navbar-menu .btn-primary:contains(${tabText})`,\n        },\n    ];\n}\n\nexport function activeTableOrOrderIs(label) {\n    return {\n        trigger: `.table-free-order-label:contains(\"${label}\")`,\n    };\n}\n", "/* global posmodel */\n\nconst getData = ({ lineProductName, productName, partnerName } = {}) => {\n    const order = posmodel.models[\"pos.order\"].find((o) => o.pos_reference === \"device_sync\");\n\n    let partner = null;\n    if (partnerName) {\n        partner = posmodel.models[\"res.partner\"].find((p) => p.name === partnerName);\n    }\n\n    let line = null;\n    if (lineProductName) {\n        line = order.lines.find((l) => l.product_id.display_name === lineProductName);\n    }\n\n    let product = null;\n    if (productName) {\n        product = posmodel.models[\"product.product\"].find((p) => p.display_name === productName);\n    }\n\n    return { order, line, product, partner };\n};\n\nconst notify = async (orderIds = []) => {\n    const recordIds = {};\n    if (orderIds.lenght) {\n        recordIds[\"pos.order\"] = orderIds;\n    }\n    const orm = posmodel.env.services.orm;\n    await orm.call(\"pos.config\", \"notify_synchronisation\", [\n        posmodel.config.id,\n        posmodel.session.id,\n        999,\n        recordIds,\n    ]);\n};\n\nconst getLineData = (product, order, quantity) => ({\n    name: product.display_name,\n    order_id: order.id,\n    product_id: product.id,\n    price_unit: product.lst_price,\n    price_subtotal: product.lst_price * quantity,\n    price_subtotal_incl: product.lst_price * quantity,\n    discount: 0,\n    qty: quantity,\n});\n\n// In the point-of-sale code, we consider that synchronization is necessary\n// when the write_date of the local order is smaller than that of the server.\n// To prevent the PoS from ignoring our synchronization.\nconst writeOnOrder = async (order, data) => {\n    const sec = new Date(order.write_date).getMilliseconds() + 1010;\n    const timeout = Math.ceil(sec - new Date().getMilliseconds(), 0);\n    await new Promise((res) => setTimeout(res, timeout));\n    const orm = posmodel.env.services.orm;\n    await orm.write(\"pos.order\", [order.id], data);\n    await notify([order.id]);\n};\n\nexport function markOrderAsPaid() {\n    return [\n        {\n            trigger: \"body\",\n            run: async () => {\n                const { order } = getData({});\n                await writeOnOrder(order, {\n                    state: \"paid\",\n                    amount_paid: order.amount_total,\n                    amount_return: 0,\n                    amount_tax: 0,\n                    amount_total: 0,\n                });\n            },\n        },\n    ];\n}\n\nexport function createNewOrderOnTable(tableName, productTuple) {\n    return [\n        {\n            trigger: \"body\",\n            run: async () => {\n                const orm = posmodel.env.services.orm;\n                const prices = {\n                    amount_paid: 0,\n                    amount_return: 0,\n                    amount_tax: 0,\n                    amount_total: 0,\n                };\n                const lines = productTuple.map(([productName, quantity]) => {\n                    const product = posmodel.models[\"product.product\"].find(\n                        (p) => p.display_name === productName\n                    );\n                    const lineData = getLineData(product, false, quantity);\n                    prices.amount_paid += lineData.price_subtotal;\n                    prices.amount_return += lineData.price_subtotal;\n                    return [\n                        0,\n                        0,\n                        {\n                            ...lineData,\n                            price_subtotal: lineData.price_subtotal,\n                            price_subtotal_incl: lineData.price_subtotal_incl,\n                        },\n                    ];\n                });\n                const table = posmodel.models[\"restaurant.table\"].find(\n                    (t) => t.table_number === parseInt(tableName)\n                );\n                const [orderId] = await orm.create(\"pos.order\", [\n                    {\n                        ...prices,\n                        pos_reference: `device_sync`,\n                        config_id: posmodel.config.id,\n                        session_id: posmodel.session.id,\n                        table_id: table.id,\n                        lines,\n                    },\n                ]);\n                await notify([orderId]);\n            },\n        },\n    ];\n}\n", "import { queryOne } from \"@odoo/hoot-dom\";\nimport * as NumberPopup from \"@point_of_sale/../tests/tours/utils/number_popup_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\n\nexport function table({ name, withClass = \"\", withoutClass, run = () => {}, numOfSeats }) {\n    let trigger = `.floor-map .table${withClass}`;\n    if (withoutClass) {\n        trigger += `:not(${withoutClass})`;\n    }\n    if (name) {\n        trigger += `:has(.label:contains(\"${name}\"))`;\n    }\n    return {\n        content: `Check table with attributes: ${JSON.stringify(arguments[0])}`,\n        trigger,\n        run: typeof run === \"string\" ? run : () => run(trigger),\n    };\n}\nexport const clickTable = (name) => table({ name, run: \"click\" });\nexport const hasTable = (name) => table({ name });\nexport const selectedTableIs = (name) => table({ name, withClass: \".selected\" });\nexport const ctrlClickTable = (name) =>\n    table({\n        name,\n        run: (trigger) => {\n            queryOne(trigger).dispatchEvent(\n                new MouseEvent(\"click\", { bubbles: true, ctrlKey: true })\n            );\n        },\n    });\nexport function clickFloor(name) {\n    return [\n        {\n            content: `click '${name}' floor`,\n            trigger: `.floor-selector .button-floor:contains(\"${name}\")`,\n            run: \"click\",\n        },\n    ];\n}\nexport function clickEditButton(button) {\n    return [\n        {\n            content: \"add table\",\n            trigger: `.edit-buttons i[aria-label=\"${button}\"]`,\n            run: \"click\",\n        },\n    ];\n}\nexport function clickSaveEditButton() {\n    return [\n        {\n            content: \"add table\",\n            trigger: '.edit-buttons button:contains(\"Save\")',\n            run: \"click\",\n        },\n    ];\n}\nexport function goTo(name) {\n    return [\n        {\n            content: `click on Go To button`,\n            trigger: `.navbar-menu .btn:contains(\"Table\")`,\n            run: \"click\",\n        },\n        ...NumberPopup.enterValue(name),\n        Dialog.confirm(),\n    ];\n}\nexport function selectedFloorIs(name) {\n    return [\n        {\n            content: `selected floor is '${name}'`,\n            trigger: `.button-floor.active:contains(\"${name}\")`,\n        },\n    ];\n}\nexport function orderCountSyncedInTableIs(table, count) {\n    return [\n        {\n            trigger: `.floor-map .table:has(.label:contains(\"${table}\")):has(.order-count:contains(\"${count}\"))`,\n        },\n    ];\n}\nexport function isShown() {\n    return [\n        {\n            trigger: \".floor-map\",\n        },\n    ];\n}\nexport function linkTables(child, parent) {\n    return {\n        content: `Drag table ${child} onto table ${parent} in order to link them`,\n        trigger: table({ name: child }).trigger,\n        async run(helpers) {\n            helpers.delay = 500;\n            await helpers.drag_multiple_and_then_drop(\n                [\n                    table({ name: parent }).trigger,\n                    {\n                        position: \"top\",\n                        relative: true,\n                    },\n                ],\n                [\n                    table({ name: parent }).trigger,\n                    {\n                        position: \"center\",\n                        relative: true,\n                    },\n                ]\n            );\n        },\n    };\n}\nexport function isChildTable(child) {\n    return {\n        content: `Verify that table ${child} is a child table`,\n        trigger: table({ name: child }).trigger + ` .info.opacity-25`,\n    };\n}\n\nimport { TourHelpers } from \"@web_tour/tour_service/tour_helpers\";\nimport { patch } from \"@web/core/utils/patch\";\nimport * as hoot from \"@odoo/hoot-dom\";\n\npatch(TourHelpers.prototype, {\n    async drag_multiple_and_then_drop(...drags) {\n        const dragEffectDelay = async () => {\n            console.log(this.delay);\n            await new Promise((resolve) => requestAnimationFrame(resolve));\n            await new Promise((resolve) => setTimeout(resolve, this.delay));\n        };\n        const element = this.anchor;\n        const { drop, moveTo } = await hoot.drag(element);\n        await dragEffectDelay();\n        await hoot.hover(element, {\n            position: {\n                top: 20,\n                left: 20,\n            },\n            relative: true,\n        });\n        await dragEffectDelay();\n        for (const [selector, options] of drags) {\n            console.log(\"Selector\", selector, options);\n            const target = await hoot.waitFor(selector, {\n                visible: true,\n                timeout: 500,\n            });\n            await moveTo(target, options);\n            await dragEffectDelay();\n        }\n        await drop();\n        await dragEffectDelay();\n    },\n});\n", "import * as Order from \"@point_of_sale/../tests/tours/utils/generic_components/order_widget_util\";\nimport * as ProductScreen from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\n\nexport function clickOrderButton() {\n    return [\n        {\n            content: \"click order button\",\n            trigger: \".actionpad .submit-order\",\n            run: \"click\",\n        },\n    ];\n}\nexport function orderlinesHaveNoChange() {\n    return Order.doesNotHaveLine({ withClass: \".has-change\" });\n}\nexport function orderlineIsToOrder(name) {\n    return Order.hasLine({\n        productName: name,\n        withClass: \".orderline.has-change\",\n    });\n}\nexport function orderlineIsToSkip(name) {\n    return Order.hasLine({\n        withClass: \".orderline.skip-change\",\n        productName: name,\n    });\n}\nexport function guestNumberIs(num) {\n    return [\n        ...ProductScreen.clickControlButtonMore(),\n        {\n            content: `guest number is ${num}`,\n            trigger: ProductScreen.controlButtonTrigger(\"Guests\") + `:contains(${num})`,\n        },\n    ];\n}\nexport function orderBtnIsPresent() {\n    return [\n        {\n            content: \"Order button is here\",\n            trigger: \".actionpad .button.submit-order\",\n        },\n    ];\n}\nexport function OrderButtonNotContain(data) {\n    const steps = [\n        {\n            isActive: [\"desktop\"],\n            content: \"check order button not contain data\",\n            trigger: `.product-screen .submit-order:not(:contains(\"${data}\"))`,\n            run: function () {}, // it's a check\n        },\n    ];\n    return steps;\n}\n\nexport function bookOrReleaseTable() {\n    return [\n        {\n            content: \"click book or release table button\",\n            trigger: \".table-booking button\",\n            run: \"click\",\n        },\n    ];\n}\n", "import * as Order from \"@point_of_sale/../tests/tours/utils/generic_components/order_widget_util\";\n\nexport function clickOrderline(productName) {\n    return Order.hasLine({ productName, run: \"click\" });\n}\nexport function clickBack() {\n    return [\n        {\n            content: \"click back button\",\n            trigger: `.splitbill-screen .button.back`,\n            run: \"click\",\n        },\n    ];\n}\nexport function clickPay() {\n    return [\n        {\n            content: \"click pay button\",\n            trigger: `.splitbill-screen .pay-button .button`,\n            run: \"click\",\n        },\n    ];\n}\n\nexport function orderlineHas(name, totalQuantity, splitQuantity) {\n    return Order.hasLine({\n        productName: name,\n        quantity: splitQuantity != 0 ? `${splitQuantity} / ${totalQuantity}` : totalQuantity,\n    });\n}\nexport function subtotalIs(amount) {\n    return [\n        {\n            content: `total amount of split is '${amount}'`,\n            trigger: `.splitbill-screen .order-info .subtotal:contains(\"${amount}\")`,\n            run: \"click\",\n        },\n    ];\n}\n", "export function clickPercentTip(percent) {\n    return [\n        {\n            trigger: `.tip-screen .percentage:contains(\"${percent}\")`,\n            run: \"click\",\n        },\n    ];\n}\nexport function setCustomTip(amount) {\n    return [\n        {\n            trigger: `.tip-screen .custom-amount-form input`,\n            run: `edit ${amount}`,\n        },\n    ];\n}\nexport function clickSettle() {\n    return [\n        {\n            trigger: `.button.highlight.next`,\n            run: \"click\",\n        },\n    ];\n}\n\nexport function isShown() {\n    return [\n        {\n            trigger: \".pos .tip-screen\",\n        },\n    ];\n}\nexport function totalAmountIs(amount) {\n    return [\n        {\n            trigger: `.tip-screen .total-amount:contains(\"${amount}\")`,\n        },\n    ];\n}\nexport function percentAmountIs(percent, amount) {\n    return [\n        {\n            trigger: `.tip-screen .percentage:contains(\"${percent}\") ~ .amount:contains(\"${amount}\")`,\n        },\n    ];\n}\nexport function inputAmountIs(amount) {\n    return [\n        {\n            trigger: `.tip-screen .custom-amount-form input[data-amount=\"${amount}\"]`,\n        },\n    ];\n}\n", "/** @odoo-module **/\n\nimport { waitFor } from \"@odoo/hoot-dom\";\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nconst todayDate = function () {\n    const now = new Date();\n    const year = now.getFullYear();\n    const month = String(now.getMonth() + 1).padStart(2, \"0\");\n    const day = String(now.getDate()).padStart(2, \"0\");\n\n    return `${month}/${day}/${year} 10:00:00`;\n};\n\nregistry.category(\"web_tour.tours\").add(\"calendar_appointments_hour_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"calendar.mail_menu_calendar\"]',\n            content: \"Open Calendar\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-calendar-button-new\",\n            content: \"Create a new event\",\n            run: \"click\",\n        },\n        {\n            trigger: \"#name_0\",\n            content: \"Give a name to the new event\",\n            run: \"edit TEST EVENT\",\n        },\n        {\n            trigger: \"#start_0\",\n            content: \"Give a date to the new event\",\n            run: `edit ${todayDate()}`,\n        },\n        {\n            trigger: \"#duration_0\",\n            content: \"Give a duration to the new event\",\n            run: \"edit 02:00\",\n        },\n        {\n            trigger: \".fa-cloud-upload\",\n            content: \"Save the new event\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_back_button\",\n            content: \"Go back to Calendar view\",\n            run: \"click\",\n        },\n        {\n            trigger: \".scale_button_selection\",\n            content: \"Click to change calendar view\",\n            run: \"click\",\n        },\n        {\n            trigger: '.dropdown-item:contains(\"Month\")',\n            content: \"Change the calendar view to Month\",\n            run: \"click\",\n        },\n        {\n            trigger: \".fc-col-header-cell.fc-day.fc-day-mon\",\n            content: \"Check the day is properly displayed\",\n            run: \"click\",\n        },\n        {\n            trigger: '.fc-time:contains(\"10:00\")',\n            content: \"Check the time is properly displayed\",\n            run: \"click\",\n        },\n        {\n            trigger: '.o_event_title:contains(\"TEST EVENT\")',\n            content: \"Check the event title\",\n        },\n    ],\n});\n\nconst clickOnTheEvent = {\n    content: \"Click on the event (focus + waiting)\",\n    trigger: 'a .fc-event-main:contains(\"Test Event\")',\n    async run(actions) {\n        await actions.click();\n        await new Promise((r) => setTimeout(r, 1000));\n        const custom = document.querySelector(\".o_cw_custom_highlight\");\n        if (custom) {\n            custom.click();\n            await waitFor(\".o_cw_popover\", { timeout: 8000 });\n        }\n    },\n};\n\nregistry.category(\"web_tour.tours\").add(\"test_calendar_delete_tour\", {\n    steps: () => [\n        {\n            content: \"Select filter (everybody)\",\n            trigger: 'div[data-value=\"all\"] input',\n            run: \"click\",\n        },\n        clickOnTheEvent,\n        {\n            content: \"Delete the event\",\n            trigger: \".o_cw_popover_delete\",\n            run: \"click\",\n        },\n        {\n            content: \"Validate the deletion\",\n            trigger: 'button:contains(\"Delete\")',\n            run: \"click\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_calendar_decline_tour\", {\n    steps: () => [\n        clickOnTheEvent,\n        {\n            content: \"Delete the event\",\n            trigger: \".o_cw_popover_delete\",\n            run: \"click\",\n        },\n        {\n            content: \"Wait declined status\",\n            trigger: \".o_attendee_status_declined\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_calendar_decline_with_everybody_filter_tour\", {\n    steps: () => [\n        {\n            content: \"Select filter (everybody)\",\n            trigger: 'div[data-value=\"all\"] input',\n            run: \"click\",\n        },\n        clickOnTheEvent,\n        {\n            content: \"Delete the event\",\n            trigger: \".o_cw_popover_delete\",\n            run: \"click\",\n        },\n        {\n            content: \"Select filter (everybody)\",\n            trigger: 'div[data-value=\"all\"] input',\n            run: \"click\",\n        },\n        {\n            content: \"Wait declined status\",\n            trigger: \".o_attendee_status_declined\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\n    import { registry } from \"@web/core/registry\";\n    import { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n    registry.category(\"web_tour.tours\").add('debug_menu_set_defaults', {\n        url: '/odoo?debug=1',\n        steps: () => [\n            ...stepUtils.goToAppSteps('contacts.menu_contacts', \"Open the contacts menu\"),\n            {\n                content: \"Create a new contact\",\n                trigger: '.o-kanban-button-new',\n                run: \"click\",\n            },\n            {\n                content: \"Check that Company is checked by default, and not Individual\",\n                trigger: '.o_field_widget[name=\"company_type\"] input[data-value=\"company\"]:checked',\n            },\n            {\n                content: \"Select the individual radio button\",\n                trigger: '.o_field_widget[name=\"company_type\"] input[data-value=\"person\"]',\n                run: \"click\",\n            },\n            {\n                content: \"Open the debug menu\",\n                trigger: '.o_debug_manager button',\n                run: \"click\",\n            },\n            {\n                content: \"Click the Set Defaults menu\",\n                trigger: '.dropdown-item:contains(Set Default Values)',\n                run: \"click\",\n            },\n            {\n                content: \"Choose Company Type = Individual\",\n                trigger: '#formview_default_fields',\n                run: function () {\n                    const element_field = document.querySelector('select#formview_default_fields');\n                    element_field.value = 'company_type';\n                    element_field.dispatchEvent(new Event(\"change\"));\n                },\n            },\n            {\n                content: \"Check that there are conditions\",\n                trigger: '#formview_default_conditions',\n                run: \"click\",\n            },\n            {\n                content: \"Save the new default\",\n                trigger: 'footer button:contains(Save default)',\n                run: \"click\",\n            },\n            {\n                content: \"Discard the contact creation\",\n                trigger: 'button.o_form_button_cancel',\n                run: \"click\",\n            },\n            {\n                trigger: '.o_action_manager > .o_kanban_view .o-kanban-button-new',\n                run: \"click\",\n            },\n            {\n                content: \"Check that Individual is checked instead of Company\",\n                trigger: '.o_field_widget[name=\"company_type\"] input[data-value=\"person\"]:checked',\n            },\n            {\n                content: \"Discard the contact creation\",\n                trigger: 'button.o_form_button_cancel',\n                run: \"click\",\n            },\n            {\n                content: \"Wait for discard\",\n                trigger: '.o_control_panel .o-kanban-button-new',\n            },\n        ]\n    });\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('create_crm_team_tour', {\n    url: \"/odoo\",\n    steps: () => [\n    ...stepUtils.goToAppSteps('crm.crm_menu_root'),\n{\n    trigger: 'button[data-menu-xmlid=\"crm.crm_menu_config\"]',\n    run: \"click\",\n}, {\n    trigger: 'a[data-menu-xmlid=\"crm.crm_team_config\"]',\n    run: \"click\",\n}, {\n    trigger: 'button.o_list_button_add',\n    run: \"click\",\n}, {\n    trigger: 'input[id=\"name_0\"]',\n    run: \"edit My CRM Team\",\n}, {\n    trigger: 'button.o-kanban-button-new',\n    run: \"click\",\n}, {\n    trigger: 'div.modal-dialog tr:contains(\"Test Salesman\") input.form-check-input',\n    run: 'click',\n}, {\n    trigger: 'div.modal-dialog tr:contains(\"Test Sales Manager\") input.form-check-input',\n    run: 'click',\n}, {\n    trigger: 'div.modal-dialog tr:contains(\"Test Sales Manager\") input.form-check-input:checked',\n}, {\n    trigger: '.o_list_selection_box:contains(2)',\n}, {\n    trigger: 'button.o_select_button',\n    run: \"click\",\n},\n    ...stepUtils.saveForm()\n]});\n", "/** @odoo-module **/\n\n    import { registry } from \"@web/core/registry\";\n    import { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n    registry.category(\"web_tour.tours\").add('crm_email_and_phone_propagation_edit_save', {\n        url: '/odoo',\n        steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"crm.crm_menu_root\"]',\n            content: 'open crm app',\n            run: \"click\",\n        }, {\n            trigger: '.o_kanban_record:contains(Test Lead Propagation)',\n            content: 'Open the first lead',\n            run: 'click',\n        },\n        {\n            trigger: \".o_form_editable .o_field_widget[name=email_from] input\",\n        },\n        {\n            trigger: \".o_form_button_save:not(:visible)\",\n            content: 'Save the lead',\n            run: 'click',\n        },\n    ]});\n", "/** @odoo-module */\nimport { queryAll } from \"@odoo/hoot-dom\";\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nconst today = luxon.DateTime.now();\n\nregistry.category(\"web_tour.tours\").add('crm_forecast', {\n    url: \"/odoo\",\n    steps: () => [\n    stepUtils.showAppsMenuItem(),\n    {\n        trigger: \".o_app[data-menu-xmlid='crm.crm_menu_root']\",\n        content: \"open crm app\",\n        run: \"click\",\n    }, {\n        trigger: '.dropdown-toggle[data-menu-xmlid=\"crm.crm_menu_report\"]',\n        content: 'Open Reporting menu',\n        run: 'click',\n    }, {\n        trigger: '.dropdown-item[data-menu-xmlid=\"crm.crm_menu_forecast\"]',\n        content: 'Open Forecast menu',\n        run: 'click',\n    }, {\n        trigger: '.o_column_quick_create:contains(Add next month)',\n        content: 'Wait page loading',\n    }, {\n        trigger: \".o-kanban-button-new\",\n        content: \"click create\",\n        run: 'click',\n    }, {\n        trigger: \".o_field_widget[name=name] input\",\n        content: \"complete name\",\n        run: \"edit Test Opportunity 1\",\n    }, {\n        trigger: \".o_field_widget[name=expected_revenue] input\",\n        content: \"complete expected revenue\",\n        run: \"edit 999999\",\n    }, {\n        trigger: \"button.o_kanban_edit\",\n        content: \"edit lead\",\n        run: \"click\",\n    }, {\n        trigger: \"div[name=date_deadline] input\",\n        content: \"complete expected closing\",\n        run: `edit ${today.toFormat(\"MM/dd/yyyy\")}`,\n    }, {\n        trigger: \"div[name=date_deadline] input\",\n        content: \"click to make the datepicker disappear\",\n        run: \"click\"\n    }, {\n        trigger: '.o_back_button',\n        content: 'navigate back to the kanban view',\n        tooltipPosition: \"bottom\",\n        run: \"click\"\n    }, {\n        trigger: \".o_kanban_record:contains('Test Opportunity 1')\",\n        content: \"move to the next month\",\n        async run(helpers) {\n            const undefined_groups = queryAll('.o_column_title:contains(\"None\")').length;\n            await helpers.drag_and_drop(`.o_opportunity_kanban .o_kanban_group:eq(${1 + undefined_groups})`);\n        },\n    }, {\n        trigger: \".o_kanban_record:contains('Test Opportunity 1')\",\n        content: \"edit lead\",\n        run: \"click\"\n    }, {\n        trigger: \".o_field_widget[name=date_deadline] input\",\n        content: \"complete expected closing\",\n        run: `edit ${today.plus({ months: 5 }).startOf(\"month\").minus({ days: 1 }).toFormat(\"MM/dd/yyyy\")} && press Escape`,\n    }, {\n        trigger: \".o_field_widget[name=probability] input\",\n        content: \"max out probability\",\n        run: \"edit 100\",\n    }, {\n        trigger: '.o_back_button',\n        content: 'navigate back to the kanban view',\n        tooltipPosition: \"bottom\",\n        run: \"click\"\n    }, {\n        trigger: '.o_kanban_add_column',\n        content: \"add next month\",\n        run: \"click\"\n    }, {\n        trigger: \".o_kanban_record:contains('Test Opportunity 1'):contains('Won')\",\n        content: \"assert that the opportunity has the Won banner\",\n    }\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"crm_rainbowman\", {\n    url: \"/odoo\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: \".o_app[data-menu-xmlid='crm.crm_menu_root']\",\n            content: \"open crm app\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-kanban-button-new\",\n            content: \"click create\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_field_widget[name=name] input\",\n            content: \"complete name\",\n            run: \"edit Test Lead 1\",\n        },\n        {\n            trigger: \".o_field_widget[name=expected_revenue] input\",\n            content: \"complete expected revenue\",\n            run: \"edit 999999997\",\n        },\n        {\n            trigger: \"button.o_kanban_add\",\n            content: \"create lead\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_kanban_record:contains('Test Lead 1')\",\n            content: \"move to won stage\",\n            run: \"drag_and_drop (.o_opportunity_kanban .o_kanban_group:has(.o_column_title:contains('Won')))\",\n        },\n        {\n            trigger: \".o_reward_rainbow\",\n        },\n        {\n            // This step and the following simulates the fact that after drag and drop,\n            // from the previous steps, a click event is triggered on the window element,\n            // which closes the currently shown .o_kanban_quick_create.\n            trigger: \".o_kanban_renderer\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_kanban_renderer:not(:has(.o_kanban_quick_create))\",\n        },\n        {\n            trigger: \".o-kanban-button-new\",\n            content: \"create second lead\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_field_widget[name=name] input\",\n            content: \"complete name\",\n            run: \"edit Test Lead 2\",\n        },\n        {\n            trigger: \".o_field_widget[name=expected_revenue] input\",\n            content: \"complete expected revenue\",\n            run: \"edit 999999998\",\n        },\n        {\n            trigger: \"button.o_kanban_add\",\n            content: \"create lead\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_kanban_record:contains('Test Lead 2')\",\n        },\n        {\n            // move first test back to new stage to be able to test rainbowman a second time\n            trigger: \".o_kanban_record:contains('Test Lead 1')\",\n            content: \"move back to new stage\",\n            run: \"drag_and_drop .o_opportunity_kanban .o_kanban_group:eq(0) \",\n        },\n        {\n            trigger: \".o_kanban_record:contains('Test Lead 2')\",\n            content: \"click on second lead\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_statusbar_status button[data-value='4']\",\n            content: \"move lead to won stage\",\n            run: \"click\",\n        },\n        {\n            content: \"wait for save completion\",\n            trigger: \".o_form_readonly, .o_form_saved\",\n        },\n        {\n            trigger: \".o_reward_rainbow\",\n        },\n        {\n            trigger: \".o_statusbar_status button[data-value='1']\",\n            content: \"move lead to previous stage & rainbowman appears\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button[name=action_set_won_rainbowman]\",\n            content: \"click button mark won\",\n            run: \"click\",\n        },\n        {\n            content: \"wait for save completion\",\n            trigger: \".o_form_readonly, .o_form_saved\",\n        },\n        {\n            trigger: \".o_reward_rainbow\",\n        },\n        {\n            trigger: \".o_menu_brand\",\n            content: \"last rainbowman appears\",\n        },\n    ],\n});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('personal_stage_tour', {\n    url: '/odoo',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    trigger: '.o_app[data-menu-xmlid=\"project.menu_main_pm\"]',\n    run: \"click\",\n}, {\n    content: \"Open Pig Project\",\n    trigger: '.o_kanban_record:contains(\"Pig\")',\n    run: \"click\",\n}, {\n    // Default is grouped by stage, user should not be able to create/edit a column\n    content: \"Check that there is no create column\",\n    trigger: \"body:not(.o_column_quick_create)\",\n}, {\n    content: \"Check that there is no create column\",\n    trigger: \"body:not(.o_column_edit)\",\n}, {\n    content: \"Check that there is no create column\",\n    trigger: \"body:not(.o_column_delete)\",\n}, {\n    content: \"Go to tasks\",\n    trigger: 'button[data-menu-xmlid=\"project.menu_project_management\"]',\n    run: \"click\",\n},{\n    content: \"Go to my tasks\", // My tasks is grouped by personal stage by default\n    trigger: 'a[data-menu-xmlid=\"project.menu_project_management_my_tasks\"]',\n    run: \"click\",\n}, {\n    content: \"Check that we can create a new stage\",\n    trigger: '.o_column_quick_create .o_quick_create_folded',\n    run: \"click\",\n}, {\n    content: \"Create a new personal stage\",\n    trigger: 'input.form-control',\n    run: \"edit Never\",\n}, {\n    content: \"Confirm create\",\n    trigger: '.o_kanban_add',\n    run: \"click\",\n}, {\n    content: \"Check that column exists && Open column edit dropdown\",\n    trigger: \".o_kanban_header:contains(Never)\",\n    run: \"hover && click .o_kanban_header:contains(Never) .dropdown-toggle\",\n}, {\n    content: \"Try editing inbox\",\n    trigger: \".dropdown-item.o_column_edit\",\n    run: \"click\",\n}, {\n    content: \"Change title\",\n    trigger: 'div.o_field_char[name=\"name\"] input',\n    run: \"edit ((Todo))\",\n}, {\n    content: \"Save changes\",\n    trigger: '.btn-primary:contains(\"Save\")',\n    run: \"click\",\n}, {\n    content: \"Check that column was updated\",\n    trigger: '.o_kanban_header:contains(\"Todo\")',\n    run: \"click\",\n}, {\n    content: \"Create a personal task from the quick create form\",\n    trigger: '.o-kanban-button-new',\n    run: \"click\",\n}, {\n    content: \"Create a new personal task\",\n    trigger: 'input.o_input:not(.o_searchview_input)',\n    run: \"edit New Test Task\",\n}, {\n    content: \"Confirm create\",\n    trigger: '.o_kanban_add',\n    run: \"click\",\n}, {\n    content: \"Check that task exists\",\n    trigger: '.o_kanban_record:contains(\"New Test Task\")',\n}]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('burndown_chart_tour', {\n    url: '/odoo',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    trigger: '.o_app[data-menu-xmlid=\"project.menu_main_pm\"]',\n    run: \"click\",\n}, {\n    content: 'Open \"Burndown Chart Test\" project menu',\n            trigger: \".o_kanban_record:contains(Burndown Chart Test)\",\n    run: `hover && click .o_kanban_record:contains(Burndown Chart Test) .o_dropdown_kanban .dropdown-toggle`,\n}, {\n    content: `Open \"Burndown Chart Test\" project's \"Burndown Chart\" view`,\n    trigger: '.o_kanban_manage_reporting div[role=\"menuitem\"] a:contains(\"Burndown Chart\")',\n    run: \"click\",\n},\n{\n    trigger: \".o_graph_renderer\",\n},\n{\n    content: 'The sort buttons are not rendered',\n    trigger: '.o_graph_renderer:not(:has(.btn-group[role=toolbar][aria-label=\"Sort graph\"]))',\n    run: \"click\",\n}, {\n    content: 'Remove the project search \"Burndown Chart Test\"',\n    trigger: \".o_searchview_facet:contains(Burndown Chart Test)\",\n    run: \"hover && click .o_facet_remove\",\n}, {\n    content: 'Search Burndown Chart',\n    trigger: 'input.o_searchview_input',\n    run: `edit Burndown`,\n}, {\n    content: 'Validate search',\n    trigger: '.o_searchview_autocomplete .o_menu_item:contains(\"Project\")',\n    run: \"click\",\n}, {\n    content: 'Remove the group by \"Date: Month > Stage\"',\n    trigger: '.o_searchview_facet:contains(\"Stage\") .o_facet_remove',\n    run: \"click\",\n}, {\n    content: 'A \"The Burndown Chart must be grouped by Date and Stage\" notification is shown when trying to remove the group by \"Date: Month > Stage\"',\n    trigger: '.o_notification_manager .o_notification:contains(\"The report should be grouped either by \") button.o_notification_close',\n    run: \"click\",\n}, {\n    content: 'Open the search panel menu',\n    trigger: '.o_control_panel .o_searchview_dropdown_toggler',\n    run: \"click\",\n}, {\n    content: 'The Stage group menu item is visible',\n    trigger: '.o_group_by_menu .o_menu_item:contains(\"Stage\")',\n    run: \"click\",\n}, {\n    content: 'Open the Date group by sub menu',\n    trigger: '.o_group_by_menu button.o_menu_item:contains(\"Date\")',\n    run: \"click\",\n}, {\n    content: 'Click on the selected Date sub menu',\n    trigger: '.o_group_by_menu button.o_menu_item:contains(\"Date\") + * .dropdown-item.selected',\n    run: \"click\",\n}, {\n    content: 'A \"The Burndown Chart must be grouped by Date\" notification is shown when trying to remove the group by \"Date: Month > Stage\"',\n    trigger: '.o_notification_manager .o_notification:contains(\"The Burndown Chart must be grouped by Date\") button.o_notification_close',\n    run: \"click\",\n}, {\n    content: 'Open the search panel menu',\n    trigger: '.o_control_panel .o_searchview_dropdown_toggler',\n    run: \"click\",\n}, {\n    content: 'Open the Date filter sub menu',\n    trigger: '.o_filter_menu button.o_menu_item:contains(\"Date\")',\n    run: \"click\",\n}, {\n    content: 'Click on the first Date filter sub menu',\n    trigger: '.o_filter_menu .o_menu_item:contains(\"Date\") + * .dropdown-item:first-child',\n    run: \"click\",\n}, {\n    content: 'Close the Date filter menu',\n    trigger: '.o_graph_renderer',\n    run: \"click\",\n}, {\n    content: 'Open the search panel menu',\n    trigger: '.o_control_panel .o_searchview_dropdown_toggler',\n    run: \"click\",\n}, {\n    content: 'The comparison menu is not rendered',\n    trigger: ':not(:has(.o_comparison_menu))',\n}]});\n", "import { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nconst projectSharingSteps = [...stepUtils.goToAppSteps(\"project.menu_main_pm\", 'Go to the Project App.'), {\n    trigger: \".o_kanban_record:contains(Project Sharing)\",\n    content: 'Open the project dropdown.',\n    run: \"hover && click .o_kanban_record:contains(Project Sharing) .o_dropdown_kanban .dropdown-toggle\",\n}, {\n    trigger: '.dropdown-menu a:contains(\"Share\")',\n    content: 'Start editing the project.',\n    run: \"click\",\n}, {\n    trigger: '.modal div[name=\"collaborator_ids\"] .o_field_x2many_list_row_add > a',\n    content: 'Add a collaborator to the project.',\n    run: \"click\",\n}, {\n    trigger: '.modal div[name=\"collaborator_ids\"] div[name=\"partner_id\"] input',\n    content: 'Select the user portal as collaborator to the \"Project Sharing\" project.',\n    run: \"edit Georges\",\n}, {\n    trigger: '.ui-autocomplete a.dropdown-item:contains(\"Georges\")',\n    run: \"click\",\n}, {\n    trigger: '.modal div[name=\"collaborator_ids\"] div[name=\"access_mode\"] select',\n    content: 'Select \"Edit\" as Access mode in the \"Share Project\" wizard.',\n    run: 'select \"edit\"',\n}, {\n    trigger: '.modal footer > button[name=\"action_share_record\"]',\n    content: 'Confirm the project sharing with this portal user.',\n    run: \"click\",\n},\n{\n    trigger: \"body:not(:has(.modal))\",\n},\n{\n    trigger: '.o_web_client',\n    content: 'Go to project portal view to select the \"Project Sharing\" project',\n    run: function () {\n        window.location.href = window.location.origin + '/my/projects';\n    },\n    expectUnloadPage: true,\n}, {\n    id: 'project_sharing_feature',\n    trigger: 'table > tbody > tr a:has(span:contains(Project Sharing))',\n    content: 'Select \"Project Sharing\" project to go to project sharing feature for this project.',\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    trigger: ':iframe .o_project_sharing',\n    content: 'Wait the project sharing feature be loaded',\n}, {\n    trigger: ':iframe button.o-kanban-button-new',\n    content: 'Click \"Create\" button',\n    run: 'click',\n}, {\n    trigger: ':iframe .o_kanban_quick_create .o_field_widget[name=\"name\"] input',\n    content: 'Create Task',\n    run: \"edit Test Create Task\",\n}, {\n    content: \"Check that task stages cannot be drag and dropped\",\n    trigger: ':iframe .o_kanban_group:not(.o_group_draggable)',\n}, {\n    trigger: ':iframe .o_kanban_quick_create .o_kanban_edit',\n    content: 'Go to the form view of this new task',\n    run: \"click\",\n}, {\n    trigger: ':iframe div[name=\"stage_id\"] div.o_statusbar_status button[aria-checked=\"false\"]:contains(Done)',\n    content: 'Change the stage of the task.',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o-mail-Composer-input',\n    content: 'Write a message in the chatter of the task',\n    run: \"edit I create a new task for testing purpose.\",\n}, {\n    trigger: ':iframe .o-mail-Composer-send:enabled',\n    content: 'Send the message',\n    run: \"click\",\n}, {\n    trigger: ':iframe ol.breadcrumb > li.o_back_button > a:contains(Project Sharing)',\n    content: 'Go back to the kanban view',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o_searchview_dropdown_toggler',\n    content: 'open the search panel menu',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o_filter_menu .dropdown-item:first-child',\n    content: 'click on the first item in the filter menu',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o_group_by_menu .dropdown-item:first-child',\n    content: 'click on the first item in the group by menu',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o_favorite_menu .o_add_favorite',\n    content: 'open accordion \"save current search\" in favorite menu',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o_favorite_menu .o_accordion_values .o_save_favorite',\n    content: 'click to \"save\" button in favorite menu',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o_filter_menu .dropdown-item:first-child',\n    content: 'click on the first item in the filter menu',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o_group_by_menu .dropdown-item:first-child',\n    content: 'click on the first item in the group by menu',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o_favorite_menu .o_accordion_values .o_save_favorite',\n    content: 'click to \"save\" button in favorite menu',\n    run: \"click\",\n}, {\n    trigger: ':iframe button.o_switch_view.o_list',\n    content: 'Go to the list view',\n    run: \"click\",\n}, {\n    trigger: ':iframe .o_list_view',\n}, {\n    trigger: ':iframe .o_optional_columns_dropdown_toggle',\n    run: \"click\",\n}, {\n    trigger: ':iframe .dropdown-item:contains(\"Milestone\")',\n}, {\n    trigger: ':iframe .o_list_view',\n    content: 'Check the list view',\n}];\n\nregistry.category(\"web_tour.tours\").add('project_sharing_tour', {\n    url: '/odoo',\n    steps: () => {\n        return projectSharingSteps;\n    }\n});\n\nregistry.category(\"web_tour.tours\").add(\"portal_project_sharing_tour\", {\n    url: \"/my/projects\",\n    steps: () => {\n        // The begining of the project sharing feature\n        const projectSharingStepIndex = projectSharingSteps.findIndex(s => s?.id === 'project_sharing_feature');\n        return projectSharingSteps.slice(projectSharingStepIndex, projectSharingSteps.length);\n    }\n});\n\nregistry.category(\"web_tour.tours\").add(\"project_sharing_with_blocked_task_tour\", {\n    url: \"/my/projects\",\n    steps: () => [{\n        trigger: 'table > tbody > tr a:has(span:contains(\"Project Sharing\"))',\n        content: 'Click on the portal project.',\n        run: \"click\",\n        expectUnloadPage: true,\n    }, {\n        trigger: ':iframe article.o_kanban_record',\n        content: 'Click on the task',\n        run: \"click\",\n    }, {\n        trigger: ':iframe a:contains(\"Blocked By\")',\n        content: 'Go to the Block by task tab',\n        run: \"click\",\n    }, {\n        trigger: ':iframe i:contains(\"This task is currently blocked by\")',\n        content: 'Check that the blocked task is not visible',\n    },\n]});\n\nregistry.category(\"web_tour.tours\").add(\"portal_project_sharing_tour_with_disallowed_milestones\", {\n    url: \"/my/projects\",\n    steps: () => [\n        {\n            id: \"project_sharing_feature\",\n            trigger: \"table > tbody > tr a:has(span:contains(Project Sharing))\",\n            content:\n                'Select \"Project Sharing\" project to go to project sharing feature for this project.',\n            run: \"click\",\n            expectUnloadPage: true,\n        },\n        {\n            trigger: \":iframe .o_project_sharing\",\n            content: \"Wait the project sharing feature be loaded\",\n        },\n        {\n            trigger: \":iframe button.o_switch_view.o_list\",\n            content: \"Go to the list view\",\n            run: \"click\",\n        },\n        {\n            trigger: \":iframe .o_list_view\",\n        },\n        {\n            trigger: \":iframe .o_optional_columns_dropdown_toggle\",\n            run: \"click\",\n        },\n        {\n            trigger: \":iframe .dropdown-item\",\n        },\n        {\n            trigger: \":iframe .dropdown-menu\",\n            run: function () {\n                const optionalFields = Array.from(\n                    this.anchor.ownerDocument.querySelectorAll(\".dropdown-item\")\n                ).map((e) => e.textContent);\n\n                if (optionalFields.includes(\"Milestone\")) {\n                    throw new Error(\n                        \"the Milestone field should be absent as allow_milestones is set to False\"\n                    );\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_04_project_sharing_chatter_message_reactions\", {\n    url: \"/my/projects\",\n    steps: () => [\n        { trigger: \"table > tbody > tr a:has(span:contains(Project Sharing))\", run: \"click\" },\n        { trigger: \":iframe .o_project_sharing\" },\n        { trigger: \":iframe .o_kanban_record:contains('Test Task with messages')\", run: \"click\" },\n        { trigger: \":iframe .o-mail-Message\" },\n        { trigger: \":iframe .o-mail-Message .o-mail-MessageReaction:contains('\ud83d\udc40')\" },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nfunction changeFilter(filterName) {\n    return [\n        {\n            trigger: \".o_control_panel_actions .o_searchview_dropdown_toggler\",\n            content: \"open searchview menu\",\n            run: \"click\",\n        },\n        {\n            trigger: `.o_favorite_menu .dropdown-item span:contains(\"${filterName}\")`,\n            run: \"click\",\n        },\n        {\n            trigger: \".o_control_panel_actions .o_searchview_dropdown_toggler\",\n            content: \"close searchview menu\",\n            run: \"click\",\n        },\n    ];\n}\n\nregistry.category(\"web_tour.tours\").add(\"project_tags_filter_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"project.menu_main_pm\"]',\n            run: \"click\",\n        },\n        ...changeFilter(\"Corkscrew tail tag filter\"),\n        {\n            trigger:\n                '.o_kanban_group:has(.o_kanban_header:has(span:contains(\"goat\"))):not(:has(.o_kanban_record))',\n            content: \"check that the corkscrew tail filter has taken effect\",\n        },\n        {\n            trigger:\n                '.o_kanban_group:has(.o_kanban_header:has(span:contains(\"pig\"))) .o_kanban_record:has(span:contains(\"Pigs\"))',\n            content: \"check that the corkscrew tail filter has taken effect\",\n        },\n        ...changeFilter(\"horned tag filter\"),\n        {\n            trigger:\n                '.o_kanban_group:has(.o_kanban_header:has(span:contains(\"pig\"))):not(:has(.o_kanban_record))',\n            content: \"check that the horned filter has taken effect\",\n        },\n        {\n            trigger:\n                '.o_kanban_group:has(.o_kanban_header:has(span:contains(\"goat\"))) .o_kanban_record:has(span:contains(\"Goats\"))',\n            content: \"check that the horned filter has taken effect\",\n        },\n        ...changeFilter(\"4 Legged tag filter\"),\n        {\n            trigger:\n                '.o_kanban_group:has(.o_kanban_header:has(span:contains(\"pig\"))) .o_kanban_record:has(span:contains(\"Pigs\"))',\n            content: \"check that the 4 legged filter has taken effect\",\n        },\n        {\n            trigger:\n                '.o_kanban_group:has(.o_kanban_header:has(span:contains(\"goat\"))) .o_kanban_record:has(span:contains(\"Goats\"))',\n            content: \"check that the 4 legged filter has taken effect\",\n        },\n    ],\n});\n", "/**\n * Project Task history tour.\n * Features tested:\n * - Create / edit a task description and ensure revisions are created on write\n * - Open the history dialog and check that the revisions are correctly shown\n * - Select a revision and check that the content / comparison are correct\n * - Click the restore button and check that the content is correctly restored\n */\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nconst baseDescriptionContent = \"Test project task history version\";\nfunction changeDescriptionContentAndSave(newContent) {\n    const newText = `${baseDescriptionContent} ${newContent}`;\n    return [\n        {\n            // force focus on editable so editor will create initial p (if not yet done)\n            trigger: \"div.note-editable.odoo-editor-editable\",\n            run: \"click\",\n        },\n        {\n            trigger: `div.note-editable[spellcheck='true'].odoo-editor-editable`,\n            run: `editor ${newText}`,\n        },\n        ...stepUtils.saveForm(),\n    ];\n}\n\nfunction insertEditorContentAndSave(newContent) {\n    return [\n        {\n            // force focus on editable so editor will create initial p (if not yet done)\n            trigger: \"div.note-editable.odoo-editor-editable\",\n            run: \"click\",\n        },\n        {\n            trigger: `div.note-editable[spellcheck='true'].odoo-editor-editable`,\n            run: async function () {\n                // Insert content as html and make the field dirty\n                const div = document.createElement(\"div\");\n                div.appendChild(document.createTextNode(newContent));\n                this.anchor.removeChild(this.anchor.firstChild);\n                this.anchor.appendChild(div);\n                this.anchor.dispatchEvent(new Event(\"input\", { bubbles: true }));\n            },\n        },\n        ...stepUtils.saveForm(),\n    ];\n}\n\nregistry.category(\"web_tour.tours\").add(\"project_task_history_tour\", {\n    url: \"/odoo\",\n    steps: () => [stepUtils.showAppsMenuItem(), {\n        content: \"Open the project app\",\n        trigger: \".o_app[data-menu-xmlid='project.menu_main_pm']\",\n        run: \"click\",\n    },\n    {\n        content: \"Open Test History Project\",\n        trigger: \".o_kanban_view .o_kanban_record:contains(Test History Project)\",\n        run: \"click\",\n    },\n    {\n        content: \"Open Test History Task\",\n        trigger: \".o_kanban_view .o_kanban_record:contains(Test History Task)\",\n        run: \"click\",\n    },\n        // edit the description content 3 times and save after each edit\n        ...changeDescriptionContentAndSave(\"0\"),\n        ...changeDescriptionContentAndSave(\"1\"),\n        ...changeDescriptionContentAndSave(\"2\"),\n        ...changeDescriptionContentAndSave(\"3\"),\n    {\n        content: \"Go back to kanban view of tasks. this step is added because it takes some time to save the changes, so it's a sort of timeout to wait a bit for the save\",\n        trigger: \".o_back_button a\",\n        run: \"click\",\n    },\n    {\n        content: \"Open Test History Task\",\n        trigger: \".o_kanban_view .o_kanban_record:contains(Test History Task)\",\n        run: \"click\",\n    },\n    {\n        content: \"Open History Dialog\",\n        trigger: \".o_form_view .o_cp_action_menus i.fa-cog\",\n        run: \"click\",\n    },\n    {\n        trigger: \".dropdown-menu\",\n    },\n    {\n        content: \"Open History Dialog\",\n        trigger: \".o_menu_item i.fa-history\",\n        run: \"click\",\n    }, {\n        content: \"Verify that 4 revisions are displayed (default empty description after the creation of the task + 3 edits)\",\n        trigger: \".modal .html-history-dialog .revision-list .btn\",\n        run: function () {\n            const items = document.querySelectorAll(\".revision-list .btn\");\n            if (items.length !== 4) {\n                console.error(\"Expect 4 Revisions in the history dialog, got \" + items.length);\n            }\n        },\n    }, {\n        content: \"Verify that the active revision (revision 4) is related to the third edit\",\n        trigger: `.modal .history-container .tab-pane:contains(\"${baseDescriptionContent} 2\")`,\n        run: \"click\",\n    }, {\n        content: \"Go to the third revision related to the second edit\",\n        trigger: \".modal .html-history-dialog .revision-list .btn:nth-child(2)\",\n        run: \"click\",\n    }, {\n        content: \"Verify that the active revision is the one clicked in the previous step\",\n        trigger: `.modal .history-container .tab-pane:contains(\"${baseDescriptionContent} 1\")`,\n        run: \"click\",\n    }, {\n        content: \"Go to comparison tab\",\n        trigger: \".modal .history-container .nav-item:contains(Comparison) a\",\n        run: \"click\",\n    }, {\n        content: \"Verify comparaison text\",\n        trigger: \".modal .history-container .tab-pane\",\n        run: function () {\n            const comparaisonHtml = this.anchor.innerHTML;\n            const correctHtml = `<added>${baseDescriptionContent} 1</added><removed>${baseDescriptionContent} 3</removed>`;\n            if (!comparaisonHtml.includes(correctHtml)) {\n                console.error(`Expect comparison to be ${correctHtml}, got ${comparaisonHtml}`);\n            }\n        },\n    }, {\n        content: \"Click on Restore History btn to get back to the selected revision in the previous step\",\n        trigger: \".modal button.btn-primary:contains(/^Restore history$/)\",\n        run: \"click\",\n    }, {\n        content: \"Verify the confirmation dialog is opened\",\n        trigger: \".modal button.btn-primary:contains(/^Restore$/)\",\n        run: \"click\",\n    }, {\n        content: \"Verify that the description contains the right text after the restore\",\n        trigger: `div.note-editable.odoo-editor-editable`,\n        run: function () {\n            const p = this.anchor?.innerText;\n            const expected = `${baseDescriptionContent} 1`;\n            if (p !== expected) {\n                console.error(`Expect description to be ${expected}, got ${p}`);\n            }\n        }\n    }, {\n        content: \"Go back to projects view.\",\n        trigger: 'a[data-menu-xmlid=\"project.menu_projects\"]',\n        run: \"click\",\n    }, {\n        trigger: \".o_kanban_view\",\n    }, {\n        content: \"Open Test History Project Without Tasks\",\n        trigger: \".o_kanban_view .o_kanban_record:contains(Without tasks project)\",\n        run: \"click\",\n    }, {\n        trigger: \".o_kanban_project_tasks\",\n    }, {\n        content: \"Switch to list view\",\n        trigger: \".o_switch_view.o_list\",\n        run: \"click\",\n    }, {\n        content: \"Create a new task.\",\n        trigger: '.o_list_button_add',\n        run: \"click\",\n    }, {\n        trigger: \".o_form_view\",\n    }, {\n        trigger: 'div[name=\"name\"] .o_input',\n        content: 'Set task name',\n        run: 'edit New task',\n    },\n    ...stepUtils.saveForm(),\n        ...changeDescriptionContentAndSave(\"0\"),\n        ...changeDescriptionContentAndSave(\"1\"),\n        ...changeDescriptionContentAndSave(\"2\"),\n        ...changeDescriptionContentAndSave(\"3\"),\n    {\n        trigger: \".o_form_view\",\n    }, {\n        content: \"Open History Dialog\",\n        trigger: \".o_cp_action_menus i.fa-cog\",\n        run: \"click\",\n    }, {\n        trigger: \".dropdown-menu\",\n    }, {\n        content: \"Open History Dialog\",\n        trigger: \".o_menu_item i.fa-history\",\n        run: \"click\",\n    }, {\n        content: \"Close History Dialog\",\n        trigger: \".modal-header .btn-close\",\n        run: \"click\",\n    }, {\n        content: \"Go back to projects view. this step is added because Tour can't be finished with an open form view in edition mode.\",\n        trigger: 'a[data-menu-xmlid=\"project.menu_projects\"]',\n        run: \"click\",\n    }, {\n        content: \"Verify that we are on kanban view\",\n        trigger: 'button.o_switch_view.o_kanban.active',\n    }\n]});\n\nregistry.category(\"web_tour.tours\").add(\"project_task_last_history_steps_tour\", {\n    url: \"/odoo\",\n    steps: () => [stepUtils.showAppsMenuItem(), {\n        content: \"Open the project app\",\n        trigger: \".o_app[data-menu-xmlid='project.menu_main_pm']\",\n        run: \"click\",\n    },\n    {\n        content: \"Open Test History Project\",\n        trigger: \".o_kanban_view .o_kanban_record:contains(Test History Project)\",\n        run: \"click\",\n    },\n    {\n        content: \"Open Test History Task\",\n        trigger: \".o_kanban_view .o_kanban_record:contains(Test History Task)\",\n        run: \"click\",\n    },\n    ...insertEditorContentAndSave(\"0\"),\n    {\n        content: \"Open History Dialog\",\n        trigger: \".o_cp_action_menus i.fa-cog\",\n        run: \"click\",\n    }, {\n        trigger: \".dropdown-menu\",\n    }, {\n        content: \"Open History Dialog\",\n        trigger: \".o_menu_item i.fa-history\",\n        run: \"click\",\n    },\n    {\n        content: \"Open History Dialog\",\n        trigger: \".revision-list a:first-child\",\n        run: \"click\",\n    },\n    {\n        trigger: 'button:contains(\"/^Restore history$/\")',\n        run: \"click\",\n    }, {\n        trigger: '.modal button.btn-primary:contains(/^Restore$/)',\n        run: \"click\",\n    },\n    ...insertEditorContentAndSave(\"2\")\n    ],\n});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('project_test_tour', {\n    url: '/odoo',\n    steps: () => [\n    stepUtils.showAppsMenuItem(), {\n        trigger: '.o_app[data-menu-xmlid=\"project.menu_main_pm\"]',\n        run: \"click\",\n    },\n    {\n        trigger: '.o_project_kanban',\n    },\n    {\n        trigger: '.o-kanban-button-new',\n        run: \"click\",\n    }, {\n        trigger: '.o_project_name input',\n        run: 'edit New Project',\n        id: 'project_creation',\n    }, {\n        trigger: '.o_open_tasks',\n        run: \"click .modal:visible .btn.btn-primary\",\n    }, {\n        trigger: \".o_kanban_project_tasks .o_column_quick_create .input-group input\",\n        run: \"edit New\",\n    }, {\n        isActive: [\"auto\"],\n        trigger: \".o_kanban_project_tasks .o_column_quick_create .o_kanban_add\",\n        run: \"click\",\n    },\n    {\n        trigger: \".o_kanban_group\",\n    },\n    {\n        trigger: \".o_kanban_project_tasks .o_column_quick_create .input-group input\",\n        run: \"edit Done\",\n    }, {\n        isActive: [\"auto\"],\n        trigger: \".o_kanban_project_tasks .o_column_quick_create .o_kanban_add\",\n        run: \"click\",\n    },\n    {\n        trigger: \".o_kanban_group:eq(0)\",\n    },\n    {\n        trigger: '.o-kanban-button-new',\n        run: \"click\",\n    },\n    {\n        trigger: \".o_kanban_project_tasks\",\n    },\n    {\n        trigger: '.o_kanban_quick_create div.o_field_char[name=display_name] input',\n        run: \"edit New task\",\n    }, {\n        trigger: '.o_kanban_quick_create .o_kanban_add',\n        run: \"click\",\n    }, {\n        trigger: '.o_kanban_record span:contains(\"New task\")',\n        run: \"click\",\n    }, {\n        trigger: 'a[name=\"sub_tasks_page\"]',\n        content: 'Open sub-tasks notebook section',\n        run: 'click',\n    }, {\n        trigger: '.o_field_subtasks_one2many .o_list_renderer a[role=\"button\"]',\n        content: 'Add a subtask',\n        run: 'click',\n    }, {\n        trigger: '.o_field_subtasks_one2many div[name=\"name\"] input',\n        content: 'Set subtask name',\n        run: \"edit new subtask\",\n    }, {\n        trigger: \".o_breadcrumb .o_back_button\",\n        content: 'Go back to kanban view',\n        tooltipPosition: \"right\",\n        run: \"click\",\n    }, {\n        trigger: \".o_kanban_record .o_widget_subtask_counter .subtask_list_button\",\n        content: 'open sub-tasks from kanban card',\n        run: \"click\",\n    },\n    {\n        trigger: \".o_widget_subtask_kanban_list .subtask_list\",\n    },\n    {\n        trigger: \".o_kanban_record .o_widget_subtask_kanban_list .subtask_create\",\n        content: 'Create a new sub-task',\n        run: \"click\",\n    },\n    {\n        trigger: \".subtask_create_input\",\n    },\n    {\n        trigger: \".o_kanban_record .o_widget_subtask_kanban_list .subtask_create_input input\",\n        content: 'Give the sub-task a name',\n        run: \"edit newer subtask && press Tab\",\n    },\n    {\n        content: \"wait the new record is created\",\n        trigger: \".o_kanban_record .o_widget_subtask_kanban_list a:contains(newer subtask)\",\n    },\n    {    \n        trigger: \".o_kanban_record .o_widget_subtask_kanban_list .subtask_list_row:first-child .o_field_project_task_state_selection button\",\n        content: 'Change the subtask state',\n        run: \"click\",\n    },\n    {\n        trigger: \".dropdown-menu\",\n    },\n    {\n        trigger: \".dropdown-menu span.text-danger\",\n        content: 'Mark the task as Canceled',\n        run: \"click\",\n    }, {\n        trigger: \".o_kanban_record .o_widget_subtask_counter .subtask_list_button:contains('1/2')\",\n        content: 'Close the sub-tasks list',\n        id: \"quick_create_tasks\",\n        run: \"click\",\n    }, {\n        trigger: '.o_field_text[name=\"name\"] textarea',\n        content: 'Set task name',\n        run: \"edit New task\",\n    }, {\n        trigger: 'div[name=\"user_ids\"].o_field_many2many_tags_avatar input',\n        content: 'Assign the task to you',\n        run: 'click',\n    }, {\n        trigger: 'ul.ui-autocomplete a .o_avatar_many2x_autocomplete',\n        content: 'Assign the task to you',\n        run: \"click\",\n    }, {\n        trigger: 'a[name=\"sub_tasks_page\"]',\n        content: 'Open sub-tasks notebook section',\n        run: 'click',\n    }, {\n        trigger: '.o_field_subtasks_one2many .o_list_renderer a[role=\"button\"]',\n        content: 'Add a subtask',\n        run: 'click',\n    }, {\n        trigger: '.o_field_subtasks_one2many div[name=\"name\"] input',\n        content: 'Set subtask name',\n        run: \"edit new subtask\",\n    },\n    {\n        trigger: '.o_field_many2many_tags_avatar .o_m2m_avatar',\n    },\n    {\n        trigger: 'button[special=\"save\"]',\n        content: 'Save task',\n        run: \"click\",\n    },\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('project_update_tour', {\n    url: '/odoo',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    trigger: '.o_app[data-menu-xmlid=\"project.menu_main_pm\"]',\n    run: \"click\",\n},\n{\n    trigger: \".o_project_kanban\",\n},\n{\n    trigger: '.o-kanban-button-new',\n    run: \"click\",\n}, {\n    trigger: '.o_project_name input',\n    run: \"edit New Project\",\n}, {\n    trigger: '.o_open_tasks',\n    run: \"click .modal:visible .btn.btn-primary\",\n}, {\n    trigger: \".o_kanban_project_tasks .o_column_quick_create .input-group input\",\n    run: \"edit New\",\n}, {\n    isActive: [\"auto\"],\n    trigger: \".o_kanban_project_tasks .o_column_quick_create .o_kanban_add\",\n    run: \"click\",\n},\n{\n    trigger: \".o_kanban_group\",\n},\n{\n    trigger: \".o_kanban_project_tasks .o_column_quick_create .input-group input\",\n    run: \"edit Done\",\n}, {\n    isActive: [\"auto\"],\n    trigger: \".o_kanban_project_tasks .o_column_quick_create .o_kanban_add\",\n    run: \"click\",\n},\n{\n    trigger: \".o_kanban_group:eq(0)\",\n},\n{\n    trigger: '.o-kanban-button-new',\n    run: \"click\",\n},\n{\n    trigger: \".o_kanban_project_tasks\",\n},\n{\n    trigger: '.o_kanban_quick_create div.o_field_char[name=display_name] input',\n    run: \"edit New task\",\n},\n{\n    trigger: \".o_kanban_project_tasks\",\n},\n{\n    trigger: '.o_kanban_quick_create .o_kanban_add',\n    run: \"click\",\n},\n{\n    trigger: \".o_kanban_group:eq(0)\",\n},\n{\n    trigger: '.o-kanban-button-new',\n    run: \"click\",\n},\n{\n    trigger: \".o_kanban_project_tasks\",\n},\n{\n    trigger: '.o_kanban_quick_create div.o_field_char[name=display_name] input',\n    run: \"edit Second task\",\n},\n{\n    trigger: \".o_kanban_project_tasks\",\n},\n{\n    trigger: '.o_kanban_quick_create .o_kanban_add',\n    run: \"click\",\n}, {\n    trigger: \".o_kanban_group:nth-child(2) .o_kanban_header\",\n    run: \"hover && click .o_kanban_group:nth-child(2) .o_kanban_header .dropdown-toggle\",\n}, {\n    trigger: \".dropdown-item.o_column_edit\",\n    run: \"click\",\n}, {\n    trigger: \".modal .o_field_widget[name=fold] input\",\n    run: \"click\",\n}, {\n    trigger: \".modal .modal-footer button\",\n    run: \"click\",\n},\n{\n    trigger: \"body:not(:has(.modal))\",\n},\n{\n    trigger: '.o_kanban_project_tasks',\n},\n{\n    trigger: \".o_kanban_record\",\n    run: \"drag_and_drop(.o_kanban_group:eq(1))\",\n}, {\n    trigger: \".o_control_panel_navigation button i.fa-sliders\",\n    content: 'Open embedded actions',\n    run: \"click\",\n}, {\n    trigger: \".o_embedded_actions button i.fa-sliders\",\n    content: \"Open embedded actions dropdown\",\n    run: \"click\",\n}, {\n    trigger: \".o-dropdown-item div span:contains('Dashboard')\",\n    content: \"Put Dashboard in the embedded actions\",\n    run: \"click\",\n}, {\n    trigger: \".o_embedded_actions button span:contains('Dashboard')\",\n    content: \"Open Dashboard\",\n    run: \"click\",\n}, {\n    trigger: \".o_add_milestone a\",\n    content: \"Add a first milestone\",\n    run: \"click\",\n}, {\n    trigger: \"div.o_field_widget[name=name] input\",\n    run: \"edit New milestone\",\n}, {\n    trigger: \"input[data-field=deadline]\",\n    run: \"edit 12/12/2099\",\n}, {\n    trigger: \".modal-footer .o_form_button_save\",\n    run: \"click\",\n},\n{\n    trigger: \"body:not(:has(.modal))\",\n},\n{\n    trigger: \".o_add_milestone a\",\n    run: \"click\",\n}, {\n    trigger: \"div.o_field_widget[name=name] input\",\n    run: \"edit Second milestone\",\n}, {\n    trigger: \"input[data-field=deadline]\",\n    run: \"edit 12/12/2022 && click body\",\n}, {\n    trigger: \".modal-footer .o_form_button_save\",\n    run: \"click\",\n},\n{\n    trigger: \"body:not(:has(.modal))\",\n},\n{\n    trigger: \".o_rightpanel_milestone:eq(1) .o_milestone_detail\",\n    run: \"click\",\n}, {\n    trigger: \"input[data-field=deadline]\",\n    run: \"edit 12/12/2100 && click body\",\n}, {\n    trigger: \".modal-footer .o_form_button_save\",\n    run: \"click\",\n}, {\n    trigger: \".o-kanban-button-new\",\n    content: \"Create a new update\",\n    run: \"click\",\n}, {\n    trigger: \"div.o_field_widget[name=name] input\",\n    run: \"edit New update\",\n}, {\n    trigger: \".o_form_button_save\",\n    run: \"click\",\n}, {\n    trigger: \".o_field_widget[name='description'] h1:contains('Activities')\",\n}, {\n    trigger: \".o_field_widget[name='description'] h3:contains('Milestones')\",\n}, {\n    trigger: \".o_field_widget[name='description'] div[name='milestone'] ul li:contains('(12/12/2099 => 12/12/2100)')\",\n}, {\n    trigger: \".o_field_widget[name='description'] div[name='milestone'] ul li:contains('(due 12/12/2022)')\",\n}, {\n    trigger: \".o_field_widget[name='description'] div[name='milestone'] ul li:contains('(due 12/12/2100)')\",\n}, {\n    trigger: '.o_back_button',\n    content: 'Go back to the kanban view the project',\n    run: \"click\",\n}, {\n    trigger: '.o_switch_view.o_list',\n    content: 'Open List View of Dashboard',\n    run: \"click\",\n},\n{\n    trigger: '.o_list_view',\n},\n{\n    trigger: '.o_back_button',\n    content: 'Go back to the kanban view the project',\n    run: \"click\",\n},\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('hr_employee_tour', {\n    url: '/odoo',\n    steps: () => [\n    stepUtils.showAppsMenuItem(),\n    {\n        content: \"Open Employees app\",\n        trigger: \".o_app[data-menu-xmlid='hr.menu_hr_root']\",\n        run: 'click',\n    },\n    {\n        content: \"Open an Employee Profile\",\n        trigger: \".o_kanban_record:contains('Johnny H.')\",\n        run: 'click',\n    },\n    {\n        content: \"Open user account menu\",\n        trigger: \".o_user_menu .dropdown-toggle\",\n        run: 'click',\n    }, {\n        content: \"Open My Profile\",\n        trigger: \"[data-menu=settings]\",\n        run: 'click',\n    },\n]});\n", "/** @odoo-module **/\n\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nimport { registry } from \"@web/core/registry\";\nimport { patch } from \"@web/core/utils/patch\";\n\n/**\n * As 'hr' changes the flow a bit and displays the user preferences form in a full view instead of\n * a modal, we adapt the steps of the original tour accordingly.\n */\npatch(\n    registry\n        .category(\"web_tour.tours\")\n        .get(\"mail/static/tests/tours/user_modify_own_profile_tour.js\"),\n    {\n        steps() {\n            return [\n                {\n                    content: \"Open user account menu\",\n                    trigger: \".o_user_menu button\",\n                    run: \"click\",\n                },\n                {\n                    content: \"Open preferences / profile screen\",\n                    trigger: \"[data-menu=settings]\",\n                    run: \"click\",\n                },\n                {\n                    content: \"Update the email address\",\n                    trigger: 'div[name=\"email\"] input',\n                    run: \"edit updatedemail@example.com\",\n                },\n                ...stepUtils.saveForm(),\n            ];\n        },\n    }\n);\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('project_task_activities_split', {\n    url: '/odoo',\n    steps: () => [\n        {\n            content: 'Open Activity Systray',\n            trigger: '.o-mail-ActivityMenu-counter',\n            run: \"click\",\n        }, {\n            content: 'Open Task Activities',\n            trigger: '.o-mail-ActivityGroup:contains(\"Task\")',\n            run: \"click\",\n        }, {\n            content: 'Task \"New Task!\" is listed in the activity view',\n            trigger: '.o_activity_record .d-block:contains(\"New Task!\")',\n        }, {\n            content: 'Task \"New Sub-Task!\" is listed in the activity view',\n            trigger: '.o_activity_record .d-block:contains(\"New Sub-Task!\")',\n            run: () => {\n                const nodes = document.querySelectorAll(\".o_activity_record .d-block\");\n                for (const node of nodes) {\n                    if (node.textContent === \"New To-do!\") {\n                        console.error('Private task records with no parent task should not appear in this view');\n                    }\n                }\n            },\n        }, {\n            content: 'Open Activity Systray',\n            trigger: '.o-mail-ActivityMenu-counter',\n            run: \"click\",\n        }, {\n            content: 'Open To-Do Activities',\n            trigger: '.o-mail-ActivityGroup:contains(\"To-Do\")',\n            run: \"click\",\n        }, {\n            content: 'Record \"New To-Do!\" is listed in the activity view',\n            trigger: '.o_activity_record .d-block:contains(\"New To-Do!\")',\n            run: () => {\n                const nodes = document.querySelectorAll(\".o_activity_record .d-block\");\n                for (const node of nodes) {\n                    if (node.textContent === \"New Task!\" || node.textContent === \"New Sub-Task!\") {\n                        console.error('Tasks linked to a project should not appear in this view');\n                    }\n                }\n            },\n        }\n    ],\n});\n", "/** @odoo-module */\n\nimport { markup } from \"@odoo/owl\";\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('project_todo_main_functions', {\n    url: '/odoo',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    trigger: '.o_app[data-menu-xmlid=\"project_todo.menu_todo_todos\"]',\n    run: \"click\",\n}, {\n    trigger: \".o_project_task_kanban_view .o_column_quick_create .o_kanban_add_column\",\n    content: \"Create a personal stage from the To-do kanban view\",\n    run: \"click\",\n},\n{\n    trigger: \".o_kanban_group\",\n},\n{\n    trigger: \".o_project_task_kanban_view .o_column_quick_create .o_kanban_header input\",\n    content: \"Create a personal stage from the To-do kanban view\",\n    run: \"edit Stage 1\",\n}, {\n    trigger: \".o_project_task_kanban_view .o_column_quick_create .o_kanban_add\",\n    content: \"Save the personal stage\",\n    run: \"click\",\n},\n{\n    trigger: \".o_kanban_group\",\n},\n{\n    trigger: \".o_project_task_kanban_view .o_column_quick_create .o_kanban_header input\",\n    content: \"Create a second personal stage from the To-do kanban view\",\n    run: \"edit Stage 2\",\n}, {\n    trigger: \".o_project_task_kanban_view .o_column_quick_create .o_kanban_add\",\n    content: \"Save the personal stage\",\n    run: \"click\",\n},\n{\n    trigger: \".o_kanban_group:eq(1)\",\n},\n{\n    trigger: '.o-kanban-button-new',\n    content: \"Create a task in the first stage\",\n    run: \"click\",\n},\n{\n    trigger: \".o_project_task_kanban_view\",\n},\n{\n    trigger: '.o_kanban_quick_create div.o_field_char[name=name] input',\n    content: \"Create a personal task from the To-do kanban view\",\n    run: \"edit Personal Task 1\",\n},\n{\n    trigger: \".o_project_task_kanban_view\",\n},\n{\n    trigger: '.o_kanban_quick_create .o_kanban_add',\n    content: \"Save the personal task\",\n    run: \"click\",\n},\n{\n    trigger: \".o_project_task_kanban_view\",\n},\n{\n    trigger: \".o_kanban_record\",\n    content: \"Drag &amp; drop the card to change the personal task from personal stage.\",\n    run: \"drag_and_drop(.o_kanban_group:eq(1))\",\n},\n{\n    trigger: \".o_project_task_kanban_view\",\n},\n{\n    content: \"Click on invisible caret. Should hover on card to be visible\",\n    trigger: \".o_dropdown_kanban .btn.o-no-caret:not(:visible)\",\n    run: \"click\",\n}, {\n    trigger: \"a:contains('Set Cover Image')\",\n}, {\n    trigger: \".o_kanban_record:first\",//:contains(Send message)\n    content: \"Open the first todo record\",\n    run: \"click\",\n},\n{\n    trigger: \".o_todo_form_view\",\n},\n{\n    trigger: \".todo_toggle_chatter\",\n    content: \"Clicking on the chatter button should toggle open the chatter\",\n    run: \"click\",\n},\n{\n    trigger: \".o-mail-Chatter-topbar button.o-mail-Chatter-sendMessage\",\n    content: \"A 'send message' button should be present in the chatter\",\n    run: \"click\",\n},\n{\n    trigger: \".o_todo_form_view\",\n},\n{\n    trigger: \".o-mail-Chatter-topbar button.o-mail-Chatter-logNote\",\n    content: \"A 'log note' button should be present in the chatter\",\n    run: \"click\",\n},\n{\n    trigger: \".o_todo_form_view\",\n},\n{\n    trigger: \".o-mail-Chatter-topbar button.o-mail-Chatter-activity\",\n    content: \"An 'Activities' button should be present in the chatter\",\n    run: \"click\",\n}, {\n    trigger: \"button[name=action_schedule_activities]\",\n    content: \"Schedule an activity\",\n    run: \"click\",\n},\n{\n    trigger: \".o_todo_form_view\",\n},\n{\n    trigger: \".o_field_widget[name='user_ids'] input\",\n    content: \"Assign a responsible to your task\",\n    run: \"fill marc\",\n},\n{\n    isActive: [\"auto\"],\n    trigger: \".ui-autocomplete > li > a:not(:has(i.fa))\",\n    run: \"click\",\n}, {\n    trigger: '.o_field_widget[name=\"name\"] textarea',\n    content: 'Edit the name of the personal task',\n    run: \"edit New name for the personal task\",\n}, {\n    trigger: '.o_todo_done_button',\n    content: 'Mark the task as done',\n    run: \"click\",\n},\n{\n    trigger: \".o_todo_form_view .o_form_dirty\",\n},\n{\n    trigger: \".o_form_button_save\",\n    content: \"Save the record\",\n    run: \"click\",\n}, {\n    trigger: '.o_breadcrumb .o_control_panel_breadcrumbs_actions button:enabled',\n    content: \"Convert the Todo to a task belonging to a project:enabled\",\n    run: \"click\",\n}, {\n    trigger: '.o_menu_item:contains(\"Convert to Task\")',\n    content: \"Click on the action menu 'Convert to task'\",\n    run: \"click\",\n}, {\n    trigger: '.o_todo_conversion_form_view .o_field_many2one[name=project_id] input',\n    content: 'Create a new project that will be set to the task',\n    run: \"edit Project test 1\",\n}, {\n    trigger: '.o_todo_conversion_form_view .o_field_many2one[name=project_id] li.o_m2o_dropdown_option_create a',\n    content: 'Create the new project',\n    run: \"click\",\n}, {\n    trigger: 'button[name=\"action_convert_to_task\"]',\n    content: 'Convert the todo to a task',\n    run: \"click\",\n}, {\n    trigger: \".breadcrumb-item:nth-child(1)\",\n    content: markup(\"Let's go back to the <b>kanban view</b> to have an overview of your next tasks.\"),\n    run: \"click\",\n}, {\n    trigger: \".o_kanban_view\",\n}]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"hr_skills_tour\", {\n    url: \"/odoo\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            content: \"Open Employees app\",\n            trigger: \".o_app[data-menu-xmlid='hr.menu_hr_root']\",\n            run: \"click\",\n        },\n        {\n            content: \"Create a new employee\",\n            trigger: \".o-kanban-button-new\",\n            run: \"click\",\n        },\n        {\n            content: \"Pick a name\",\n            trigger: \".o_field_widget[name='name'] input\",\n            run: \"edit Jony McHallyFace\",\n        },\n        {\n            content: \"Save\",\n            trigger: \".o_form_button_save\",\n            run: \"click\",\n        },\n        {\n        content: \"Open the Resume tab\",\n        trigger: \".o_notebook_headers a.nav-link[name='skills_resume']\",\n        run: \"click\",\n        },\n        {\n            content: \"Add a new Resume experience\",\n            trigger: \".o_field_resume_one2many tr.o_resume_group_header button.btn-secondary\",\n            run: \"click\",\n        },\n        {\n            content: \"Enter some company name\",\n            trigger:\n                \".modal:contains(new resume line) .modal-body .o_field_widget[name='name'] input\",\n            run: \"edit Mamie Rock\",\n        },\n        {\n            content: \"Set start date\",\n            trigger: \".modal:contains(new resume line) .o_field_widget[name='date_start'] input\",\n            run: \"edit 12/05/2017\",\n        },\n        {\n            content: \"Give some description\",\n            trigger: `.modal:contains(new resume line) .o_field_html[name='description'] div.o-paragraph`,\n            run: \"editor Sang some songs and played some music\",\n        },\n        {\n            content: \"Save it\",\n            trigger: \".modal:contains(new resume line) .o_form_button_save:contains(save)\",\n            run: \"click\",\n        },\n        {\n            trigger: \"body:not(:has(.modal:contains(new resume line)))\",\n        },\n        {\n            content: \"Edit newly created experience\",\n            trigger: \".o_resume_line_title:contains(Mamie Rock)\",\n            run: \"click\",\n        },\n        {\n            content: \"Change type\",\n            trigger: \".modal:contains(new resume line) .o_field_widget[name='line_type_id'] input\",\n            run: \"edit Experience\",\n        },\n        {\n            content: \"Choose experience\",\n            trigger: '.ui-autocomplete .ui-menu-item a:contains(\"Experience\")',\n            run: \"click\",\n        },\n        {\n            content: \"Save experience change\",\n            trigger: \".modal:contains(new resume line) .o_form_button_save:contains(save)\",\n            run: \"click\",\n        },\n        {\n            trigger: \"body:not(:has(.modal:contains(new resume line)))\",\n        },\n        {\n            content: \"Add a new Skill\",\n            trigger: \".o_field_skills_one2many button:contains('Pick a skill from the list')\",\n            run: \"click\",\n        },\n        {\n            content: \"Select Music\",\n            trigger:\n                \".modal:contains(select skills) .o_field_widget[name='skill_type_id'] label:contains('Best Music')\",\n            run: \"click\",\n        },\n        {\n            content: \"Select a song\",\n            trigger: \".modal:contains(select skills) .o_field_widget[name='skill_id'] input\",\n            run: \"edit Fortun\",\n        },\n        {\n            content: \"Choose the song\",\n            trigger: '.ui-autocomplete .ui-menu-item a:contains(\"Fortunate Son\")',\n            run: \"click\",\n        },\n        {\n            content: \"Select a level\",\n            trigger: \".modal:contains(select skills) .o_field_widget[name='skill_level_id'] input\",\n            run: \"edit Level\",\n        },\n        {\n            content: \"Choose the level\",\n            trigger: '.ui-autocomplete .ui-menu-item a:contains(\"Level 2\")',\n            run: \"click\",\n        },\n        {\n            content: \"Save new skill\",\n            trigger: \".modal:contains(select skills) .o_form_button_save:contains(save & close)\",\n            run: \"click\",\n        },\n        {\n            content:\n                \"Wait the new skill is completely saved. Ensure also the modal is closed before open a new one.\",\n            trigger: \"body:not(:has(.modal))\",\n        },\n        {\n            content: \"Check if item is added\",\n            trigger: \".o_data_row td.o_data_cell:contains('Fortunate Son')\",\n        },\n        {\n            content: \"Add a new Skill\",\n            trigger: \".o_field_skills_one2many button:contains('ADD')\",\n            run: \"click\",\n        },\n        {\n            content: \"Music should be already selected\",\n            trigger:\n                \".modal:contains(select skills) .o_field_widget[name=skill_id] input:value(Fortunate Son)\",\n        },\n        {\n            content: \"Select a song\",\n            trigger: \".modal:contains(select skills) .o_field_widget[name='skill_id'] input\",\n            run: \"edit Mary\",\n        },\n        {\n            content: \"Choose the song\",\n            trigger: '.ui-autocomplete .ui-menu-item a:contains(\"Oh Mary\")',\n            run: \"click\",\n        },\n        {\n            content: \"Select a level\",\n            trigger: \".modal:contains(select skills) .o_field_widget[name='skill_level_id'] input\",\n            run: \"edit Level 7\",\n        },\n        {\n            content: \"Choose the level\",\n            trigger: '.ui-autocomplete .ui-menu-item a:contains(\"Level 7\")',\n            run: \"click\",\n        },\n        {\n            content: \"Save new skill\",\n            trigger: \".modal:contains(select skills) .o_form_button_save:contains(save & close)\",\n            run: \"click\",\n        },\n        {\n            content: \"Wait the new skill is completely saved\",\n            trigger: \"body:not(:has(.modal))\",\n        },\n        {\n            content: \"Check if item is added\",\n            trigger: \".o_data_row td.o_data_cell:contains('Oh Mary')\",\n        },\n        {\n            content: \"wait for save completion\",\n            trigger: \".o_form_readonly, .o_form_saved\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { queryAll, waitFor } from \"@odoo/hoot-dom\";\nimport { rpc } from \"@web/core/network/rpc\";\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nfunction openRoot() {\n    return [{\n        content: \"return to client root to avoid race condition\",\n        trigger: 'body',\n        run() {\n            document.querySelector(\"body\").classList.add(\"wait\");\n            window.location = '/odoo';\n        },\n        expectUnloadPage: true,\n    }, {\n        content: \"wait for client reload\",\n        trigger: 'body:not(.wait)',\n    }];\n}\nfunction openUserProfileAtSecurityTab() {\n    return [{\n        content: 'Open user account menu',\n        trigger: '.o_user_menu .dropdown-toggle',\n        run: 'click',\n    }, {\n        content: \"Open preferences / profile screen\",\n        trigger: '[data-menu=settings]',\n        run: 'click',\n    }, {\n        content: \"Switch to security tab\",\n        trigger: 'a[role=tab]:contains(\"Account Security\")',\n        run: 'click',\n    }];\n}\n\n/**\n * Checks that the TOTP button is in the specified state (true = enabled =\n * can disable, false = disabled = can enable), then closes the profile dialog\n * if it's one (= hr not installed).\n *\n * If no totp state is provided, just checks that the toggle exists.\n */\nfunction closeProfileDialog({content, totp_state}) {\n    let trigger;\n    switch (totp_state) {\n    case true: trigger = 'button[name=action_totp_disable]'; break;\n    case false: trigger = 'button[name=action_totp_enable_wizard]'; break;\n    case undefined: trigger = 'button.o_auth_2fa_btn'; break;\n    default: throw new Error(`Invalid totp state ${totp_state}`)\n    }\n\n    return [{\n        content,\n        //TODO: remove when PIPU macro PR is merged: https://github.com/odoo/odoo/pull/194508\n        trigger: 'a[role=tab]:contains(\"Account Security\").active',\n        async run(helpers) {\n            await waitFor(trigger, { timeout: 5000 });\n            const modal = document.querySelector(\".o_dialog\");\n            if (modal) {\n                modal.querySelector(\"button[name=preference_cancel]\").click();\n            }\n        }\n    }, {\n        trigger: 'body',\n        async run() {\n            while (document.querySelector('.o_dialog')) {\n                await Promise.resolve();\n            }\n            this.anchor.classList.add(\"dialog-closed\");\n        },\n    }, {\n        trigger: 'body.dialog-closed',\n    }];\n}\n\nregistry.category(\"web_tour.tours\").add('totp_tour_setup', {\n    url: '/odoo',\n    steps: () => [...openUserProfileAtSecurityTab(), {\n    content: \"Open totp wizard\",\n    //TODO: remove when PIPU macro PR is merged: https://github.com/odoo/odoo/pull/194508\n    trigger: 'a[role=tab]:contains(\"Account Security\").active',\n    async run(actions) {\n        const el = await waitFor('button[name=action_totp_enable_wizard]', { timeout: 5000 });\n        await actions.click(el);\n    }\n},\n{\n    trigger: \".modal div:contains(entering your password)\",\n},\n{\n    content: \"Check that we have to enter enhanced security mode and input password\",\n    trigger: '[name=password] input',\n    run: 'edit test_user',\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n    run: \"click\",\n}, {\n    content: \"Check the wizard has opened\",\n    trigger: '.modal li:contains(\"When requested to do so\")',\n}, {\n    content: \"Get secret from collapsed div\",\n    trigger: `.modal a:contains(\"Cannot scan it?\")`,\n    async run(helpers) {\n        const secret = this.anchor\n            .closest(\"div\")\n            .querySelector(\"[name=secret] span:first-child\");\n        const copyBtn = secret.querySelector(\"button\");\n        if (copyBtn) {\n            copyBtn.remove();\n        }\n        const token = await rpc('/totphook', {\n            secret: secret.textContent\n        });\n        await helpers.edit(token, '[name=code] input');\n        document.querySelector(\"body\").classList.add(\"got-token\");\n    }\n},\n{\n    trigger: \".modal button.btn-primary:contains(Activate)\",\n    run: \"click\",\n},\n{\n    trigger: \"body:not(:has(.modal))\",\n},\n{\n    content: 'wait for rpc',\n    trigger: 'body.got-token',\n},\n...openRoot(),\n...openUserProfileAtSecurityTab(),\n...closeProfileDialog({\n    content: \"Check that the button has changed\",\n    totp_state: true,\n}),\n]});\n\nregistry.category(\"web_tour.tours\").add('totp_login_enabled', {\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    isActive: [\"body:not(:has(input#login))\"],\n    trigger: \"a:contains(Sign in)\",\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: \"edit test_user\",\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: \"edit test_user\",\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n    run: \"click\",\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    async run(helpers) {\n        const token = await rpc('/totphook');\n        helpers.edit(token);\n    }\n},\n{\n    trigger: `button:contains(\"Log in\")`,\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"check we're logged in\",\n    trigger: \".o_user_menu .dropdown-toggle\",\n}]});\n\nregistry.category(\"web_tour.tours\").add('totp_login_device', {\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    isActive: [\"body:not(:has(input#login))\"],\n    trigger: \"a:contains(Sign in)\",\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: \"edit test_user\",\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: \"edit test_user\",\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n    run: \"click\",\n}, {\n    content: \"check remember device box\",\n    trigger: 'label[for=switch-remember]',\n    run: \"click\",\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    async run(helpers) {\n        const token = await rpc('/totphook')\n        helpers.edit(token);\n    }\n},\n{\n    trigger: \"button:contains(Log in)\",\n    run: \"click\",\n    expectUnloadPage: true,\n},\n{\n    content: \"check we're logged in\",\n    trigger: \".o_user_menu .dropdown-toggle\",\n    run: 'click',\n}, {\n    content: \"click the Log out button\",\n    trigger: '.dropdown-item[data-menu=logout]',\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"check that we're back on the login page or go to it\",\n    trigger: 'input#login, a:contains(Log in)',\n    run: \"edit Test\",\n}, {\n    content: \"input login again\",\n    trigger: 'input#login',\n    run: \"edit test_user\",\n}, {\n    content: 'input password again',\n    trigger: 'input#password',\n    run: \"edit test_user\",\n}, {\n    content: \"click da button again\",\n    trigger: 'button:contains(\"Log in\")',\n    run: \"click\",\n    expectUnloadPage: true,\n},  {\n    content: \"check we're logged in without 2FA\",\n    trigger: \".o_user_menu .dropdown-toggle\",\n},\n// now go and disable two-factor authentication would be annoying to do in a separate tour\n// because we'd need to login & totp again as HttpCase.authenticate can't\n// succeed w/ totp enabled\n...openUserProfileAtSecurityTab(),\n{\n    content: \"Open totp wizard\",\n    trigger: 'a[role=tab]:contains(\"Account Security\").active',\n},\n{\n    trigger: \"button[name=action_totp_disable]\",\n    run: \"click\",\n},\n{\n    trigger: \".modal div:contains(entering your password)\",\n},\n{\n    content: \"Check that we have to enter enhanced security mode and input password\",\n    trigger: '.modal [name=password] input',\n    run: \"edit test_user\",\n}, {\n    content: \"Confirm\",\n    trigger: \".modal button:contains(Confirm Password)\",\n    run: \"click\",\n},\n{\n    trigger: \"body:not(:has(.modal))\",\n},\n...openRoot(),\n...openUserProfileAtSecurityTab(),\n...closeProfileDialog({\n    content: \"Check that the button has changed\",\n    totp_state: false\n}),\n]});\n\nregistry.category(\"web_tour.tours\").add('totp_login_disabled', {\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    isActive: [\"body:not(:has(input#login))\"],\n    trigger: \"a:contains(Sign in)\",\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: \"edit test_user\",\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: \"edit test_user\",\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n    run: \"click\",\n    expectUnloadPage: true,\n},\n// normally we'd end the tour here as it's all we care about but there are a\n// bunch of ongoing queries from the loading of the web client which cause\n// issues, so go and open the preferences / profile screen to make sure\n// everything settles down\n...openUserProfileAtSecurityTab(),\n// close the dialog if that makes sense\n...closeProfileDialog({})\n]});\n\nconst columns = {};\nregistry.category(\"web_tour.tours\").add('totp_admin_disables', {\n    url: '/odoo',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    content: 'Go to settings',\n    trigger: '[data-menu-xmlid=\"base.menu_administration\"]',\n    run: \"click\",\n}, {\n    content: 'Wait for page',\n    trigger: '.o_menu_brand:contains(\"Settings\")',\n}, {\n    content: \"Open Users menu\",\n    trigger: '[data-menu-xmlid=\"base.menu_users\"]',\n    run: \"click\",\n}, {\n    content: \"Open Users view\",\n    trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n    run: \"click\",\n}, {\n    content: \"Find test_user User\",\n    trigger: 'td.o_data_cell:contains(\"test_user\")',\n    run(helpers) {\n        const titles = queryAll(\"tr:first th\", { root: this.anchor.closest(\"table\") });\n        titles.forEach((el, i) => {\n            columns[el.getAttribute('data-name')] = i;\n        })\n        const row = this.anchor.closest('tr');\n        const sel = row.querySelector('.o_list_record_selector input[type=checkbox]');\n        helpers.click(sel);\n    }\n}, {\n    content: \"Open Actions menu\",\n    trigger: 'button.dropdown-toggle:contains(\"Action\")',\n    run: \"click\",\n}, {\n    content: \"Select totp remover\",\n    trigger: 'span.dropdown-item:contains(Disable two-factor authentication)',\n    run: \"click\",\n},\n{\n    trigger: \".modal div:contains(entering your password)\",\n},\n{ // enhanced security yo\n    content: \"Check that we have to enter enhanced security mode & input password\",\n    trigger: '.modal [name=password] input',\n    run: \"edit admin\",\n}, {\n    content: \"Confirm\",\n    trigger: \".modal button:contains(Confirm Password)\",\n    run: \"click\",\n},\n{\n    content: \"Wait the modal is closed\",\n    trigger: \"body:not(:has(.modal))\",\n},\n{\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(test_user)\",\n    run: \"click\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n    run: \"click\",\n}, {\n    content: \"check 2FA button\",\n    trigger: 'body',\n    run: () => {\n        const button = document.querySelector('button[name=action_totp_enable_wizard]').disabled\n        if (!button) {\n            console.error(\"2FA button should be disabled.\");\n        }\n    },\n}\n]})\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nimport { queryFirst } from \"@odoo/hoot-dom\";\n\nfunction openAccountSettingsTab() {\n    return [{\n        content: 'Go to settings',\n        trigger: '[data-menu-xmlid=\"base.menu_administration\"]',\n        run: \"click\",\n    }, {\n        content: 'Wait for page',\n        trigger: '.o_menu_brand:contains(\"Settings\")',\n    }, {\n        content: \"Open Users menu\",\n        trigger: '[data-menu-xmlid=\"base.menu_users\"]',\n        run: \"click\",\n    }, {\n        content: \"Open Users view\",\n        trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n        run: function (helpers) {\n            // funny story: the users view we're trying to reach, sometimes we're\n            // already there, but if we re-click the next step executes before the\n            // action has the time to re-load, the one after that doesn't, and our\n            // selection get discarded by the action reloading, so here try to\n            // see if we're already on the users action through the breadcrumb and\n            // just close the menu if so\n            const breadcrumb = document.querySelector('.breadcrumb');\n            if (!breadcrumb || !breadcrumb.textContent.includes(\"Users\")) {\n                // on general settings page, click menu\n                helpers.click();\n            } else {\n                // else close menu\n                helpers.click('[data-menu-xmlid=\"base.menu_users\"]');\n            }\n        }\n    }];\n}\n\nregistry.category(\"web_tour.tours\").add('totp_admin_self_invite', {\n    url: '/odoo',\n    steps: () => [stepUtils.showAppsMenuItem(), ...openAccountSettingsTab(), {\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(admin)\",\n    run: \"click\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n    run: \"click\",\n}, {\n    content: \"check that user cannot invite themselves to use 2FA.\",\n    trigger: \"body\",\n    run: function () {\n        const inviteBtn = queryFirst('button:contains(Invite to use 2FA)');\n        if (!inviteBtn) {\n            document.body.classList.add('CannotInviteYourself');\n        }\n    }\n}, {\n    content: \"check that user cannot invite themself.\",\n    trigger: \"body.CannotInviteYourself\",\n}]});\n\nregistry.category(\"web_tour.tours\").add('totp_admin_invite', {\n    url: '/odoo',\n    steps: () => [stepUtils.showAppsMenuItem(), ...openAccountSettingsTab(), {\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(test_user)\",\n    run: \"click\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n    run: \"click\",\n}, {\n    content: \"check that test_user user can be invited to use 2FA.\",\n    trigger: \"button:contains(Invite to use 2FA)\",\n}]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { rpc } from \"@web/core/network/rpc\";\n\nregistry.category(\"web_tour.tours\").add('totportal_tour_setup', {\n    url: '/my/security',\n    steps: () => [{\n    content: \"Open totp wizard\",\n    trigger: 'button#auth_totp_portal_enable',\n    run: \"click\",\n}, {\n    content: \"Check that we have to enter enhanced security mode\",\n    trigger: \".modal div:contains(enter your password)\",\n}, {\n    content: \"Input password\",\n    trigger: '[name=password]',\n    run: \"edit portal\", // FIXME: better way to do this?\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n    run: \"click\",\n}, {\n    content: \"Check the wizard has opened\",\n    trigger: 'li:contains(\"scan the barcode below\")',\n}, {\n    content: \"Get secret from collapsed div\",\n    trigger: 'a:contains(\"Cannot scan it?\")',\n},\n{\n    trigger: `span[name=\"secret\"]:hidden`,\n    async run(helpers) {\n        const secret = this.anchor.textContent;\n        const token = await rpc('/totphook', {\n            secret\n        });\n        await helpers.edit(token, 'input[name=\"code\"]');\n    }\n},\n{\n    trigger: \"button.btn-primary:contains(Activate)\",\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"Check that the button has changed\",\n    trigger: 'button:contains(Disable two-factor authentication)',\n}]});\n\nregistry.category(\"web_tour.tours\").add('totportal_login_enabled', {\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    isActive: [\"body:not(:has(input#login))\"],\n    trigger: \"a:contains(Sign in)\",\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: \"edit portal\",\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: \"edit portal\",\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n    run: \"click\",\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    run: async function (helpers) {\n        const token = await rpc('/totphook');\n        await helpers.edit(token);\n    }\n}, {\n    trigger: \"button:contains(Log in)\",\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"check we're logged in\",\n    trigger: \"h3:contains(My account)\",\n}, {\n    content: \"go back to security\",\n    trigger: \"a:contains(Security)\",\n    run: \"click\",\n    expectUnloadPage: true,\n},{\n    content: \"Open totp wizard\",\n    trigger: 'button#auth_totp_portal_disable',\n    run: \"click\",\n}, {\n    content: \"Check that we have to enter enhanced security mode\",\n    trigger: \".modal div:contains(enter your password)\",\n}, {\n    content: \"Input password\",\n    trigger: '[name=password]',\n    run: \"edit portal\",\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"Check that the button has changed\",\n    trigger: 'button:contains(Enable two-factor authentication)',\n}]});\n\nregistry.category(\"web_tour.tours\").add('totportal_login_disabled', {\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    isActive: [\"body:not(:has(input#login))\"],\n    trigger: \"a:contains(Sign in)\",\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: \"edit portal\",\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: \"edit portal\",\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n    run: \"click\",\n    expectUnloadPage: true,\n}, {\n    content: \"check we're logged in\",\n    trigger: \"h3:contains(My account)\",\n}]});\n", "import * as PosHr from \"@pos_hr/../tests/tours/utils/pos_hr_helpers\";\nimport * as ProductScreen from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as TicketScreen from \"@point_of_sale/../tests/tours/utils/ticket_screen_util\";\nimport * as ReceiptScreen from \"@point_of_sale/../tests/tours/utils/receipt_screen_util\";\nimport * as PaymentScreen from \"@point_of_sale/../tests/tours/utils/payment_screen_util\";\nimport * as Chrome from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport * as NumberPopup from \"@point_of_sale/../tests/tours/utils/number_popup_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as SelectionPopup from \"@point_of_sale/../tests/tours/utils/selection_popup_util\";\nimport { registry } from \"@web/core/registry\";\nimport { negate } from \"@point_of_sale/../tests/tours/utils/common\";\n\nregistry.category(\"web_tour.tours\").add(\"PosHrTour\", {\n    steps: () =>\n        [\n            Chrome.clickBtn(\"Open Register\"),\n            PosHr.loginScreenIsShown(),\n            PosHr.clickLoginButton(),\n            SelectionPopup.has(\"Pos Employee1\"),\n            SelectionPopup.has(\"Pos Employee2\"),\n            SelectionPopup.has(\"Mitchell Admin\"),\n            SelectionPopup.has(\"Pos Employee1\", { run: \"click\" }),\n            NumberPopup.enterValue(\"25\"),\n            NumberPopup.isShown(\"\u2022\u2022\"),\n            NumberPopup.enterValue(\"81\"),\n            NumberPopup.isShown(\"\u2022\u2022\u2022\u2022\"),\n            Dialog.confirm(),\n            // after trying to close the number popup, the error popup should be shown\n            // successfully confirming the dialog would imply that the error popup is actually shown\n            PosHr.clickLoginButton(),\n            SelectionPopup.has(\"Pos Employee1\", { run: \"click\" }),\n\n            NumberPopup.enterValue(\"25\"),\n            NumberPopup.isShown(\"\u2022\u2022\"),\n            NumberPopup.enterValue(\"80\"),\n            NumberPopup.isShown(\"\u2022\u2022\u2022\u2022\"),\n            Dialog.confirm(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.isShown(),\n            PosHr.cashierNameIs(\"Pos Employee1\"),\n            PosHr.clickCashierName(),\n            SelectionPopup.has(\"Mitchell Admin\", { run: \"click\" }),\n            PosHr.cashierNameIs(\"Mitchell Admin\"),\n            PosHr.clickCashierName(),\n            SelectionPopup.has(\"Pos Employee2\", { run: \"click\" }),\n            NumberPopup.enterValue(\"12\"),\n            NumberPopup.isShown(\"\u2022\u2022\"),\n            NumberPopup.enterValue(\"34\"),\n            NumberPopup.isShown(\"\u2022\u2022\u2022\u2022\"),\n            Dialog.confirm(),\n            ProductScreen.isShown(),\n\n            // Create orders and check if the ticket list has the right employee for each order\n            // order for employee 2\n            ProductScreen.addOrderline(\"Desk Pad\", \"1\"),\n            ProductScreen.totalAmountIs(\"1.98\"),\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.nthRowContains(2, \"Pos Employee2\", false),\n\n            // order for employee 1\n            PosHr.clickLockButton(),\n            Chrome.clickBtn(\"Unlock Register\"),\n            PosHr.login(\"Pos Employee1\", \"2580\"),\n            Chrome.createFloatingOrder(),\n            ProductScreen.addOrderline(\"Desk Pad\", \"1\"),\n            ProductScreen.totalAmountIs(\"1.98\"),\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.nthRowContains(2, \"Pos Employee2\", false),\n            TicketScreen.nthRowContains(3, \"Pos Employee1\", false),\n\n            // Cash in/out should be accessible for all users.\n            Chrome.clickMenuOption(\"Cash In/Out\"),\n            Dialog.discard(),\n\n            // order for admin\n            PosHr.clickCashierName(),\n            SelectionPopup.has(\"Mitchell Admin\", { run: \"click\" }),\n            PosHr.cashierNameIs(\"Mitchell Admin\"),\n            Chrome.createFloatingOrder(),\n            ProductScreen.addOrderline(\"Desk Pad\", \"1\", \"8\"),\n            ProductScreen.totalAmountIs(\"8.0\"),\n            Chrome.clickMenuOption(\"Orders\"),\n            TicketScreen.nthRowContains(4, \"Mitchell Admin\", false),\n\n            // Close register should be accessible by the admin user.\n            Chrome.clickMenuOption(\"Close Register\"),\n            Dialog.is(\"Closing Register\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"CashierStayLogged\", {\n    steps: () =>\n        [\n            Chrome.clickBtn(\"Open Register\"),\n            PosHr.loginScreenIsShown(),\n            PosHr.clickLoginButton(),\n            SelectionPopup.has(\"Pos Employee1\"),\n            SelectionPopup.has(\"Pos Employee2\"),\n            SelectionPopup.has(\"Mitchell Admin\"),\n            SelectionPopup.has(\"Mitchell Admin\", { run: \"click\" }),\n            Dialog.confirm(\"Open Register\"),\n            PosHr.cashierNameIs(\"Mitchell Admin\"),\n            PosHr.refreshPage(),\n            ProductScreen.isShown(),\n            PosHr.cashierNameIs(\"Mitchell Admin\"),\n            Chrome.clickMenuButton(),\n            PosHr.clickLockButton(),\n            PosHr.refreshPage(),\n            PosHr.loginScreenIsShown(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"CashierCanSeeProductInfo\", {\n    steps: () =>\n        [\n            Chrome.clickBtn(\"Open Register\"),\n            PosHr.loginScreenIsShown(),\n            PosHr.clickLoginButton(),\n            SelectionPopup.has(\"Mitchell Admin\", { run: \"click\" }),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.clickInfoProduct(\"product_a\"),\n            Dialog.confirm(\"Ok\"),\n            Dialog.isNot(),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"CashierCannotClose\", {\n    steps: () =>\n        [\n            Chrome.clickBtn(\"Open Register\"),\n            PosHr.loginScreenIsShown(),\n            PosHr.clickLoginButton(),\n            SelectionPopup.has(\"Test Employee 3\", { run: \"click\" }),\n            Dialog.confirm(\"Open Register\"),\n            Chrome.clickMenuButton(),\n            {\n                trigger: negate(`span.dropdown-item:contains(\"Close Register\")`),\n            },\n            PosHr.cashierNameIs(\"Test Employee 3\"),\n            PosHr.clickCashierName(),\n            SelectionPopup.has(\"Mitchell Admin\", { run: \"click\" }),\n            Chrome.clickMenuButton(),\n            {\n                trigger: `span.dropdown-item:contains(\"Close Register\")`,\n            },\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_basic_user_can_change_price\", {\n    steps: () =>\n        [\n            Chrome.clickBtn(\"Open Register\"),\n            PosHr.loginScreenIsShown(),\n            PosHr.clickLoginButton(),\n            SelectionPopup.has(\"Test Employee 3\", { run: \"click\" }),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.addOrderline(\"Desk Pad\", \"1\", \"10\", \"10\"),\n        ].flat(),\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_cashier_changed_in_receipt\", {\n    steps: () =>\n        [\n            Chrome.clickBtn(\"Open Register\"),\n            PosHr.loginScreenIsShown(),\n            PosHr.clickLoginButton(),\n            SelectionPopup.has(\"Mitchell Admin\", { run: \"click\" }),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.addOrderline(\"product_a\", \"1\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.clickPaymentMethod(\"Bank\"),\n            PosHr.clickCashierName(),\n            SelectionPopup.has(\"Test Employee 3\", { run: \"click\" }),\n            PaymentScreen.clickValidate(),\n            ReceiptScreen.cashierNameExists(\"Test Employee 3\"),\n            ReceiptScreen.clickNextOrder(),\n        ].flat(),\n});\n", "import * as SelectionPopup from \"@point_of_sale/../tests/tours/utils/selection_popup_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as NumberPopup from \"@point_of_sale/../tests/tours/utils/number_popup_util\";\n\nexport function clickLoginButton() {\n    return [\n        {\n            content: \"click login button\",\n            trigger: \".login-overlay .select-cashier\",\n            run: \"click\",\n        },\n    ];\n}\nexport function clickCashierName() {\n    return [\n        {\n            content: \"click cashier name\",\n            trigger: \".cashier-name\",\n            run: \"click\",\n        },\n    ];\n}\nexport function loginScreenIsShown() {\n    return [\n        {\n            content: \"login screen is shown\",\n            trigger: \".login-overlay .screen-login\",\n        },\n    ];\n}\nexport function cashierNameIs(name) {\n    return [\n        {\n            isActive: [\"desktop\"],\n            content: `logged cashier is '${name}'`,\n            trigger: `.pos .oe_status .username:contains(\"${name}\")`,\n        },\n        {\n            isActive: [\"mobile\"],\n            content: `logged cashier is '${name}'`,\n            trigger: `.pos .oe_status img[alt=\"${name}\"]`,\n        },\n    ];\n}\nexport function login(name, pin) {\n    const res = [...clickLoginButton(), ...SelectionPopup.has(name, { run: \"click\" })];\n    if (!pin) {\n        return res;\n    }\n    return res.concat([\n        ...NumberPopup.enterValue(pin),\n        ...NumberPopup.isShown(\"\u2022\u2022\u2022\u2022\"),\n        Dialog.confirm(),\n    ]);\n}\nexport function clickLockButton() {\n    return {\n        content: \"Click on the menu button\",\n        trigger: \".pos-rightheader i.fa-unlock\",\n        run: \"click\",\n    };\n}\n\nexport function refreshPage() {\n    return [\n        {\n            trigger: \".pos\",\n            run: () => {\n                window.location.reload();\n            },\n            expectUnloadPage: true,\n        },\n    ];\n}\n", "import * as Order from \"@point_of_sale/../tests/tours/utils/generic_components/order_widget_util\";\nimport { registry } from \"@web/core/registry\";\nimport {\n    postMessage,\n    amountIs,\n    ADD_PRODUCT_SELECTED,\n    ORDER_IS_FINALIZED,\n    NEW_ORDER,\n} from \"@point_of_sale/../tests/tours/customer_display_tour\";\n\nconst QR_URL =\n    \"/report/barcode/QR/http%3A%2F%2Flocalhost%3A1740%2Fpos%2Fpay%2F6%3Faccess_token%3D5bb78d6c-bf8e-44ed-8de2-e4ae5b8696ec?width=200&height=200\";\n\nconst PAY_ONLINE = {\n    lines: [\n        {\n            productName: \"Letter Tray\",\n            price: \"$\u00a02,972.75\",\n            qty: \"1.00\",\n            unit: \"Units\",\n            unitPrice: \"$\u00a02,972.75\",\n            oldUnitPrice: \"\",\n            customerNote: \"\",\n            internalNote: \"\",\n            comboParent: \"\",\n            packLotLines: [],\n            price_without_discount: \"$\u00a02,972.75\",\n            isSelected: true,\n            imageSrc: \"/web/image/product.product/855/image_128\",\n        },\n    ],\n    finalized: false,\n    amount: \"2,972.75\",\n    paymentLines: [{ name: \"ONLINE\", amount: \"2,972.75\" }],\n    change: 0,\n    onlinePaymentData: {\n        formattedAmount: \"$\u00a02,972.75\",\n        orderName: \"/\",\n        qrCode: QR_URL,\n    },\n};\n\nconst PAID = {\n    lines: [\n        {\n            productName: \"Letter Tray\",\n            price: \"$\u00a02,972.75\",\n            qty: \"1.00\",\n            unit: \"Units\",\n            unitPrice: \"$\u00a02,972.75\",\n            oldUnitPrice: \"\",\n            customerNote: \"\",\n            internalNote: \"\",\n            comboParent: \"\",\n            packLotLines: [],\n            price_without_discount: \"$\u00a02,972.75\",\n            isSelected: true,\n            imageSrc: \"/web/image/product.product/855/image_128\",\n        },\n    ],\n    finalized: false,\n    amount: \"2,972.75\",\n    paymentLines: [{ name: \"ONLINE\", amount: \"2,972.75\" }],\n    change: 0,\n    onlinePaymentData: {},\n};\n\nregistry.category(\"web_tour.tours\").add(\"CustomerDisplayTourOnlinePayment\", {\n    steps: () =>\n        [\n            {\n                trigger: \"div:contains('Welcome.')\",\n                run: () => {\n                    window.customerDisplayChannel = new BroadcastChannel(\"UPDATE_CUSTOMER_DISPLAY\");\n                    postMessage(ADD_PRODUCT_SELECTED, \"add product\").run();\n                },\n            },\n            Order.hasLine({ productName: \"Letter Tray\", price: \"2,972.75\" }),\n            amountIs(\"Total\", \"2,972.75\"),\n            postMessage(PAY_ONLINE, \"pay with cash\"),\n            {\n                trigger: `.modal-content img[alt='QR Code to pay'][src='${QR_URL}']`,\n            },\n            postMessage(PAID, \"payment approved\"),\n            postMessage(ORDER_IS_FINALIZED, \"order is finalized\"),\n            {\n                content: \"Check that we are now on the 'Thank you' screen\",\n                trigger: \"div:contains('Thank you.')\",\n                run: \"click\",\n            },\n            postMessage(NEW_ORDER, \"new order\"),\n            {\n                trigger: \"div:contains('Welcome.')\",\n            },\n            Order.doesNotHaveLine({}),\n            amountIs(\"Total\", \"0.00\"),\n\n            // Make a new order\n            postMessage(ADD_PRODUCT_SELECTED, \"add product\"),\n            Order.hasLine({ productName: \"Letter Tray\", price: \"2,972.75\" }),\n            amountIs(\"Total\", \"2,972.75\"),\n            postMessage(PAY_ONLINE, \"pay with cash\"),\n            {\n                trigger: `.modal-content img[alt='QR Code to pay'][src='${QR_URL}']`,\n            },\n        ].flat(),\n});\n", "import * as ProductScreen from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as Chrome from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport * as PaymentScreen from \"@point_of_sale/../tests/tours/utils/payment_screen_util\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"OnlinePaymentErrorsTour\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            ProductScreen.addOrderline(\"Letter Tray\", \"10\"),\n            ProductScreen.selectedOrderlineHas(\"Letter Tray\", \"10.0\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.totalIs(\"48.0\"),\n            PaymentScreen.emptyPaymentlines(\"48.0\"),\n\n            PaymentScreen.clickPaymentMethod(\"Online payment\"),\n            PaymentScreen.selectedPaymentlineHas(\"Online payment\", \"48.0\"),\n            PaymentScreen.enterPaymentLineAmount(\"Online payment\", \"47\"),\n            PaymentScreen.selectedPaymentlineHas(\"Online payment\", \"47.0\"),\n            PaymentScreen.remainingIs(\"1.0\"),\n            PaymentScreen.validateButtonIsHighlighted(false),\n            PaymentScreen.clickPaymentMethod(\"Cash\"),\n            PaymentScreen.enterPaymentLineAmount(\"Cash\", \"2\"),\n            PaymentScreen.selectedPaymentlineHas(\"Cash\", \"2.0\"),\n            PaymentScreen.changeIs(\"1.0\"),\n            PaymentScreen.validateButtonIsHighlighted(true),\n            PaymentScreen.clickValidate(),\n            // successfully confirming the dialog would imply that the error popup is actually shown\n            // Online payment line is now automatically deleted after the error popup\n            Dialog.confirm(),\n            PaymentScreen.remainingIs(\"46.0\"),\n            PaymentScreen.clickPaymentMethod(\"Online payment\", true, { amount: \"46.0\" }),\n            PaymentScreen.clickPaymentMethod(\"Online payment\", true, {\n                amount: \"0.0\",\n                remaining: \"0.0\",\n            }),\n            PaymentScreen.validateButtonIsHighlighted(true),\n            PaymentScreen.clickValidate(),\n            // successfully confirming the dialog would imply that the error popup is actually shown\n            // Online payment line is now automatically deleted after the error popup\n            Dialog.confirm(),\n            PaymentScreen.remainingIs(\"46.0\"),\n            PaymentScreen.clickPaymentMethod(\"Online payment\", true, { amount: \"46.0\" }),\n            PaymentScreen.clickPaymentMethod(\"Online payment\"),\n            PaymentScreen.clickPaymentline(\"Online payment\", \"0.0\"),\n            PaymentScreen.clickPaymentlineDelButton(\"Online payment\", \"0.0\"),\n            PaymentScreen.clickPaymentline(\"Cash\", \"2.0\"),\n            PaymentScreen.enterPaymentLineAmount(\"Cash\", \"3\"),\n            PaymentScreen.selectedPaymentlineHas(\"Cash\", \"3.0\"),\n            PaymentScreen.clickPaymentMethod(\"Online payment\", true, { amount: \"-1.0\" }),\n            PaymentScreen.remainingIs(\"0.0\"),\n            PaymentScreen.validateButtonIsHighlighted(true),\n            PaymentScreen.clickValidate(),\n            // successfully confirming the dialog would imply that the error popup is actually shown\n            // Online payment line is now automatically deleted after the error popup\n            Dialog.confirm(),\n        ].flat(),\n});\n", "import * as ChromePos from \"@point_of_sale/../tests/tours/utils/chrome_util\";\nimport * as ChromeRestaurant from \"@pos_restaurant/../tests/tours/utils/chrome\";\nimport * as Dialog from \"@point_of_sale/../tests/tours/utils/dialog_util\";\nimport * as FloorScreen from \"@pos_restaurant/../tests/tours/utils/floor_screen_util\";\nimport * as PaymentScreen from \"@point_of_sale/../tests/tours/utils/payment_screen_util\";\nimport * as ProductScreenPos from \"@point_of_sale/../tests/tours/utils/product_screen_util\";\nimport * as ProductScreenResto from \"@pos_restaurant/../tests/tours/utils/product_screen_util\";\nimport { registry } from \"@web/core/registry\";\n\nconst Chrome = { ...ChromePos, ...ChromeRestaurant };\nconst ProductScreen = { ...ProductScreenPos, ...ProductScreenResto };\n\nregistry.category(\"web_tour.tours\").add(\"OnlinePaymentWithMultiTables\", {\n    steps: () =>\n        [\n            Chrome.startPoS(),\n            Dialog.confirm(\"Open Register\"),\n            FloorScreen.clickTable(\"2\"),\n            ProductScreen.orderBtnIsPresent(),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\"),\n            ProductScreen.clickOrderButton(),\n            ProductScreen.orderlinesHaveNoChange(),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.totalIs(\"2.20\"),\n            Chrome.createFloatingOrder(),\n            ProductScreen.clickDisplayedProduct(\"Coca-Cola\"),\n            ProductScreen.clickPayButton(),\n            PaymentScreen.totalIs(\"2.20\"),\n            PaymentScreen.validateButtonIsHighlighted(true),\n            PaymentScreen.clickValidate(),\n        ].flat(),\n});\n"], "file": "/web/assets/0530d22/web.assets_tests.js", "sourceRoot": "../../../"}